!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self)["openapi-parser"]=t()}(this,(function(){const e="application/json, application/yaml",t="https://swagger.io",r=Object.freeze({url:"/"}),{fetch:s,Response:n,Headers:i,Request:o,FormData:a,File:c,Blob:l}=globalThis;function u(e,t){return t||"undefined"==typeof navigator||(t=navigator),t&&"ReactNative"===t.product?!(!e||"object"!=typeof e||"string"!=typeof e.uri):"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||!!ArrayBuffer.isView(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe}function p(e,t){return Array.isArray(e)&&e.some((e=>u(e,t)))}void 0===globalThis.fetch&&(globalThis.fetch=s),void 0===globalThis.Headers&&(globalThis.Headers=i),void 0===globalThis.Request&&(globalThis.Request=o),void 0===globalThis.Response&&(globalThis.Response=n),void 0===globalThis.FormData&&(globalThis.FormData=a),void 0===globalThis.File&&(globalThis.File=c),void 0===globalThis.Blob&&(globalThis.Blob=l);class h extends File{constructor(e,t="",r={}){super([e],t,r),this.data=e}valueOf(){return this.data}toString(){return this.valueOf()}}function d(e,t="reserved"){return[...e].map((e=>{if((e=>/^[a-z0-9\-._~]+$/i.test(e))(e))return e;if((e=>":/?#[]@!$&'()*+,;=".indexOf(e)>-1)(e)&&"unsafe"===t)return e;const r=new TextEncoder;return Array.from(r.encode(e)).map((e=>`0${e.toString(16).toUpperCase()}`.slice(-2))).map((e=>`%${e}`)).join("")})).join("")}function m(e){const{value:t}=e;return Array.isArray(t)?function({key:e,value:t,style:r,explode:s,escape:n}){if("simple"===r)return t.map((e=>f(e,n))).join(",");if("label"===r)return`.${t.map((e=>f(e,n))).join(".")}`;if("matrix"===r)return t.map((e=>f(e,n))).reduce(((t,r)=>!t||s?`${t||""};${e}=${r}`:`${t},${r}`),"");if("form"===r){const r=s?`&${e}=`:",";return t.map((e=>f(e,n))).join(r)}if("spaceDelimited"===r){const r=s?`${e}=`:"";return t.map((e=>f(e,n))).join(` ${r}`)}if("pipeDelimited"===r){const r=s?`${e}=`:"";return t.map((e=>f(e,n))).join(`|${r}`)}}(e):"object"==typeof t?function({key:e,value:t,style:r,explode:s,escape:n}){const i=Object.keys(t);return"simple"===r?i.reduce(((e,r)=>{const i=f(t[r],n);return`${e?`${e},`:""}${r}${s?"=":","}${i}`}),""):"label"===r?i.reduce(((e,r)=>{const i=f(t[r],n);return`${e?`${e}.`:"."}${r}${s?"=":"."}${i}`}),""):"matrix"===r&&s?i.reduce(((e,r)=>`${e?`${e};`:";"}${r}=${f(t[r],n)}`),""):"matrix"===r?i.reduce(((r,s)=>{const i=f(t[s],n);return`${r?`${r},`:`;${e}=`}${s},${i}`}),""):"form"===r?i.reduce(((e,r)=>{const i=f(t[r],n);return`${e?`${e}${s?"&":","}`:""}${r}${s?"=":","}${i}`}),""):void 0}(e):function({key:e,value:t,style:r,escape:s}){return"simple"===r?f(t,s):"label"===r?`.${f(t,s)}`:"matrix"===r?`;${e}=${f(t,s)}`:"form"===r||"deepObject"===r?f(t,s):void 0}(e)}function f(e,t=!1){return Array.isArray(e)||null!==e&&"object"==typeof e?e=JSON.stringify(e):"number"!=typeof e&&"boolean"!=typeof e||(e=String(e)),t&&e.length>0?d(e,t):e}const y={form:",",spaceDelimited:"%20",pipeDelimited:"|"},g={csv:",",ssv:"%20",tsv:"%09",pipes:"|"};function v(e,t,r=!1){const{collectionFormat:s,allowEmptyValue:n,serializationOption:i,encoding:o}=t,a="object"!=typeof t||Array.isArray(t)?t:t.value,c=r?e=>e.toString():e=>encodeURIComponent(e),l=c(e);if(void 0===a&&n)return[[l,""]];if(u(a)||p(a))return[[l,a]];if(i)return b(e,a,r,i);if(o){if([typeof o.style,typeof o.explode,typeof o.allowReserved].some((e=>"undefined"!==e))){const{style:t,explode:s,allowReserved:n}=o;return b(e,a,r,{style:t,explode:s,allowReserved:n})}if("string"==typeof o.contentType){if(o.contentType.startsWith("application/json")){const e=c("string"==typeof a?a:JSON.stringify(a));return[[l,new h(e,"blob",{type:o.contentType})]]}const e=c(String(a));return[[l,new h(e,"blob",{type:o.contentType})]]}return"object"!=typeof a?[[l,c(a)]]:Array.isArray(a)&&a.every((e=>"object"!=typeof e))?[[l,a.map(c).join(",")]]:[[l,c(JSON.stringify(a))]]}return"object"!=typeof a?[[l,c(a)]]:Array.isArray(a)?"multi"===s?[[l,a.map(c)]]:[[l,a.map(c).join(g[s||"csv"])]]:[[l,""]]}function b(e,t,r,s){const n=s.style||"form",i=void 0===s.explode?"form"===n:s.explode,o=!r&&(s&&s.allowReserved?"unsafe":"reserved"),a=e=>f(e,o),c=r?e=>e:e=>a(e);return"object"!=typeof t?[[c(e),a(t)]]:Array.isArray(t)?i?[[c(e),t.map(a)]]:[[c(e),t.map(a).join(y[n])]]:"deepObject"===n?Object.keys(t).map((r=>[c(`${e}[${r}]`),a(t[r])])):i?Object.keys(t).map((e=>[c(e),a(t[e])])):[[c(e),Object.keys(t).map((e=>[`${c(e)},${a(t[e])}`])).join(",")]]}function x(e){return((e,{encode:t=!0}={})=>{const r=(e,t,s)=>(null==s?e.append(t,""):Array.isArray(s)?s.reduce(((s,n)=>r(e,t,n)),e):s instanceof Date?e.append(t,s.toISOString()):"object"==typeof s?Object.entries(s).reduce(((s,[n,i])=>r(e,`${t}[${n}]`,i)),e):e.append(t,s),e),s=Object.entries(e).reduce(((e,[t,s])=>r(e,t,s)),new URLSearchParams),n=String(s);return t?n:decodeURIComponent(n)})(Object.keys(e).reduce(((t,r)=>{for(const[s,n]of v(r,e[r]))t[s]=n instanceof h?n.valueOf():n;return t}),{}),{encode:!1})}function w(e={}){const{url:t="",query:r,form:s}=e;if(s){const t=Object.keys(s).some((e=>{const{value:t}=s[e];return u(t)||p(t)})),r=e.headers["content-type"]||e.headers["Content-Type"];if(t||/multipart\/form-data/i.test(r)){const t=(n=e.form,Object.entries(n).reduce(((e,[t,r])=>{for(const[s,n]of v(t,r,!0))if(Array.isArray(n))for(const t of n)if(ArrayBuffer.isView(t)){const r=new Blob([t]);e.append(s,r)}else e.append(s,t);else if(ArrayBuffer.isView(n)){const t=new Blob([n]);e.append(s,t)}else e.append(s,n);return e}),new FormData));e.formdata=t,e.body=t}else e.body=x(s);delete e.form}var n;if(r){const[s,n]=t.split("?");let i="";if(n){const e=new URLSearchParams(n);Object.keys(r).forEach((t=>e.delete(t))),i=String(e)}const o=((...e)=>{const t=e.filter((e=>e)).join("&");return t?`?${t}`:""})(i,x(r));e.url=s+o,delete e.query}return e}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function E(e){return null==e}var j={isNothing:E,isObject:function(e){return"object"==typeof e&&null!==e},toArray:function(e){return Array.isArray(e)?e:E(e)?[]:[e]},repeat:function(e,t){var r,s="";for(r=0;r<t;r+=1)s+=e;return s},isNegativeZero:function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},extend:function(e,t){var r,s,n,i;if(t)for(r=0,s=(i=Object.keys(t)).length;r<s;r+=1)e[n=i[r]]=t[n];return e}};function O(e,t){var r="",s=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),s+" "+r):s}function S(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=O(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S.prototype.toString=function(e){return this.name+": "+O(this,e)};var P=S;function A(e,t,r,s,n){var i="",o="",a=Math.floor(n/2)-1;return s-t>a&&(t=s-a+(i=" ... ").length),r-s>a&&(r=s+a-(o=" ...").length),{str:i+e.slice(t,r).replace(/\t/g,"â†’")+o,pos:s-t+i.length}}function $(e,t){return j.repeat(" ",t-e.length)+e}var k=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],T=["scalar","sequence","mapping"],C=function(e,t){if(t=t||{},Object.keys(t).forEach((function(t){if(-1===k.indexOf(t))throw new P('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=function(e){var t={};return null!==e&&Object.keys(e).forEach((function(r){e[r].forEach((function(e){t[String(e)]=r}))})),t}(t.styleAliases||null),-1===T.indexOf(this.kind))throw new P('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')};function M(e,t){var r=[];return e[t].forEach((function(e){var t=r.length;r.forEach((function(r,s){r.tag===e.tag&&r.kind===e.kind&&r.multi===e.multi&&(t=s)})),r[t]=e})),r}function F(e){return this.extend(e)}F.prototype.extend=function(e){var t=[],r=[];if(e instanceof C)r.push(e);else if(Array.isArray(e))r=r.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new P("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof C))throw new P("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new P("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new P("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),r.forEach((function(e){if(!(e instanceof C))throw new P("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var s=Object.create(F.prototype);return s.implicit=(this.implicit||[]).concat(t),s.explicit=(this.explicit||[]).concat(r),s.compiledImplicit=M(s,"implicit"),s.compiledExplicit=M(s,"explicit"),s.compiledTypeMap=function(){var e,t,r={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function s(e){e.multi?(r.multi[e.kind].push(e),r.multi.fallback.push(e)):r[e.kind][e.tag]=r.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(s);return r}(s.compiledImplicit,s.compiledExplicit),s};var I=F,_=new C("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}}),R=new C("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}}),D=new C("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}}),q=new I({explicit:[_,R,D]}),N=new C("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),L=new C("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function B(e){return 48<=e&&e<=55}function U(e){return 48<=e&&e<=57}var V=new C("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,s=e.length,n=0,i=!1;if(!s)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===s)return!0;if("b"===(t=e[++n])){for(n++;n<s;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;i=!0}return i&&"_"!==t}if("x"===t){for(n++;n<s;n++)if("_"!==(t=e[n])){if(!(48<=(r=e.charCodeAt(n))&&r<=57||65<=r&&r<=70||97<=r&&r<=102))return!1;i=!0}return i&&"_"!==t}if("o"===t){for(n++;n<s;n++)if("_"!==(t=e[n])){if(!B(e.charCodeAt(n)))return!1;i=!0}return i&&"_"!==t}}if("_"===t)return!1;for(;n<s;n++)if("_"!==(t=e[n])){if(!U(e.charCodeAt(n)))return!1;i=!0}return!(!i||"_"===t)},construct:function(e){var t,r=e,s=1;if(-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),"-"!==(t=r[0])&&"+"!==t||("-"===t&&(s=-1),t=(r=r.slice(1))[0]),"0"===r)return 0;if("0"===t){if("b"===r[1])return s*parseInt(r.slice(2),2);if("x"===r[1])return s*parseInt(r.slice(2),16);if("o"===r[1])return s*parseInt(r.slice(2),8)}return s*parseInt(r,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!j.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),z=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),H=/^[-+]?[0-9]+e/,J=new C("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!z.test(e)||"_"===e[e.length-1])},construct:function(e){var t,r;return r="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===r?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:r*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||j.isNegativeZero(e))},represent:function(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(j.isNegativeZero(e))return"-0.0";return r=e.toString(10),H.test(r)?r.replace("e",".e"):r},defaultStyle:"lowercase"}),G=q.extend({implicit:[N,L,V,J]}),W=G,K=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Y=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$"),X=new C("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==K.exec(e)||null!==Y.exec(e))},construct:function(e){var t,r,s,n,i,o,a,c,l=0,u=null;if(null===(t=K.exec(e))&&(t=Y.exec(e)),null===t)throw new Error("Date resolve error");if(r=+t[1],s=+t[2]-1,n=+t[3],!t[4])return new Date(Date.UTC(r,s,n));if(i=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(u=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(u=-u)),c=new Date(Date.UTC(r,s,n,i,o,a,l)),u&&c.setTime(c.getTime()-u),c},instanceOf:Date,represent:function(e){return e.toISOString()}}),Z=new C("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}}),Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r",ee=new C("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,r,s=0,n=e.length,i=Q;for(r=0;r<n;r++)if(!((t=i.indexOf(e.charAt(r)))>64)){if(t<0)return!1;s+=6}return s%8==0},construct:function(e){var t,r,s=e.replace(/[\r\n=]/g,""),n=s.length,i=Q,o=0,a=[];for(t=0;t<n;t++)t%4==0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)),o=o<<6|i.indexOf(s.charAt(t));return 0==(r=n%4*6)?(a.push(o>>16&255),a.push(o>>8&255),a.push(255&o)):18===r?(a.push(o>>10&255),a.push(o>>2&255)):12===r&&a.push(o>>4&255),new Uint8Array(a)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,r,s="",n=0,i=e.length,o=Q;for(t=0;t<i;t++)t%3==0&&t&&(s+=o[n>>18&63],s+=o[n>>12&63],s+=o[n>>6&63],s+=o[63&n]),n=(n<<8)+e[t];return 0==(r=i%3)?(s+=o[n>>18&63],s+=o[n>>12&63],s+=o[n>>6&63],s+=o[63&n]):2===r?(s+=o[n>>10&63],s+=o[n>>4&63],s+=o[n<<2&63],s+=o[64]):1===r&&(s+=o[n>>2&63],s+=o[n<<4&63],s+=o[64],s+=o[64]),s}}),te=Object.prototype.hasOwnProperty,re=Object.prototype.toString,se=new C("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,s,n,i,o=[],a=e;for(t=0,r=a.length;t<r;t+=1){if(s=a[t],i=!1,"[object Object]"!==re.call(s))return!1;for(n in s)if(te.call(s,n)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==o.indexOf(n))return!1;o.push(n)}return!0},construct:function(e){return null!==e?e:[]}}),ne=Object.prototype.toString,ie=new C("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,r,s,n,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(s=o[t],"[object Object]"!==ne.call(s))return!1;if(1!==(n=Object.keys(s)).length)return!1;i[t]=[n[0],s[n[0]]]}return!0},construct:function(e){if(null===e)return[];var t,r,s,n,i,o=e;for(i=new Array(o.length),t=0,r=o.length;t<r;t+=1)s=o[t],n=Object.keys(s),i[t]=[n[0],s[n[0]]];return i}}),oe=Object.prototype.hasOwnProperty,ae=new C("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,r=e;for(t in r)if(oe.call(r,t)&&null!==r[t])return!1;return!0},construct:function(e){return null!==e?e:{}}}),ce=W.extend({implicit:[X,Z],explicit:[ee,se,ie,ae]}),le=Object.prototype.hasOwnProperty,ue=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,pe=/[\x85\u2028\u2029]/,he=/[,\[\]\{\}]/,de=/^(?:!|!!|![a-z\-]+!)$/i,me=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function fe(e){return Object.prototype.toString.call(e)}function ye(e){return 10===e||13===e}function ge(e){return 9===e||32===e}function ve(e){return 9===e||32===e||10===e||13===e}function be(e){return 44===e||91===e||93===e||123===e||125===e}function xe(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function we(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"Â…":95===e?"Â ":76===e?"\u2028":80===e?"\u2029":""}function Ee(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var je=new Array(256),Oe=new Array(256),Se=0;Se<256;Se++)je[Se]=we(Se)?1:0,Oe[Se]=we(Se);function Pe(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||ce,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ae(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var r,s=/\r?\n|\r|\0/g,n=[0],i=[],o=-1;r=s.exec(e.buffer);)i.push(r.index),n.push(r.index+r[0].length),e.position<=r.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a,c,l="",u=Math.min(e.line+t.linesAfter,i.length).toString().length,p=t.maxLength-(t.indent+u+3);for(a=1;a<=t.linesBefore&&!(o-a<0);a++)c=A(e.buffer,n[o-a],i[o-a],e.position-(n[o]-n[o-a]),p),l=j.repeat(" ",t.indent)+$((e.line-a+1).toString(),u)+" | "+c.str+"\n"+l;for(c=A(e.buffer,n[o],i[o],e.position,p),l+=j.repeat(" ",t.indent)+$((e.line+1).toString(),u)+" | "+c.str+"\n",l+=j.repeat("-",t.indent+u+3+c.pos)+"^\n",a=1;a<=t.linesAfter&&!(o+a>=i.length);a++)c=A(e.buffer,n[o+a],i[o+a],e.position-(n[o]-n[o+a]),p),l+=j.repeat(" ",t.indent)+$((e.line+a+1).toString(),u)+" | "+c.str+"\n";return l.replace(/\n$/,"")}(r),new P(t,r)}function $e(e,t){throw Ae(e,t)}function ke(e,t){e.onWarning&&e.onWarning.call(null,Ae(e,t))}var Te={YAML:function(e,t,r){var s,n,i;null!==e.version&&$e(e,"duplication of %YAML directive"),1!==r.length&&$e(e,"YAML directive accepts exactly one argument"),null===(s=/^([0-9]+)\.([0-9]+)$/.exec(r[0]))&&$e(e,"ill-formed argument of the YAML directive"),n=parseInt(s[1],10),i=parseInt(s[2],10),1!==n&&$e(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&ke(e,"unsupported YAML version of the document")},TAG:function(e,t,r){var s,n;2!==r.length&&$e(e,"TAG directive accepts exactly two arguments"),s=r[0],n=r[1],de.test(s)||$e(e,"ill-formed tag handle (first argument) of the TAG directive"),le.call(e.tagMap,s)&&$e(e,'there is a previously declared suffix for "'+s+'" tag handle'),me.test(n)||$e(e,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch(t){$e(e,"tag prefix is malformed: "+n)}e.tagMap[s]=n}};function Ce(e,t,r,s){var n,i,o,a;if(t<r){if(a=e.input.slice(t,r),s)for(n=0,i=a.length;n<i;n+=1)9===(o=a.charCodeAt(n))||32<=o&&o<=1114111||$e(e,"expected valid JSON character");else ue.test(a)&&$e(e,"the stream contains non-printable characters");e.result+=a}}function Me(e,t,r,s){var n,i,o,a;for(j.isObject(r)||$e(e,"cannot merge mappings; the provided source object is unacceptable"),o=0,a=(n=Object.keys(r)).length;o<a;o+=1)i=n[o],le.call(t,i)||(t[i]=r[i],s[i]=!0)}function Fe(e,t,r,s,n,i,o,a,c){var l,u;if(Array.isArray(n))for(l=0,u=(n=Array.prototype.slice.call(n)).length;l<u;l+=1)Array.isArray(n[l])&&$e(e,"nested arrays are not supported inside keys"),"object"==typeof n&&"[object Object]"===fe(n[l])&&(n[l]="[object Object]");if("object"==typeof n&&"[object Object]"===fe(n)&&(n="[object Object]"),n=String(n),null===t&&(t={}),"tag:yaml.org,2002:merge"===s)if(Array.isArray(i))for(l=0,u=i.length;l<u;l+=1)Me(e,t,i[l],r);else Me(e,t,i,r);else e.json||le.call(r,n)||!le.call(t,n)||(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,$e(e,"duplicated mapping key")),"__proto__"===n?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[n]=i,delete r[n];return t}function Ie(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):$e(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function _e(e,t,r){for(var s=0,n=e.input.charCodeAt(e.position);0!==n;){for(;ge(n);)9===n&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&35===n)do{n=e.input.charCodeAt(++e.position)}while(10!==n&&13!==n&&0!==n);if(!ye(n))break;for(Ie(e),n=e.input.charCodeAt(e.position),s++,e.lineIndent=0;32===n;)e.lineIndent++,n=e.input.charCodeAt(++e.position)}return-1!==r&&0!==s&&e.lineIndent<r&&ke(e,"deficient indentation"),s}function Re(e){var t,r=e.position;return!(45!==(t=e.input.charCodeAt(r))&&46!==t||t!==e.input.charCodeAt(r+1)||t!==e.input.charCodeAt(r+2)||(r+=3,0!==(t=e.input.charCodeAt(r))&&!ve(t)))}function De(e,t){1===t?e.result+=" ":t>1&&(e.result+=j.repeat("\n",t-1))}function qe(e,t){var r,s,n=e.tag,i=e.anchor,o=[],a=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=o),s=e.input.charCodeAt(e.position);0!==s&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,$e(e,"tab characters must not be used in indentation")),45===s)&&ve(e.input.charCodeAt(e.position+1));)if(a=!0,e.position++,_e(e,!0,-1)&&e.lineIndent<=t)o.push(null),s=e.input.charCodeAt(e.position);else if(r=e.line,Be(e,t,3,!1,!0),o.push(e.result),_e(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&0!==s)$e(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!a&&(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0)}function Ne(e){var t,r,s,n,i=!1,o=!1;if(33!==(n=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&$e(e,"duplication of a tag property"),60===(n=e.input.charCodeAt(++e.position))?(i=!0,n=e.input.charCodeAt(++e.position)):33===n?(o=!0,r="!!",n=e.input.charCodeAt(++e.position)):r="!",t=e.position,i){do{n=e.input.charCodeAt(++e.position)}while(0!==n&&62!==n);e.position<e.length?(s=e.input.slice(t,e.position),n=e.input.charCodeAt(++e.position)):$e(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==n&&!ve(n);)33===n&&(o?$e(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),de.test(r)||$e(e,"named tag handle cannot contain such characters"),o=!0,t=e.position+1)),n=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),he.test(s)&&$e(e,"tag suffix cannot contain flow indicator characters")}s&&!me.test(s)&&$e(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch(t){$e(e,"tag name is malformed: "+s)}return i?e.tag=s:le.call(e.tagMap,r)?e.tag=e.tagMap[r]+s:"!"===r?e.tag="!"+s:"!!"===r?e.tag="tag:yaml.org,2002:"+s:$e(e,'undeclared tag handle "'+r+'"'),!0}function Le(e){var t,r;if(38!==(r=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&$e(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!ve(r)&&!be(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&$e(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Be(e,t,r,s,n){var i,o,a,c,l,u,p,h,d,m=1,f=!1,y=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,i=o=a=4===r||3===r,s&&_e(e,!0,-1)&&(f=!0,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)),1===m)for(;Ne(e)||Le(e);)_e(e,!0,-1)?(f=!0,a=i,e.lineIndent>t?m=1:e.lineIndent===t?m=0:e.lineIndent<t&&(m=-1)):a=!1;if(a&&(a=f||n),1!==m&&4!==r||(h=1===r||2===r?t:t+1,d=e.position-e.lineStart,1===m?a&&(qe(e,d)||function(e,t,r){var s,n,i,o,a,c,l,u=e.tag,p=e.anchor,h={},d=Object.create(null),m=null,f=null,y=null,g=!1,v=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),l=e.input.charCodeAt(e.position);0!==l;){if(g||-1===e.firstTabInLine||(e.position=e.firstTabInLine,$e(e,"tab characters must not be used in indentation")),s=e.input.charCodeAt(e.position+1),i=e.line,63!==l&&58!==l||!ve(s)){if(o=e.line,a=e.lineStart,c=e.position,!Be(e,r,2,!1,!0))break;if(e.line===i){for(l=e.input.charCodeAt(e.position);ge(l);)l=e.input.charCodeAt(++e.position);if(58===l)ve(l=e.input.charCodeAt(++e.position))||$e(e,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(Fe(e,h,d,m,f,null,o,a,c),m=f=y=null),v=!0,g=!1,n=!1,m=e.tag,f=e.result;else{if(!v)return e.tag=u,e.anchor=p,!0;$e(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return e.tag=u,e.anchor=p,!0;$e(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(g&&(Fe(e,h,d,m,f,null,o,a,c),m=f=y=null),v=!0,g=!0,n=!0):g?(g=!1,n=!0):$e(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,l=s;if((e.line===i||e.lineIndent>t)&&(g&&(o=e.line,a=e.lineStart,c=e.position),Be(e,t,4,!0,n)&&(g?f=e.result:y=e.result),g||(Fe(e,h,d,m,f,y,o,a,c),m=f=y=null),_e(e,!0,-1),l=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==l)$e(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return g&&Fe(e,h,d,m,f,null,o,a,c),v&&(e.tag=u,e.anchor=p,e.kind="mapping",e.result=h),v}(e,d,h))||function(e,t){var r,s,n,i,o,a,c,l,u,p,h,d,m=!0,f=e.tag,y=e.anchor,g=Object.create(null);if(91===(d=e.input.charCodeAt(e.position)))o=93,l=!1,i=[];else{if(123!==d)return!1;o=125,l=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),d=e.input.charCodeAt(++e.position);0!==d;){if(_e(e,!0,t),(d=e.input.charCodeAt(e.position))===o)return e.position++,e.tag=f,e.anchor=y,e.kind=l?"mapping":"sequence",e.result=i,!0;m?44===d&&$e(e,"expected the node content, but found ','"):$e(e,"missed comma between flow collection entries"),h=null,a=c=!1,63===d&&ve(e.input.charCodeAt(e.position+1))&&(a=c=!0,e.position++,_e(e,!0,t)),r=e.line,s=e.lineStart,n=e.position,Be(e,t,1,!1,!0),p=e.tag,u=e.result,_e(e,!0,t),d=e.input.charCodeAt(e.position),!c&&e.line!==r||58!==d||(a=!0,d=e.input.charCodeAt(++e.position),_e(e,!0,t),Be(e,t,1,!1,!0),h=e.result),l?Fe(e,i,g,p,u,h,r,s,n):a?i.push(Fe(e,null,g,p,u,h,r,s,n)):i.push(u),_e(e,!0,t),44===(d=e.input.charCodeAt(e.position))?(m=!0,d=e.input.charCodeAt(++e.position)):m=!1}$e(e,"unexpected end of the stream within a flow collection")}(e,h)?y=!0:(o&&function(e,t){var r,s,n,i,o,a=1,c=!1,l=!1,u=t,p=0,h=!1;if(124===(i=e.input.charCodeAt(e.position)))s=!1;else{if(62!==i)return!1;s=!0}for(e.kind="scalar",e.result="";0!==i;)if(43===(i=e.input.charCodeAt(++e.position))||45===i)1===a?a=43===i?3:2:$e(e,"repeat of a chomping mode identifier");else{if(!((n=48<=(o=i)&&o<=57?o-48:-1)>=0))break;0===n?$e(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?$e(e,"repeat of an indentation width identifier"):(u=t+n-1,l=!0)}if(ge(i)){do{i=e.input.charCodeAt(++e.position)}while(ge(i));if(35===i)do{i=e.input.charCodeAt(++e.position)}while(!ye(i)&&0!==i)}for(;0!==i;){for(Ie(e),e.lineIndent=0,i=e.input.charCodeAt(e.position);(!l||e.lineIndent<u)&&32===i;)e.lineIndent++,i=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>u&&(u=e.lineIndent),ye(i))p++;else{if(e.lineIndent<u){3===a?e.result+=j.repeat("\n",c?1+p:p):1===a&&c&&(e.result+="\n");break}for(s?ge(i)?(h=!0,e.result+=j.repeat("\n",c?1+p:p)):h?(h=!1,e.result+=j.repeat("\n",p+1)):0===p?c&&(e.result+=" "):e.result+=j.repeat("\n",p):e.result+=j.repeat("\n",c?1+p:p),c=!0,l=!0,p=0,r=e.position;!ye(i)&&0!==i;)i=e.input.charCodeAt(++e.position);Ce(e,r,e.position,!1)}}return!0}(e,h)||function(e,t){var r,s,n;if(39!==(r=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,s=n=e.position;0!==(r=e.input.charCodeAt(e.position));)if(39===r){if(Ce(e,s,e.position,!0),39!==(r=e.input.charCodeAt(++e.position)))return!0;s=e.position,e.position++,n=e.position}else ye(r)?(Ce(e,s,n,!0),De(e,_e(e,!1,t)),s=n=e.position):e.position===e.lineStart&&Re(e)?$e(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);$e(e,"unexpected end of the stream within a single quoted scalar")}(e,h)||function(e,t){var r,s,n,i,o,a,c;if(34!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=s=e.position;0!==(a=e.input.charCodeAt(e.position));){if(34===a)return Ce(e,r,e.position,!0),e.position++,!0;if(92===a){if(Ce(e,r,e.position,!0),ye(a=e.input.charCodeAt(++e.position)))_e(e,!1,t);else if(a<256&&je[a])e.result+=Oe[a],e.position++;else if((o=120===(c=a)?2:117===c?4:85===c?8:0)>0){for(n=o,i=0;n>0;n--)(o=xe(a=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+o:$e(e,"expected hexadecimal character");e.result+=Ee(i),e.position++}else $e(e,"unknown escape sequence");r=s=e.position}else ye(a)?(Ce(e,r,s,!0),De(e,_e(e,!1,t)),r=s=e.position):e.position===e.lineStart&&Re(e)?$e(e,"unexpected end of the document within a double quoted scalar"):(e.position++,s=e.position)}$e(e,"unexpected end of the stream within a double quoted scalar")}(e,h)?y=!0:function(e){var t,r,s;if(42!==(s=e.input.charCodeAt(e.position)))return!1;for(s=e.input.charCodeAt(++e.position),t=e.position;0!==s&&!ve(s)&&!be(s);)s=e.input.charCodeAt(++e.position);return e.position===t&&$e(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),le.call(e.anchorMap,r)||$e(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],_e(e,!0,-1),!0}(e)?(y=!0,null===e.tag&&null===e.anchor||$e(e,"alias node should not have any properties")):function(e,t,r){var s,n,i,o,a,c,l,u,p=e.kind,h=e.result;if(ve(u=e.input.charCodeAt(e.position))||be(u)||35===u||38===u||42===u||33===u||124===u||62===u||39===u||34===u||37===u||64===u||96===u)return!1;if((63===u||45===u)&&(ve(s=e.input.charCodeAt(e.position+1))||r&&be(s)))return!1;for(e.kind="scalar",e.result="",n=i=e.position,o=!1;0!==u;){if(58===u){if(ve(s=e.input.charCodeAt(e.position+1))||r&&be(s))break}else if(35===u){if(ve(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&Re(e)||r&&be(u))break;if(ye(u)){if(a=e.line,c=e.lineStart,l=e.lineIndent,_e(e,!1,-1),e.lineIndent>=t){o=!0,u=e.input.charCodeAt(e.position);continue}e.position=i,e.line=a,e.lineStart=c,e.lineIndent=l;break}}o&&(Ce(e,n,i,!1),De(e,e.line-a),n=i=e.position,o=!1),ge(u)||(i=e.position+1),u=e.input.charCodeAt(++e.position)}return Ce(e,n,i,!1),!!e.result||(e.kind=p,e.result=h,!1)}(e,h,1===r)&&(y=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===m&&(y=a&&qe(e,d))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&$e(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),c=0,l=e.implicitTypes.length;c<l;c+=1)if((p=e.implicitTypes[c]).resolve(e.result)){e.result=p.construct(e.result),e.tag=p.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(le.call(e.typeMap[e.kind||"fallback"],e.tag))p=e.typeMap[e.kind||"fallback"][e.tag];else for(p=null,c=0,l=(u=e.typeMap.multi[e.kind||"fallback"]).length;c<l;c+=1)if(e.tag.slice(0,u[c].tag.length)===u[c].tag){p=u[c];break}p||$e(e,"unknown tag !<"+e.tag+">"),null!==e.result&&p.kind!==e.kind&&$e(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+p.kind+'", not "'+e.kind+'"'),p.resolve(e.result,e.tag)?(e.result=p.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):$e(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||y}function Ue(e){var t,r,s,n,i=e.position,o=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(n=e.input.charCodeAt(e.position))&&(_e(e,!0,-1),n=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==n));){for(o=!0,n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!ve(n);)n=e.input.charCodeAt(++e.position);for(s=[],(r=e.input.slice(t,e.position)).length<1&&$e(e,"directive name must not be less than one character in length");0!==n;){for(;ge(n);)n=e.input.charCodeAt(++e.position);if(35===n){do{n=e.input.charCodeAt(++e.position)}while(0!==n&&!ye(n));break}if(ye(n))break;for(t=e.position;0!==n&&!ve(n);)n=e.input.charCodeAt(++e.position);s.push(e.input.slice(t,e.position))}0!==n&&Ie(e),le.call(Te,r)?Te[r](e,r,s):ke(e,'unknown document directive "'+r+'"')}_e(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,_e(e,!0,-1)):o&&$e(e,"directives end mark is expected"),Be(e,e.lineIndent-1,4,!1,!0),_e(e,!0,-1),e.checkLineBreaks&&pe.test(e.input.slice(i,e.position))&&ke(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Re(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,_e(e,!0,-1)):e.position<e.length-1&&$e(e,"end of the stream or a document separator is expected")}function Ve(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var r=new Pe(e,t),s=e.indexOf("\0");for(-1!==s&&(r.position=s,$e(r,"null byte is not allowed in input")),r.input+="\0";32===r.input.charCodeAt(r.position);)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Ue(r);return r.documents}var ze=function(e,t,r){null!==t&&"object"==typeof t&&void 0===r&&(r=t,t=null);var s=Ve(e,r);if("function"!=typeof t)return s;for(var n=0,i=s.length;n<i;n+=1)t(s[n])},He=function(e,t){var r=Ve(e,t);if(0!==r.length){if(1===r.length)return r[0];throw new P("expected a single document in the stream, but found more")}},Je=Object.prototype.toString,Ge=Object.prototype.hasOwnProperty,We=65279,Ke={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Ye=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Xe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ze(e){var t,r,s;if(t=e.toString(16).toUpperCase(),e<=255)r="x",s=2;else if(e<=65535)r="u",s=4;else{if(!(e<=4294967295))throw new P("code point within a string may not be greater than 0xFFFFFFFF");r="U",s=8}return"\\"+r+j.repeat("0",s-t.length)+t}function Qe(e){this.schema=e.schema||ce,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=j.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var r,s,n,i,o,a,c;if(null===t)return{};for(r={},n=0,i=(s=Object.keys(t)).length;n<i;n+=1)o=s[n],a=String(t[o]),"!!"===o.slice(0,2)&&(o="tag:yaml.org,2002:"+o.slice(2)),(c=e.compiledTypeMap.fallback[o])&&Ge.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[o]=a;return r}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?2:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function et(e,t){for(var r,s=j.repeat(" ",t),n=0,i=-1,o="",a=e.length;n<a;)-1===(i=e.indexOf("\n",n))?(r=e.slice(n),n=a):(r=e.slice(n,i+1),n=i+1),r.length&&"\n"!==r&&(o+=s),o+=r;return o}function tt(e,t){return"\n"+j.repeat(" ",e.indent*t)}function rt(e){return 32===e||9===e}function st(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==We||65536<=e&&e<=1114111}function nt(e){return st(e)&&e!==We&&13!==e&&10!==e}function it(e,t,r){var s=nt(e),n=s&&!rt(e);return(r?s:s&&44!==e&&91!==e&&93!==e&&123!==e&&125!==e)&&35!==e&&!(58===t&&!n)||nt(t)&&!rt(t)&&35===e||58===t&&n}function ot(e,t){var r,s=e.charCodeAt(t);return s>=55296&&s<=56319&&t+1<e.length&&(r=e.charCodeAt(t+1))>=56320&&r<=57343?1024*(s-55296)+r-56320+65536:s}function at(e){return/^\n* /.test(e)}function ct(e,t,r,s,n){e.dump=function(){if(0===t.length)return 2===e.quotingType?'""':"''";if(!e.noCompatMode&&(-1!==Ye.indexOf(t)||Xe.test(t)))return 2===e.quotingType?'"'+t+'"':"'"+t+"'";var i=e.indent*Math.max(1,r),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-i),a=s||e.flowLevel>-1&&r>=e.flowLevel;switch(function(e,t,r,s,n,i,o,a){var c,l,u=0,p=null,h=!1,d=!1,m=-1!==s,f=-1,y=st(l=ot(e,0))&&l!==We&&!rt(l)&&45!==l&&63!==l&&58!==l&&44!==l&&91!==l&&93!==l&&123!==l&&125!==l&&35!==l&&38!==l&&42!==l&&33!==l&&124!==l&&61!==l&&62!==l&&39!==l&&34!==l&&37!==l&&64!==l&&96!==l&&function(e){return!rt(e)&&58!==e}(ot(e,e.length-1));if(t||o)for(c=0;c<e.length;u>=65536?c+=2:c++){if(!st(u=ot(e,c)))return 5;y=y&&it(u,p,a),p=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(10===(u=ot(e,c)))h=!0,m&&(d=d||c-f-1>s&&" "!==e[f+1],f=c);else if(!st(u))return 5;y=y&&it(u,p,a),p=u}d=d||m&&c-f-1>s&&" "!==e[f+1]}return h||d?r>9&&at(e)?5:o?2===i?5:2:d?4:3:!y||o||n(e)?2===i?5:2:1}(t,a,e.indent,o,(function(t){return function(e,t){var r,s;for(r=0,s=e.implicitTypes.length;r<s;r+=1)if(e.implicitTypes[r].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!s,n)){case 1:return t;case 2:return"'"+t.replace(/'/g,"''")+"'";case 3:return"|"+lt(t,e.indent)+ut(et(t,i));case 4:return">"+lt(t,e.indent)+ut(et(function(e,t){for(var r,s,n,i=/(\n+)([^\n]*)/g,o=(n=-1!==(n=e.indexOf("\n"))?n:e.length,i.lastIndex=n,pt(e.slice(0,n),t)),a="\n"===e[0]||" "===e[0];s=i.exec(e);){var c=s[1],l=s[2];r=" "===l[0],o+=c+(a||r||""===l?"":"\n")+pt(l,t),a=r}return o}(t,o),i));case 5:return'"'+function(e){for(var t,r="",s=0,n=0;n<e.length;s>=65536?n+=2:n++)s=ot(e,n),!(t=Ke[s])&&st(s)?(r+=e[n],s>=65536&&(r+=e[n+1])):r+=t||Ze(s);return r}(t)+'"';default:throw new P("impossible error: invalid scalar style")}}()}function lt(e,t){var r=at(e)?String(t):"",s="\n"===e[e.length-1];return r+(!s||"\n"!==e[e.length-2]&&"\n"!==e?s?"":"-":"+")+"\n"}function ut(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function pt(e,t){if(""===e||" "===e[0])return e;for(var r,s,n=/ [^ ]/g,i=0,o=0,a=0,c="";r=n.exec(e);)(a=r.index)-i>t&&(s=o>i?o:a,c+="\n"+e.slice(i,s),i=s+1),o=a;return c+="\n",e.length-i>t&&o>i?c+=e.slice(i,o)+"\n"+e.slice(o+1):c+=e.slice(i),c.slice(1)}function ht(e,t,r,s){var n,i,o,a="",c=e.tag;for(n=0,i=r.length;n<i;n+=1)o=r[n],e.replacer&&(o=e.replacer.call(r,String(n),o)),(mt(e,t+1,o,!0,!0,!1,!0)||void 0===o&&mt(e,t+1,null,!0,!0,!1,!0))&&(s&&""===a||(a+=tt(e,t)),e.dump&&10===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=c,e.dump=a||"[]"}function dt(e,t,r){var s,n,i,o,a,c;for(i=0,o=(n=r?e.explicitTypes:e.implicitTypes).length;i<o;i+=1)if(((a=n[i]).instanceOf||a.predicate)&&(!a.instanceOf||"object"==typeof t&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,"[object Function]"===Je.call(a.represent))s=a.represent(t,c);else{if(!Ge.call(a.represent,c))throw new P("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');s=a.represent[c](t,c)}e.dump=s}return!0}return!1}function mt(e,t,r,s,n,i,o){e.tag=null,e.dump=r,dt(e,r,!1)||dt(e,r,!0);var a,c=Je.call(e.dump),l=s;s&&(s=e.flowLevel<0||e.flowLevel>t);var u,p,h="[object Object]"===c||"[object Array]"===c;if(h&&(p=-1!==(u=e.duplicates.indexOf(r))),(null!==e.tag&&"?"!==e.tag||p||2!==e.indent&&t>0)&&(n=!1),p&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(h&&p&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),"[object Object]"===c)s&&0!==Object.keys(e.dump).length?(function(e,t,r,s){var n,i,o,a,c,l,u="",p=e.tag,h=Object.keys(r);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new P("sortKeys must be a boolean or a function");for(n=0,i=h.length;n<i;n+=1)l="",s&&""===u||(l+=tt(e,t)),a=r[o=h[n]],e.replacer&&(a=e.replacer.call(r,o,a)),mt(e,t+1,o,!0,!0,!0)&&((c=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&10===e.dump.charCodeAt(0)?l+="?":l+="? "),l+=e.dump,c&&(l+=tt(e,t)),mt(e,t+1,a,!0,c)&&(e.dump&&10===e.dump.charCodeAt(0)?l+=":":l+=": ",u+=l+=e.dump));e.tag=p,e.dump=u||"{}"}(e,t,e.dump,n),p&&(e.dump="&ref_"+u+e.dump)):(function(e,t,r){var s,n,i,o,a,c="",l=e.tag,u=Object.keys(r);for(s=0,n=u.length;s<n;s+=1)a="",""!==c&&(a+=", "),e.condenseFlow&&(a+='"'),o=r[i=u[s]],e.replacer&&(o=e.replacer.call(r,i,o)),mt(e,t,i,!1,!1)&&(e.dump.length>1024&&(a+="? "),a+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),mt(e,t,o,!1,!1)&&(c+=a+=e.dump));e.tag=l,e.dump="{"+c+"}"}(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else if("[object Array]"===c)s&&0!==e.dump.length?(e.noArrayIndent&&!o&&t>0?ht(e,t-1,e.dump,n):ht(e,t,e.dump,n),p&&(e.dump="&ref_"+u+e.dump)):(function(e,t,r){var s,n,i,o="",a=e.tag;for(s=0,n=r.length;s<n;s+=1)i=r[s],e.replacer&&(i=e.replacer.call(r,String(s),i)),(mt(e,t,i,!1,!1)||void 0===i&&mt(e,t,null,!1,!1))&&(""!==o&&(o+=","+(e.condenseFlow?"":" ")),o+=e.dump);e.tag=a,e.dump="["+o+"]"}(e,t,e.dump),p&&(e.dump="&ref_"+u+" "+e.dump));else{if("[object String]"!==c){if("[object Undefined]"===c)return!1;if(e.skipInvalid)return!1;throw new P("unacceptable kind of an object to dump "+c)}"?"!==e.tag&&ct(e,e.dump,t,i,l)}null!==e.tag&&"?"!==e.tag&&(a=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),a="!"===e.tag[0]?"!"+a:"tag:yaml.org,2002:"===a.slice(0,18)?"!!"+a.slice(18):"!<"+a+">",e.dump=a+" "+e.dump)}return!0}function ft(e,t){var r,s,n=[],i=[];for(yt(e,n,i),r=0,s=i.length;r<s;r+=1)t.duplicates.push(n[i[r]]);t.usedDuplicates=new Array(s)}function yt(e,t,r){var s,n,i;if(null!==e&&"object"==typeof e)if(-1!==(n=t.indexOf(e)))-1===r.indexOf(n)&&r.push(n);else if(t.push(e),Array.isArray(e))for(n=0,i=e.length;n<i;n+=1)yt(e[n],t,r);else for(n=0,i=(s=Object.keys(e)).length;n<i;n+=1)yt(e[s[n]],t,r)}function gt(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var vt=C,bt=I,xt=q,wt=G,Et=W,jt=ce,Ot=He,St=ze,Pt=function(e,t){var r=new Qe(t=t||{});r.noRefs||ft(e,r);var s=e;return r.replacer&&(s=r.replacer.call({"":s},"",s)),mt(r,0,s,!0,!0)?r.dump+"\n":""},At=P,$t={binary:ee,float:J,map:D,null:N,pairs:ie,set:ae,timestamp:X,bool:L,int:V,merge:Z,omap:se,seq:R,str:_},kt=gt("safeLoad","load"),Tt=gt("safeLoadAll","loadAll"),Ct=gt("safeDump","dump"),Mt={Type:vt,Schema:bt,FAILSAFE_SCHEMA:xt,JSON_SCHEMA:wt,CORE_SCHEMA:Et,DEFAULT_SCHEMA:jt,load:Ot,loadAll:St,dump:Pt,YAMLException:At,types:$t,safeLoad:kt,safeLoadAll:Tt,safeDump:Ct};function Ft(e={}){return"function"!=typeof e.entries?{}:Array.from(e.entries()).reduce(((e,[t,r])=>(e[t]=function(e){return e.includes(", ")?e.split(", "):e}(r),e)),{})}function It(e,t,{loadSpec:r=!1}={}){const s={ok:e.ok,url:e.url||t,status:e.status,statusText:e.statusText,headers:Ft(e.headers)},n=s.headers["content-type"],i=r||((e="")=>/(json|xml|yaml|text)\b/.test(e))(n);return(i?e.text:e.blob||e.buffer).call(e).then((e=>{if(s.text=e,s.data=e,i)try{const t=function(e,t){return t&&(0===t.indexOf("application/json")||t.indexOf("+json")>0)?JSON.parse(e):Mt.load(e)}(e,n);s.body=t,s.obj=t}catch(e){s.parseError=e}return s}))}async function _t(e,t={}){"object"==typeof e&&(e=(t=e).url),t.headers=t.headers||{},(t=w(t)).headers&&Object.keys(t.headers).forEach((e=>{const r=t.headers[e];"string"==typeof r&&(t.headers[e]=r.replace(/\n+/g," "))})),t.requestInterceptor&&(t=await t.requestInterceptor(t)||t);const r=t.headers["content-type"]||t.headers["Content-Type"];let s;/multipart\/form-data/i.test(r)&&(delete t.headers["content-type"],delete t.headers["Content-Type"]);try{s=await(t.userFetch||fetch)(t.url,t),s=await It(s,e,t),t.responseInterceptor&&(s=await t.responseInterceptor(s)||s)}catch(e){if(!s)throw e;const t=new Error(s.statusText||`response status is ${s.status}`);throw t.status=s.status,t.statusCode=s.status,t.responseError=e,t}if(!s.ok){const e=new Error(s.statusText||`response status is ${s.status}`);throw e.status=s.status,e.statusCode=s.status,e.response=s,e}return s}function Rt(t,r={}){const{requestInterceptor:s,responseInterceptor:n}=r,i=t.withCredentials?"include":"same-origin";return r=>t({url:r,loadSpec:!0,requestInterceptor:s,responseInterceptor:n,headers:{Accept:e},credentials:i}).then((e=>e.body))}const Dt=e=>{var t,r;const{baseDoc:s,url:n}=e,i=null!==(t=null!=s?s:n)&&void 0!==t?t:"";return"string"==typeof(null===(r=globalThis.document)||void 0===r?void 0:r.baseURI)?String(new URL(i,globalThis.document.baseURI)):i},qt=e=>{const{fetch:t,http:r}=e;return t||r||_t};
/*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2022 Joachim Wester
   * MIT licensed
   */var Nt,Lt=(Nt=function(e,t){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Nt(e,t)},function(e,t){function r(){this.constructor=e}Nt(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Bt=Object.prototype.hasOwnProperty;function Ut(e,t){return Bt.call(e,t)}function Vt(e){if(Array.isArray(e)){for(var t=new Array(e.length),r=0;r<t.length;r++)t[r]=""+r;return t}if(Object.keys)return Object.keys(e);var s=[];for(var n in e)Ut(e,n)&&s.push(n);return s}function zt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Ht(e){for(var t,r=0,s=e.length;r<s;){if(!((t=e.charCodeAt(r))>=48&&t<=57))return!1;r++}return!0}function Jt(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Gt(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Wt(e){if(void 0===e)return!0;if(e)if(Array.isArray(e)){for(var t=0,r=e.length;t<r;t++)if(Wt(e[t]))return!0}else if("object"==typeof e)for(var s=Vt(e),n=s.length,i=0;i<n;i++)if(Wt(e[s[i]]))return!0;return!1}function Kt(e,t){var r=[e];for(var s in t){var n="object"==typeof t[s]?JSON.stringify(t[s],null,2):t[s];void 0!==n&&r.push(s+": "+n)}return r.join("\n")}var Yt=function(e){function t(t,r,s,n,i){var o=this.constructor,a=e.call(this,Kt(t,{name:r,index:s,operation:n,tree:i}))||this;return a.name=r,a.index=s,a.operation=n,a.tree=i,Object.setPrototypeOf(a,o.prototype),a.message=Kt(t,{name:r,index:s,operation:n,tree:i}),a}return Lt(t,e),t}(Error),Xt=Yt,Zt=zt,Qt={add:function(e,t,r){return e[t]=this.value,{newDocument:r}},remove:function(e,t,r){var s=e[t];return delete e[t],{newDocument:r,removed:s}},replace:function(e,t,r){var s=e[t];return e[t]=this.value,{newDocument:r,removed:s}},move:function(e,t,r){var s=tr(r,this.path);s&&(s=zt(s));var n=rr(r,{op:"remove",path:this.from}).removed;return rr(r,{op:"add",path:this.path,value:n}),{newDocument:r,removed:s}},copy:function(e,t,r){var s=tr(r,this.from);return rr(r,{op:"add",path:this.path,value:zt(s)}),{newDocument:r}},test:function(e,t,r){return{newDocument:r,test:or(e[t],this.value)}},_get:function(e,t,r){return this.value=e[t],{newDocument:r}}},er={add:function(e,t,r){return Ht(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:r,index:t}},remove:function(e,t,r){return{newDocument:r,removed:e.splice(t,1)[0]}},replace:function(e,t,r){var s=e[t];return e[t]=this.value,{newDocument:r,removed:s}},move:Qt.move,copy:Qt.copy,test:Qt.test,_get:Qt._get};function tr(e,t){if(""==t)return e;var r={op:"_get",path:t};return rr(e,r),r.value}function rr(e,t,r,s,n,i){if(void 0===r&&(r=!1),void 0===s&&(s=!0),void 0===n&&(n=!0),void 0===i&&(i=0),r&&("function"==typeof r?r(t,0,e,t.path):nr(t,0)),""===t.path){var o={newDocument:e};if("add"===t.op)return o.newDocument=t.value,o;if("replace"===t.op)return o.newDocument=t.value,o.removed=e,o;if("move"===t.op||"copy"===t.op)return o.newDocument=tr(e,t.from),"move"===t.op&&(o.removed=e),o;if("test"===t.op){if(o.test=or(e,t.value),!1===o.test)throw new Xt("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o.newDocument=e,o}if("remove"===t.op)return o.removed=e,o.newDocument=null,o;if("_get"===t.op)return t.value=e,o;if(r)throw new Xt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",i,t,e);return o}s||(e=zt(e));var a=(t.path||"").split("/"),c=e,l=1,u=a.length,p=void 0,h=void 0,d=void 0;for(d="function"==typeof r?r:nr;;){if((h=a[l])&&-1!=h.indexOf("~")&&(h=Gt(h)),n&&("__proto__"==h||"prototype"==h&&l>0&&"constructor"==a[l-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(r&&void 0===p&&(void 0===c[h]?p=a.slice(0,l).join("/"):l==u-1&&(p=t.path),void 0!==p&&d(t,0,e,p)),l++,Array.isArray(c)){if("-"===h)h=c.length;else{if(r&&!Ht(h))throw new Xt("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",i,t,e);Ht(h)&&(h=~~h)}if(l>=u){if(r&&"add"===t.op&&h>c.length)throw new Xt("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",i,t,e);if(!1===(o=er[t.op].call(t,c,h,e)).test)throw new Xt("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o}}else if(l>=u){if(!1===(o=Qt[t.op].call(t,c,h,e)).test)throw new Xt("Test operation failed","TEST_OPERATION_FAILED",i,t,e);return o}if(c=c[h],r&&l<u&&(!c||"object"!=typeof c))throw new Xt("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",i,t,e)}}function sr(e,t,r,s,n){if(void 0===s&&(s=!0),void 0===n&&(n=!0),r&&!Array.isArray(t))throw new Xt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");s||(e=zt(e));for(var i=new Array(t.length),o=0,a=t.length;o<a;o++)i[o]=rr(e,t[o],r,!0,n,o),e=i[o].newDocument;return i.newDocument=e,i}function nr(e,t,r,s){if("object"!=typeof e||null===e||Array.isArray(e))throw new Xt("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,r);if(!Qt[e.op])throw new Xt("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,r);if("string"!=typeof e.path)throw new Xt("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,r);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new Xt('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,r);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new Xt("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new Xt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,r);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&Wt(e.value))throw new Xt("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,r);if(r)if("add"==e.op){var n=e.path.split("/").length,i=s.split("/").length;if(n!==i+1&&n!==i)throw new Xt("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,r)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==s)throw new Xt("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,r)}else if("move"===e.op||"copy"===e.op){var o=ir([{op:"_get",path:e.from,value:void 0}],r);if(o&&"OPERATION_PATH_UNRESOLVABLE"===o.name)throw new Xt("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,r)}}function ir(e,t,r){try{if(!Array.isArray(e))throw new Xt("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)sr(zt(t),zt(e),r||!0);else{r=r||nr;for(var s=0;s<e.length;s++)r(e[s],s,t,void 0)}}catch(e){if(e instanceof Xt)return e;throw e}}function or(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var r,s,n,i=Array.isArray(e),o=Array.isArray(t);if(i&&o){if((s=e.length)!=t.length)return!1;for(r=s;0!=r--;)if(!or(e[r],t[r]))return!1;return!0}if(i!=o)return!1;var a=Object.keys(e);if((s=a.length)!==Object.keys(t).length)return!1;for(r=s;0!=r--;)if(!t.hasOwnProperty(a[r]))return!1;for(r=s;0!=r--;)if(!or(e[n=a[r]],t[n]))return!1;return!0}return e!=e&&t!=t}const ar=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:Xt,_areEquals:or,applyOperation:rr,applyPatch:sr,applyReducer:function(e,t,r){var s=rr(e,t);if(!1===s.test)throw new Xt("Test operation failed","TEST_OPERATION_FAILED",r,t,e);return s.newDocument},deepClone:Zt,getValueByPointer:tr,validate:ir,validator:nr},Symbol.toStringTag,{value:"Module"}));
/*!
   * https://github.com/Starcounter-Jack/JSON-Patch
   * (c) 2017-2021 Joachim Wester
   * MIT license
   */var cr=new WeakMap,lr=function(e){this.observers=new Map,this.obj=e},ur=function(e,t){this.callback=e,this.observer=t};function pr(e,t){void 0===t&&(t=!1);var r=cr.get(e.object);hr(r.value,e.object,e.patches,"",t),e.patches.length&&sr(r.value,e.patches);var s=e.patches;return s.length>0&&(e.patches=[],e.callback&&e.callback(s)),s}function hr(e,t,r,s,n){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var i=Vt(t),o=Vt(e),a=!1,c=o.length-1;c>=0;c--){var l=e[p=o[c]];if(!Ut(t,p)||void 0===t[p]&&void 0!==l&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(n&&r.push({op:"test",path:s+"/"+Jt(p),value:zt(l)}),r.push({op:"remove",path:s+"/"+Jt(p)}),a=!0):(n&&r.push({op:"test",path:s,value:e}),r.push({op:"replace",path:s,value:t}));else{var u=t[p];"object"==typeof l&&null!=l&&"object"==typeof u&&null!=u&&Array.isArray(l)===Array.isArray(u)?hr(l,u,r,s+"/"+Jt(p),n):l!==u&&(n&&r.push({op:"test",path:s+"/"+Jt(p),value:zt(l)}),r.push({op:"replace",path:s+"/"+Jt(p),value:zt(u)}))}}if(a||i.length!=o.length)for(c=0;c<i.length;c++){var p;Ut(e,p=i[c])||void 0===t[p]||r.push({op:"add",path:s+"/"+Jt(p),value:zt(t[p])})}}}const dr=Object.freeze(Object.defineProperty({__proto__:null,compare:function(e,t,r){void 0===r&&(r=!1);var s=[];return hr(e,t,s,"",r),s},generate:pr,observe:function(e,t){var r,s=function(e){return cr.get(e)}(e);if(s){var n=function(e,t){return e.observers.get(t)}(s,t);r=n&&n.observer}else s=new lr(e),cr.set(e,s);if(r)return r;if(r={},s.value=zt(e),t){r.callback=t,r.next=null;var i=function(){pr(r)},o=function(){clearTimeout(r.next),r.next=setTimeout(i)};"undefined"!=typeof window&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return r.patches=[],r.object=e,r.unobserve=function(){pr(r),clearTimeout(r.next),function(e,t){e.observers.delete(t.callback)}(s,r),"undefined"!=typeof window&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},s.observers.set(t,new ur(t,r)),r},unobserve:function(e,t){t.unobserve()}},Symbol.toStringTag,{value:"Module"}));function mr(e){return e&&e.t&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}Object.assign({},ar,dr,{JsonPatchError:Yt,deepClone:zt,escapePathComponent:Jt,unescapePathComponent:Gt});var fr=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===yr}(e)}(e)},yr="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function gr(e,t){return!1!==t.clone&&t.isMergeableObject(e)?wr((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function vr(e,t,r){return e.concat(t).map((function(e){return gr(e,r)}))}function br(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function xr(e,t){try{return t in e}catch(e){return!1}}function wr(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||vr,r.isMergeableObject=r.isMergeableObject||fr,r.cloneUnlessOtherwiseSpecified=gr;var s=Array.isArray(t);return s===Array.isArray(e)?s?r.arrayMerge(e,t,r):function(e,t,r){var s={};return r.isMergeableObject(e)&&br(e).forEach((function(t){s[t]=gr(e[t],r)})),br(t).forEach((function(n){(function(e,t){return xr(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,n)||(xr(e,n)&&r.isMergeableObject(t[n])?s[n]=function(e,t){if(!t.customMerge)return wr;var r=t.customMerge(e);return"function"==typeof r?r:wr}(n,r)(e[n],t[n],r):s[n]=gr(t[n],r))})),s}(e,t,r):gr(t,r)}wr.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return wr(e,r,t)}),{})};const Er=mr(wr),jr={add:function(e,t){return{op:"add",path:e,value:t}},replace:Sr,remove:function(e){return{op:"remove",path:e}},merge:function(e,t){return{type:"mutation",op:"merge",path:e,value:t}},mergeDeep:function(e,t){return{type:"mutation",op:"mergeDeep",path:e,value:t}},context:function(e,t){return{type:"context",path:e,value:t}},getIn:function(e,t){return t.reduce(((e,t)=>void 0!==t&&e?e[t]:e),e)},applyPatch:function(e,t,r){if(r=r||{},"merge"===(t={...t,path:t.path&&Or(t.path)}).op){const r=qr(e,t.path);Object.assign(r,t.value),sr(e,[Sr(t.path,r)])}else if("mergeDeep"===t.op){const r=qr(e,t.path),s=Er(r,t.value);e=sr(e,[Sr(t.path,s)]).newDocument}else if("add"===t.op&&""===t.path&&Mr(t.value)){const r=Object.keys(t.value).reduce(((e,r)=>(e.push({op:"add",path:`/${Or(r)}`,value:t.value[r]}),e)),[]);sr(e,r)}else if("replace"===t.op&&""===t.path){let{value:s}=t;r.allowMetaPatches&&t.meta&&Rr(t)&&(Array.isArray(t.value)||Mr(t.value))&&(s={...s,...t.meta}),e=s}else if(sr(e,[t]),r.allowMetaPatches&&t.meta&&Rr(t)&&(Array.isArray(t.value)||Mr(t.value))){const r={...qr(e,t.path),...t.meta};sr(e,[Sr(t.path,r)])}return e},parentPathMatch:function(e,t){if(!Array.isArray(t))return!1;for(let r=0,s=t.length;r<s;r+=1)if(t[r]!==e[r])return!1;return!0},flatten:Tr,fullyNormalizeArray:function(e){return Cr(Tr(kr(e)))},normalizeArray:kr,isPromise:function(e){return Mr(e)&&Fr(e.then)},forEachNew:function(e,t){try{return Pr(e,$r,t)}catch(e){return e}},forEachNewPrimitive:function(e,t){try{return Pr(e,Ar,t)}catch(e){return e}},isJsonPatch:Ir,isContextPatch:function(e){return Dr(e)&&"context"===e.type},isPatch:Dr,isMutation:_r,isAdditiveMutation:Rr,isGenerator:function(e){return"[object GeneratorFunction]"===Object.prototype.toString.call(e)},isFunction:Fr,isObject:Mr,isError:function(e){return e instanceof Error}};function Or(e){return Array.isArray(e)?e.length<1?"":`/${e.map((e=>(e+"").replace(/~/g,"~0").replace(/\//g,"~1"))).join("/")}`:e}function Sr(e,t,r){return{op:"replace",path:e,value:t,meta:r}}function Pr(e,t,r){return Cr(Tr(e.filter(Rr).map((e=>t(e.value,r,e.path)))||[]))}function Ar(e,t,r){return r=r||[],Array.isArray(e)?e.map(((e,s)=>Ar(e,t,r.concat(s)))):Mr(e)?Object.keys(e).map((s=>Ar(e[s],t,r.concat(s)))):t(e,r[r.length-1],r)}function $r(e,t,r){let s=[];if((r=r||[]).length>0){const n=t(e,r[r.length-1],r);n&&(s=s.concat(n))}if(Array.isArray(e)){const n=e.map(((e,s)=>$r(e,t,r.concat(s))));n&&(s=s.concat(n))}else if(Mr(e)){const n=Object.keys(e).map((s=>$r(e[s],t,r.concat(s))));n&&(s=s.concat(n))}return s=Tr(s),s}function kr(e){return Array.isArray(e)?e:[e]}function Tr(e){return[].concat(...e.map((e=>Array.isArray(e)?Tr(e):e)))}function Cr(e){return e.filter((e=>void 0!==e))}function Mr(e){return e&&"object"==typeof e}function Fr(e){return e&&"function"==typeof e}function Ir(e){if(Dr(e)){const{op:t}=e;return"add"===t||"remove"===t||"replace"===t}return!1}function _r(e){return Ir(e)||Dr(e)&&"mutation"===e.type}function Rr(e){return _r(e)&&("add"===e.op||"replace"===e.op||"merge"===e.op||"mergeDeep"===e.op)}function Dr(e){return e&&"object"==typeof e}function qr(e,t){try{return tr(e,t)}catch(e){return console.error(e),{}}}var Nr=function(e){return e&&e.Math===Math&&e},Lr=Nr("object"==typeof globalThis&&globalThis)||Nr("object"==typeof window&&window)||Nr("object"==typeof self&&self)||Nr("object"==typeof global&&global)||Nr(!1)||function(){return this}()||Function("return this")(),Br=function(e){try{return!!e()}catch(e){return!0}},Ur=!Br((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Vr=Ur,zr=Function.prototype,Hr=zr.apply,Jr=zr.call,Gr="object"==typeof Reflect&&Reflect.apply||(Vr?Jr.bind(Hr):function(){return Jr.apply(Hr,arguments)}),Wr=Ur,Kr=Function.prototype,Yr=Kr.call,Xr=Wr&&Kr.bind.bind(Yr,Yr),Zr=Wr?Xr:function(e){return function(){return Yr.apply(e,arguments)}},Qr=Zr,es=Qr({}.toString),ts=Qr("".slice),rs=function(e){return ts(es(e),8,-1)},ss=rs,ns=Zr,is=function(e){if("Function"===ss(e))return ns(e)},os="object"==typeof document&&document.all,as=void 0===os&&void 0!==os?function(e){return"function"==typeof e||e===os}:function(e){return"function"==typeof e},cs={},ls=!Br((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})),us=Ur,ps=Function.prototype.call,hs=us?ps.bind(ps):function(){return ps.apply(ps,arguments)},ds={},ms={}.propertyIsEnumerable,fs=Object.getOwnPropertyDescriptor,ys=fs&&!ms.call({1:2},1);ds.f=ys?function(e){var t=fs(this,e);return!!t&&t.enumerable}:ms;var gs,vs,bs=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},xs=Br,ws=rs,Es=Object,js=Zr("".split),Os=xs((function(){return!Es("z").propertyIsEnumerable(0)}))?function(e){return"String"===ws(e)?js(e,""):Es(e)}:Es,Ss=function(e){return null==e},Ps=Ss,As=TypeError,$s=function(e){if(Ps(e))throw new As("Can't call method on "+e);return e},ks=Os,Ts=$s,Cs=function(e){return ks(Ts(e))},Ms=as,Fs=function(e){return"object"==typeof e?null!==e:Ms(e)},Is={},_s=Is,Rs=Lr,Ds=as,qs=function(e){return Ds(e)?e:void 0},Ns=function(e,t){return arguments.length<2?qs(_s[e])||qs(Rs[e]):_s[e]&&_s[e][t]||Rs[e]&&Rs[e][t]},Ls=Zr({}.isPrototypeOf),Bs=Lr.navigator,Us=Bs&&Bs.userAgent,Vs=Lr,zs=Us?String(Us):"",Hs=Vs.process,Js=Vs.Deno,Gs=Hs&&Hs.versions||Js&&Js.version,Ws=Gs&&Gs.v8;Ws&&(vs=(gs=Ws.split("."))[0]>0&&gs[0]<4?1:+(gs[0]+gs[1])),!vs&&zs&&(!(gs=zs.match(/Edge\/(\d+)/))||gs[1]>=74)&&(gs=zs.match(/Chrome\/(\d+)/))&&(vs=+gs[1]);var Ks=vs,Ys=Br,Xs=Lr.String,Zs=!!Object.getOwnPropertySymbols&&!Ys((function(){var e=Symbol("symbol detection");return!Xs(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ks&&Ks<41})),Qs=Zs&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,en=Ns,tn=as,rn=Ls,sn=Object,nn=Qs?function(e){return"symbol"==typeof e}:function(e){var t=en("Symbol");return tn(t)&&rn(t.prototype,sn(e))},on=String,an=function(e){try{return on(e)}catch(e){return"Object"}},cn=as,ln=an,un=TypeError,pn=function(e){if(cn(e))return e;throw new un(ln(e)+" is not a function")},hn=pn,dn=Ss,mn=function(e,t){var r=e[t];return dn(r)?void 0:hn(r)},fn=hs,yn=as,gn=Fs,vn=TypeError,bn={exports:{}},xn=Lr,wn=Object.defineProperty,En=Lr,jn="__core-js_shared__",On=bn.exports=En[jn]||function(e,t){try{wn(xn,e,{value:t,configurable:!0,writable:!0})}catch(r){xn[e]=t}return t}(jn,{});(On.versions||(On.versions=[])).push({version:"3.38.1",mode:"pure",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Sn=bn.exports,Pn=Sn,An=function(e,t){return Pn[e]||(Pn[e]=t||{})},$n=$s,kn=Object,Tn=function(e){return kn($n(e))},Cn=Tn,Mn=Zr({}.hasOwnProperty),Fn=Object.hasOwn||function(e,t){return Mn(Cn(e),t)},In=Zr,_n=0,Rn=Math.random(),Dn=In(1..toString),qn=function(e){return"Symbol("+(void 0===e?"":e)+")_"+Dn(++_n+Rn,36)},Nn=An,Ln=Fn,Bn=qn,Un=Zs,Vn=Qs,zn=Lr.Symbol,Hn=Nn("wks"),Jn=Vn?zn.for||zn:zn&&zn.withoutSetter||Bn,Gn=function(e){return Ln(Hn,e)||(Hn[e]=Un&&Ln(zn,e)?zn[e]:Jn("Symbol."+e)),Hn[e]},Wn=hs,Kn=Fs,Yn=nn,Xn=mn,Zn=TypeError,Qn=Gn("toPrimitive"),ei=function(e,t){if(!Kn(e)||Yn(e))return e;var r,s=Xn(e,Qn);if(s){if(void 0===t&&(t="default"),r=Wn(s,e,t),!Kn(r)||Yn(r))return r;throw new Zn("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var r,s;if("string"===t&&yn(r=e.toString)&&!gn(s=fn(r,e)))return s;if(yn(r=e.valueOf)&&!gn(s=fn(r,e)))return s;if("string"!==t&&yn(r=e.toString)&&!gn(s=fn(r,e)))return s;throw new vn("Can't convert object to primitive value")}(e,t)},ti=nn,ri=function(e){var t=ei(e,"string");return ti(t)?t:t+""},si=Fs,ni=Lr.document,ii=si(ni)&&si(ni.createElement),oi=function(e){return ii?ni.createElement(e):{}},ai=oi,ci=!ls&&!Br((function(){return 7!==Object.defineProperty(ai("div"),"a",{get:function(){return 7}}).a})),li=ls,ui=hs,pi=ds,hi=bs,di=Cs,mi=ri,fi=Fn,yi=ci,gi=Object.getOwnPropertyDescriptor;cs.f=li?gi:function(e,t){if(e=di(e),t=mi(t),yi)try{return gi(e,t)}catch(e){}if(fi(e,t))return hi(!ui(pi.f,e,t),e[t])};var vi=Br,bi=as,xi=/#|\.prototype\./,wi=function(e,t){var r=ji[Ei(e)];return r===Si||r!==Oi&&(bi(t)?vi(t):!!t)},Ei=wi.normalize=function(e){return String(e).replace(xi,".").toLowerCase()},ji=wi.data={},Oi=wi.NATIVE="N",Si=wi.POLYFILL="P",Pi=wi,Ai=pn,$i=Ur,ki=is(is.bind),Ti=function(e,t){return Ai(e),void 0===t?e:$i?ki(e,t):function(){return e.apply(t,arguments)}},Ci={},Mi=ls&&Br((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Fi=Fs,Ii=String,_i=TypeError,Ri=function(e){if(Fi(e))return e;throw new _i(Ii(e)+" is not an object")},Di=ls,qi=ci,Ni=Mi,Li=Ri,Bi=ri,Ui=TypeError,Vi=Object.defineProperty,zi=Object.getOwnPropertyDescriptor;Ci.f=Di?Ni?function(e,t,r){if(Li(e),t=Bi(t),Li(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var s=zi(e,t);s&&s.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:s.configurable,enumerable:"enumerable"in r?r.enumerable:s.enumerable,writable:!1})}return Vi(e,t,r)}:Vi:function(e,t,r){if(Li(e),t=Bi(t),Li(r),qi)try{return Vi(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new Ui("Accessors not supported");return"value"in r&&(e[t]=r.value),e};var Hi=Ci,Ji=bs,Gi=ls?function(e,t,r){return Hi.f(e,t,Ji(1,r))}:function(e,t,r){return e[t]=r,e},Wi=Lr,Ki=Gr,Yi=is,Xi=as,Zi=cs.f,Qi=Pi,eo=Is,to=Ti,ro=Gi,so=Fn,no=function(e){var t=function(r,s,n){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,s)}return new e(r,s,n)}return Ki(e,this,arguments)};return t.prototype=e.prototype,t},io=function(e,t){var r,s,n,i,o,a,c,l,u,p=e.target,h=e.global,d=e.stat,m=e.proto,f=h?Wi:d?Wi[p]:Wi[p]&&Wi[p].prototype,y=h?eo:eo[p]||ro(eo,p,{})[p],g=y.prototype;for(i in t)s=!(r=Qi(h?i:p+(d?".":"#")+i,e.forced))&&f&&so(f,i),a=y[i],s&&(c=e.dontCallGetSet?(u=Zi(f,i))&&u.value:f[i]),o=s&&c?c:t[i],(r||m||typeof a!=typeof o)&&(l=e.bind&&s?to(o,Wi):e.wrap&&s?no(o):m&&Xi(o)?Yi(o):o,(e.sham||o&&o.sham||a&&a.sham)&&ro(l,"sham",!0),ro(y,i,l),m&&(so(eo,n=p+"Prototype")||ro(eo,n,{}),ro(eo[n],i,o),e.real&&g&&(r||!g[i])&&ro(g,i,o)))},oo=qn,ao=An("keys"),co=function(e){return ao[e]||(ao[e]=oo(e))},lo=!Br((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),uo=Fn,po=as,ho=Tn,mo=lo,fo=co("IE_PROTO"),yo=Object,go=yo.prototype,vo=mo?yo.getPrototypeOf:function(e){var t=ho(e);if(uo(t,fo))return t[fo];var r=t.constructor;return po(r)&&t instanceof r?r.prototype:t instanceof yo?go:null},bo=Zr,xo=pn,wo=Fs,Eo=String,jo=TypeError,Oo=Fs,So=$s,Po=function(e){if(function(e){return wo(e)||null===e}(e))return e;throw new jo("Can't set "+Eo(e)+" as a prototype")},Ao=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=function(e,t,r){try{return bo(xo(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,s){return So(r),Po(s),Oo(r)?(t?e(r,s):r.__proto__=s,r):r}}():void 0),$o={},ko=Math.ceil,To=Math.floor,Co=Math.trunc||function(e){var t=+e;return(t>0?To:ko)(t)},Mo=function(e){var t=+e;return t!=t||0===t?0:Co(t)},Fo=Mo,Io=Math.max,_o=Math.min,Ro=Mo,Do=Math.min,qo=function(e){return function(e){var t=Ro(e);return t>0?Do(t,9007199254740991):0}(e.length)},No=Cs,Lo=qo,Bo=function(e){return function(t,r,s){var n=No(t),i=Lo(n);if(0===i)return!e&&-1;var o,a=function(e,t){var r=Fo(e);return r<0?Io(r+t,0):_o(r,t)}(s,i);if(e&&r!=r){for(;i>a;)if((o=n[a++])!=o)return!0}else for(;i>a;a++)if((e||a in n)&&n[a]===r)return e||a||0;return!e&&-1}},Uo={includes:Bo(!0),indexOf:Bo(!1)},Vo={},zo=Fn,Ho=Cs,Jo=Uo.indexOf,Go=Vo,Wo=Zr([].push),Ko=function(e,t){var r,s=Ho(e),n=0,i=[];for(r in s)!zo(Go,r)&&zo(s,r)&&Wo(i,r);for(;t.length>n;)zo(s,r=t[n++])&&(~Jo(i,r)||Wo(i,r));return i},Yo=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Xo=Ko,Zo=Yo.concat("length","prototype");$o.f=Object.getOwnPropertyNames||function(e){return Xo(e,Zo)};var Qo={};Qo.f=Object.getOwnPropertySymbols;var ea=Ns,ta=$o,ra=Qo,sa=Ri,na=Zr([].concat),ia=ea("Reflect","ownKeys")||function(e){var t=ta.f(sa(e)),r=ra.f;return r?na(t,r(e)):t},oa=Fn,aa=ia,ca=cs,la=Ci,ua=function(e,t,r){for(var s=aa(t),n=la.f,i=ca.f,o=0;o<s.length;o++){var a=s[o];oa(e,a)||r&&oa(r,a)||n(e,a,i(t,a))}},pa={},ha=Ko,da=Yo,ma=Object.keys||function(e){return ha(e,da)},fa=ls,ya=Mi,ga=Ci,va=Ri,ba=Cs,xa=ma;pa.f=fa&&!ya?Object.defineProperties:function(e,t){va(e);for(var r,s=ba(t),n=xa(t),i=n.length,o=0;i>o;)ga.f(e,r=n[o++],s[r]);return e};var wa,Ea=Ns("document","documentElement"),ja=Ri,Oa=pa,Sa=Yo,Pa=Vo,Aa=Ea,$a=oi,ka=co("IE_PROTO"),Ta=function(){},Ca=function(e){return"<script>"+e+"<\/script>"},Ma=function(e){e.write(Ca("")),e.close();var t=e.parentWindow.Object;return e=null,t},Fa=function(){try{wa=new ActiveXObject("htmlfile")}catch(e){}var e,t;Fa="undefined"!=typeof document?document.domain&&wa?Ma(wa):((t=$a("iframe")).style.display="none",Aa.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Ca("document.F=Object")),e.close(),e.F):Ma(wa);for(var r=Sa.length;r--;)delete Fa.prototype[Sa[r]];return Fa()};Pa[ka]=!0;var Ia=Object.create||function(e,t){var r;return null!==e?(Ta.prototype=ja(e),r=new Ta,Ta.prototype=null,r[ka]=e):r=Fa(),void 0===t?r:Oa.f(r,t)},_a=Fs,Ra=Gi,Da=function(e,t){_a(t)&&"cause"in t&&Ra(e,"cause",t.cause)},qa=Error,Na=Zr("".replace),La=String(new qa("zxcasd").stack),Ba=/\n\s*at [^:]*:[^\n]*/,Ua=Ba.test(La),Va=bs,za=!Br((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",Va(1,7)),7!==e.stack)})),Ha=Gi,Ja=za,Ga=Error.captureStackTrace,Wa=function(e,t,r,s){Ja&&(Ga?Ga(e,t):Ha(e,"stack",function(e,t){if(Ua&&"string"==typeof e&&!qa.prepareStackTrace)for(;t--;)e=Na(e,Ba,"");return e}(r,s)))},Ka={},Ya=Ka,Xa=Gn("iterator"),Za=Array.prototype,Qa={};Qa[Gn("toStringTag")]="z";var ec="[object z]"===String(Qa),tc=ec,rc=as,sc=rs,nc=Gn("toStringTag"),ic=Object,oc="Arguments"===sc(function(){return arguments}()),ac=tc?sc:function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=ic(e),nc))?r:oc?sc(t):"Object"===(s=sc(t))&&rc(t.callee)?"Arguments":s},cc=ac,lc=mn,uc=Ss,pc=Ka,hc=Gn("iterator"),dc=function(e){if(!uc(e))return lc(e,hc)||lc(e,"@@iterator")||pc[cc(e)]},mc=hs,fc=pn,yc=Ri,gc=an,vc=dc,bc=TypeError,xc=hs,wc=Ri,Ec=mn,jc=Ti,Oc=hs,Sc=Ri,Pc=an,Ac=qo,$c=Ls,kc=dc,Tc=function(e,t,r){var s,n;wc(e);try{if(!(s=Ec(e,"return"))){if("throw"===t)throw r;return r}s=xc(s,e)}catch(e){n=!0,s=e}if("throw"===t)throw r;if(n)throw s;return wc(s),r},Cc=TypeError,Mc=function(e,t){this.stopped=e,this.result=t},Fc=Mc.prototype,Ic=ac,_c=String,Rc=function(e){if("Symbol"===Ic(e))throw new TypeError("Cannot convert a Symbol value to a string");return _c(e)},Dc=Rc,qc=function(e,t){return void 0===e?arguments.length<2?"":t:Dc(e)},Nc=io,Lc=Ls,Bc=vo,Uc=Ao,Vc=ua,zc=Ia,Hc=Gi,Jc=bs,Gc=Da,Wc=Wa,Kc=function(e,t,r){var s,n,i,o,a,c,l,u=r&&r.that,p=!(!r||!r.AS_ENTRIES),h=!(!r||!r.IS_RECORD),d=!(!r||!r.IS_ITERATOR),m=!(!r||!r.INTERRUPTED),f=jc(t,u),y=function(e){return s&&Tc(s,"normal",e),new Mc(!0,e)},g=function(e){return p?(Sc(e),m?f(e[0],e[1],y):f(e[0],e[1])):m?f(e,y):f(e)};if(h)s=e.iterator;else if(d)s=e;else{if(!(n=kc(e)))throw new Cc(Pc(e)+" is not iterable");if(function(e){return void 0!==e&&(Ya.Array===e||Za[Xa]===e)}(n)){for(i=0,o=Ac(e);o>i;i++)if((a=g(e[i]))&&$c(Fc,a))return a;return new Mc(!1)}s=function(e,t){var r=arguments.length<2?vc(e):t;if(fc(r))return yc(mc(r,e));throw new bc(gc(e)+" is not iterable")}(e,n)}for(c=h?e.next:s.next;!(l=Oc(c,s)).done;){try{a=g(l.value)}catch(e){Tc(s,"throw",e)}if("object"==typeof a&&a&&$c(Fc,a))return a}return new Mc(!1)},Yc=qc,Xc=Gn("toStringTag"),Zc=Error,Qc=[].push,el=function(e,t){var r,s=Lc(tl,this);Uc?r=Uc(new Zc,s?Bc(this):tl):(r=s?this:zc(tl),Hc(r,Xc,"Error")),void 0!==t&&Hc(r,"message",Yc(t)),Wc(r,el,r.stack,1),arguments.length>2&&Gc(r,arguments[2]);var n=[];return Kc(e,Qc,{that:n}),Hc(r,"errors",n),r};Uc?Uc(el,Zc):Vc(el,Zc,{name:!0});var tl=el.prototype=zc(Zc.prototype,{constructor:Jc(1,el),message:Jc(1,""),name:Jc(1,"AggregateError")});Nc({global:!0,constructor:!0,arity:2},{AggregateError:el});var rl=Ci.f,sl=as,nl=Fs,il=Ao,ol=Ns,al=Gi,cl=Ls,ll=Ao,ul=ua,pl=function(e,t,r){r in e||rl(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})},hl=function(e,t,r){var s,n;return il&&sl(s=t.constructor)&&s!==r&&nl(n=s.prototype)&&n!==r.prototype&&il(e,n),e},dl=qc,ml=Da,fl=Wa,yl=ls,gl=function(e,t,r,s){var n="stackTraceLimit",i=s?2:1,o=e.split("."),a=o[o.length-1],c=ol.apply(null,o);if(c){var l=c.prototype;if(!r)return c;var u=ol("Error"),p=t((function(e,t){var r=dl(s?t:e,void 0),n=s?new c(e):new c;return void 0!==r&&al(n,"message",r),fl(n,p,n.stack,2),this&&cl(l,this)&&hl(n,this,p),arguments.length>i&&ml(n,arguments[i]),n}));return p.prototype=l,"Error"!==a?ll?ll(p,u):ul(p,u,{name:!0}):yl&&n in c&&(pl(p,c,n),pl(p,c,"prepareStackTrace")),ul(p,c),p}},vl=io,bl=Gr,xl=gl,wl=Lr.WebAssembly,El=7!==new Error("e",{cause:7}).cause,jl=function(e,t){var r={};r[e]=xl(e,t,El),vl({global:!0,constructor:!0,arity:1,forced:El},r)},Ol=function(e,t){if(wl&&wl[e]){var r={};r[e]=xl("WebAssembly."+e,t,El),vl({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:El},r)}};jl("Error",(function(e){return function(t){return bl(e,this,arguments)}})),jl("EvalError",(function(e){return function(t){return bl(e,this,arguments)}})),jl("RangeError",(function(e){return function(t){return bl(e,this,arguments)}})),jl("ReferenceError",(function(e){return function(t){return bl(e,this,arguments)}})),jl("SyntaxError",(function(e){return function(t){return bl(e,this,arguments)}})),jl("TypeError",(function(e){return function(t){return bl(e,this,arguments)}})),jl("URIError",(function(e){return function(t){return bl(e,this,arguments)}})),Ol("CompileError",(function(e){return function(t){return bl(e,this,arguments)}})),Ol("LinkError",(function(e){return function(t){return bl(e,this,arguments)}})),Ol("RuntimeError",(function(e){return function(t){return bl(e,this,arguments)}}));var Sl=io,Pl=Gr,Al=Br,$l=gl,kl="AggregateError",Tl=Ns(kl),Cl=!Al((function(){return 1!==Tl([1]).errors[0]}))&&Al((function(){return 7!==Tl([1],kl,{cause:7}).cause}));Sl({global:!0,constructor:!0,arity:2,forced:Cl},{AggregateError:$l(kl,(function(e){return function(t,r){return Pl(e,this,arguments)}}),Cl,!0)});var Ml,Fl,Il,_l=as,Rl=Lr.WeakMap,Dl=_l(Rl)&&/native code/.test(String(Rl)),ql=Lr,Nl=Fs,Ll=Gi,Bl=Fn,Ul=Sn,Vl=co,zl=Vo,Hl="Object already initialized",Jl=ql.TypeError,Gl=ql.WeakMap;if(Dl||Ul.state){var Wl=Ul.state||(Ul.state=new Gl);Wl.get=Wl.get,Wl.has=Wl.has,Wl.set=Wl.set,Ml=function(e,t){if(Wl.has(e))throw new Jl(Hl);return t.facade=e,Wl.set(e,t),t},Fl=function(e){return Wl.get(e)||{}},Il=function(e){return Wl.has(e)}}else{var Kl=Vl("state");zl[Kl]=!0,Ml=function(e,t){if(Bl(e,Kl))throw new Jl(Hl);return t.facade=e,Ll(e,Kl,t),t},Fl=function(e){return Bl(e,Kl)?e[Kl]:{}},Il=function(e){return Bl(e,Kl)}}var Yl,Xl,Zl,Ql={set:Ml,get:Fl,has:Il,enforce:function(e){return Il(e)?Fl(e):Ml(e,{})},getterFor:function(e){return function(t){var r;if(!Nl(t)||(r=Fl(t)).type!==e)throw new Jl("Incompatible receiver, "+e+" required");return r}}},eu=ls,tu=Fn,ru=Function.prototype,su=eu&&Object.getOwnPropertyDescriptor,nu=tu(ru,"name"),iu={EXISTS:nu,PROPER:nu&&"something"===function(){}.name,CONFIGURABLE:nu&&(!eu||eu&&su(ru,"name").configurable)},ou=Gi,au=function(e,t,r,s){return s&&s.enumerable?e[t]=r:ou(e,t,r),e},cu=Br,lu=as,uu=Fs,pu=Ia,hu=vo,du=au,mu=Gn("iterator"),fu=!1;[].keys&&("next"in(Zl=[].keys())?(Xl=hu(hu(Zl)))!==Object.prototype&&(Yl=Xl):fu=!0);var yu=!uu(Yl)||cu((function(){var e={};return Yl[mu].call(e)!==e}));lu((Yl=yu?{}:pu(Yl))[mu])||du(Yl,mu,(function(){return this}));var gu={IteratorPrototype:Yl,BUGGY_SAFARI_ITERATORS:fu},vu=ac,bu=ec?{}.toString:function(){return"[object "+vu(this)+"]"},xu=ec,wu=Ci.f,Eu=Gi,ju=Fn,Ou=bu,Su=Gn("toStringTag"),Pu=function(e,t,r,s){var n=r?e:e&&e.prototype;n&&(ju(n,Su)||wu(n,Su,{configurable:!0,value:t}),s&&!xu&&Eu(n,"toString",Ou))},Au=gu.IteratorPrototype,$u=Ia,ku=bs,Tu=Pu,Cu=Ka,Mu=function(){return this},Fu=io,Iu=hs,_u=vo,Ru=Pu,Du=au,qu=Ka,Nu=iu.PROPER,Lu=gu.BUGGY_SAFARI_ITERATORS,Bu=Gn("iterator"),Uu="keys",Vu="values",zu="entries",Hu=function(){return this},Ju=function(e,t,r,s,n,i,o){!function(e,t,r,s){var n=t+" Iterator";e.prototype=$u(Au,{next:ku(+!s,r)}),Tu(e,n,!1,!0),Cu[n]=Mu}(r,t,s);var a,c,l,u=function(e){if(e===n&&f)return f;if(!Lu&&e&&e in d)return d[e];switch(e){case Uu:case Vu:case zu:return function(){return new r(this,e)}}return function(){return new r(this)}},p=t+" Iterator",h=!1,d=e.prototype,m=d[Bu]||d["@@iterator"]||n&&d[n],f=!Lu&&m||u(n),y="Array"===t&&d.entries||m;if(y&&(a=_u(y.call(new e)))!==Object.prototype&&a.next&&(Ru(a,p,!0,!0),qu[p]=Hu),Nu&&n===Vu&&m&&m.name!==Vu&&(h=!0,f=function(){return Iu(m,this)}),n)if(c={values:u(Vu),keys:i?f:u(Uu),entries:u(zu)},o)for(l in c)(Lu||h||!(l in d))&&Du(d,l,c[l]);else Fu({target:t,proto:!0,forced:Lu||h},c);return o&&d[Bu]!==f&&Du(d,Bu,f,{name:n}),qu[t]=f,c},Gu=function(e,t){return{value:e,done:t}},Wu=Cs,Ku=Ka,Yu=Ql;Ci.f;var Xu=Ju,Zu=Gu,Qu="Array Iterator",ep=Yu.set,tp=Yu.getterFor(Qu);Xu(Array,"Array",(function(e,t){ep(this,{type:Qu,target:Wu(e),index:0,kind:t})}),(function(){var e=tp(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=null,Zu(void 0,!0);switch(e.kind){case"keys":return Zu(r,!1);case"values":return Zu(t[r],!1)}return Zu([r,t[r]],!1)}),"values"),Ku.Arguments=Ku.Array;var rp=Zr,sp=Mo,np=Rc,ip=$s,op=rp("".charAt),ap=rp("".charCodeAt),cp=rp("".slice),lp=function(e){return function(t,r){var s,n,i=np(ip(t)),o=sp(r),a=i.length;return o<0||o>=a?e?"":void 0:(s=ap(i,o))<55296||s>56319||o+1===a||(n=ap(i,o+1))<56320||n>57343?e?op(i,o):s:e?cp(i,o,o+2):n-56320+(s-55296<<10)+65536}},up=(lp(!1),lp(!0)),pp=Rc,hp=Ql,dp=Ju,mp=Gu,fp="String Iterator",yp=hp.set,gp=hp.getterFor(fp);dp(String,"String",(function(e){yp(this,{type:fp,string:pp(e),index:0})}),(function(){var e,t=gp(this),r=t.string,s=t.index;return s>=r.length?mp(void 0,!0):(e=up(r,s),t.index+=e.length,mp(e,!1))}));var vp=Is.AggregateError,bp=Lr,xp=Pu,wp=Ka;for(var Ep in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0})xp(bp[Ep],Ep),wp[Ep]=wp.Array;const jp=mr(vp);class Op extends jp{constructor(e,t,r){if(super(e,t,r),this.name=this.constructor.name,"string"==typeof t&&(this.message=t),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(t).stack,null!=r&&"object"==typeof r&&Object.hasOwn(r,"cause")&&!("cause"in this)){const{cause:e}=r;this.cause=e,e instanceof Error&&"stack"in e&&(this.stack=`${this.stack}\nCAUSE: ${e.stack}`)}}}class Sp extends Error{static[Symbol.hasInstance](e){return super[Symbol.hasInstance](e)||Function.prototype[Symbol.hasInstance].call(Op,e)}constructor(e,t){if(super(e,t),this.name=this.constructor.name,"string"==typeof e&&(this.message=e),"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error(e).stack,null!=t&&"object"==typeof t&&Object.hasOwn(t,"cause")&&!("cause"in this)){const{cause:e}=t;this.cause=e,e instanceof Error&&"stack"in e&&(this.stack=`${this.stack}\nCAUSE: ${e.stack}`)}}}class Pp extends Sp{constructor(e,t){if(super(e,t),null!=t&&"object"==typeof t){const{cause:e,...r}=t;Object.assign(this,r)}}}class Ap extends Sp{}class $p extends Ap{}var kp=function(){return!1},Tp=function(){return!0};function Cp(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function Mp(e){return function t(r){return 0===arguments.length||Cp(r)?t:e.apply(this,arguments)}}function Fp(e){return function t(r,s){switch(arguments.length){case 0:return t;case 1:return Cp(r)?t:Mp((function(t){return e(r,t)}));default:return Cp(r)&&Cp(s)?t:Cp(r)?Mp((function(t){return e(t,s)})):Cp(s)?Mp((function(t){return e(r,t)})):e(r,s)}}}function Ip(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,r){return t.apply(this,arguments)};case 3:return function(e,r,s){return t.apply(this,arguments)};case 4:return function(e,r,s,n){return t.apply(this,arguments)};case 5:return function(e,r,s,n,i){return t.apply(this,arguments)};case 6:return function(e,r,s,n,i,o){return t.apply(this,arguments)};case 7:return function(e,r,s,n,i,o,a){return t.apply(this,arguments)};case 8:return function(e,r,s,n,i,o,a,c){return t.apply(this,arguments)};case 9:return function(e,r,s,n,i,o,a,c,l){return t.apply(this,arguments)};case 10:return function(e,r,s,n,i,o,a,c,l,u){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _p(e,t,r){return function(){for(var s=[],n=0,i=e,o=0,a=!1;o<t.length||n<arguments.length;){var c;o<t.length&&(!Cp(t[o])||n>=arguments.length)?c=t[o]:(c=arguments[n],n+=1),s[o]=c,Cp(c)?a=!0:i-=1,o+=1}return!a&&i<=0?r.apply(this,s):Ip(Math.max(0,i),_p(e,s,r))}}var Rp=Fp((function(e,t){return 1===e?Mp(t):Ip(e,_p(e,[],t))}));function Dp(e){return function t(r,s,n){switch(arguments.length){case 0:return t;case 1:return Cp(r)?t:Fp((function(t,s){return e(r,t,s)}));case 2:return Cp(r)&&Cp(s)?t:Cp(r)?Fp((function(t,r){return e(t,s,r)})):Cp(s)?Fp((function(t,s){return e(r,t,s)})):Mp((function(t){return e(r,s,t)}));default:return Cp(r)&&Cp(s)&&Cp(n)?t:Cp(r)&&Cp(s)?Fp((function(t,r){return e(t,r,n)})):Cp(r)&&Cp(n)?Fp((function(t,r){return e(t,s,r)})):Cp(s)&&Cp(n)?Fp((function(t,s){return e(r,t,s)})):Cp(r)?Mp((function(t){return e(t,s,n)})):Cp(s)?Mp((function(t){return e(r,t,n)})):Cp(n)?Mp((function(t){return e(r,s,t)})):e(r,s,n)}}}const qp=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function Np(e){return null!=e&&"function"==typeof e["@@transducer/step"]}function Lp(e,t,r){return function(){if(0===arguments.length)return r();var s=arguments[arguments.length-1];if(!qp(s)){for(var n=0;n<e.length;){if("function"==typeof s[e[n]])return s[e[n]].apply(s,Array.prototype.slice.call(arguments,0,-1));n+=1}if(Np(s)){var i=t.apply(null,Array.prototype.slice.call(arguments,0,-1));return i(s)}}return r.apply(this,arguments)}}function Bp(e){return e&&e["@@transducer/reduced"]?e:{"@@transducer/value":e,"@@transducer/reduced":!0}}const Up=function(){return this.xf["@@transducer/init"]()},Vp=function(e){return this.xf["@@transducer/result"](e)};var zp=function(){function e(e,t){this.xf=t,this.f=e,this.all=!0}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=function(e){return this.all&&(e=this.xf["@@transducer/step"](e,!0)),this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)||(this.all=!1,e=Bp(this.xf["@@transducer/step"](e,!1))),e},e}();var Hp=Fp(Lp(["all"],(function(e){return function(t){return new zp(e,t)}}),(function(e,t){for(var r=0;r<t.length;){if(!e(t[r]))return!1;r+=1}return!0})));function Jp(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}function Gp(e,t,r){for(var s=0,n=r.length;s<n;){if(e(t,r[s]))return!0;s+=1}return!1}function Wp(e,t){return Object.prototype.hasOwnProperty.call(t,e)}const Kp="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var Yp=Object.prototype.toString,Xp=function(){return"[object Arguments]"===Yp.call(arguments)?function(e){return"[object Arguments]"===Yp.call(e)}:function(e){return Wp("callee",e)}}(),Zp=!{toString:null}.propertyIsEnumerable("toString"),Qp=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],eh=function(){return arguments.propertyIsEnumerable("length")}(),th=function(e,t){for(var r=0;r<e.length;){if(e[r]===t)return!0;r+=1}return!1},rh="function"!=typeof Object.keys||eh?Mp((function(e){if(Object(e)!==e)return[];var t,r,s=[],n=eh&&Xp(e);for(t in e)!Wp(t,e)||n&&"length"===t||(s[s.length]=t);if(Zp)for(r=Qp.length-1;r>=0;)Wp(t=Qp[r],e)&&!th(s,t)&&(s[s.length]=t),r-=1;return s})):Mp((function(e){return Object(e)!==e?[]:Object.keys(e)})),sh=Mp((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function nh(e,t,r,s){var n=Jp(e);function i(e,t){return ih(e,t,r.slice(),s.slice())}return!Gp((function(e,t){return!Gp(i,t,e)}),Jp(t),n)}function ih(e,t,r,s){if(Kp(e,t))return!0;var n=sh(e);if(n!==sh(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!Kp(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!Kp(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var i=r.length-1;i>=0;){if(r[i]===e)return s[i]===t;i-=1}switch(n){case"Map":return e.size===t.size&&nh(e.entries(),t.entries(),r.concat([e]),s.concat([t]));case"Set":return e.size===t.size&&nh(e.values(),t.values(),r.concat([e]),s.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=rh(e);if(o.length!==rh(t).length)return!1;var a=r.concat([e]),c=s.concat([t]);for(i=o.length-1;i>=0;){var l=o[i];if(!Wp(l,t)||!ih(t[l],e[l],a,c))return!1;i-=1}return!0}var oh=Fp((function(e,t){return ih(e,t,[],[])}));function ah(e,t){return function(e,t,r){var s,n;if("function"==typeof e.indexOf)switch(typeof t){case"number":if(0===t){for(s=1/t;r<e.length;){if(0===(n=e[r])&&1/n===s)return r;r+=1}return-1}if(t!=t){for(;r<e.length;){if("number"==typeof(n=e[r])&&n!=n)return r;r+=1}return-1}return e.indexOf(t,r);case"string":case"boolean":case"function":case"undefined":return e.indexOf(t,r);case"object":if(null===t)return e.indexOf(t,r)}for(;r<e.length;){if(oh(e[r],t))return r;r+=1}return-1}(t,e,0)>=0}function ch(e,t){for(var r=0,s=t.length,n=Array(s);r<s;)n[r]=e(t[r]),r+=1;return n}function lh(e){return'"'+e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var uh=function(e){return(e<10?"0":"")+e},ph="function"==typeof Date.prototype.toISOString?function(e){return e.toISOString()}:function(e){return e.getUTCFullYear()+"-"+uh(e.getUTCMonth()+1)+"-"+uh(e.getUTCDate())+"T"+uh(e.getUTCHours())+":"+uh(e.getUTCMinutes())+":"+uh(e.getUTCSeconds())+"."+(e.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function hh(e){return function(){return!e.apply(this,arguments)}}function dh(e,t,r){for(var s=0,n=r.length;s<n;)t=e(t,r[s]),s+=1;return t}function mh(e){return"[object Object]"===Object.prototype.toString.call(e)}var fh=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=Vp,e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.xf["@@transducer/step"](e,t):e},e}();var yh=Fp(Lp(["fantasy-land/filter","filter"],(function(e){return function(t){return new fh(e,t)}}),(function(e,t){return mh(t)?dh((function(r,s){return e(t[s])&&(r[s]=t[s]),r}),{},rh(t)):function(e,t){for(var r=0,s=t.length,n=[];r<s;)e(t[r])&&(n[n.length]=t[r]),r+=1;return n}(e,t)}))),gh=Fp((function(e,t){return yh(hh(e),t)}));function vh(e,t){var r=function(r){var s=t.concat([e]);return ah(r,s)?"<Circular>":vh(r,s)},s=function(e,t){return ch((function(t){return lh(t)+": "+r(e[t])}),t.slice().sort())};switch(Object.prototype.toString.call(e)){case"[object Arguments]":return"(function() { return arguments; }("+ch(r,e).join(", ")+"))";case"[object Array]":return"["+ch(r,e).concat(s(e,gh((function(e){return/^\d+$/.test(e)}),rh(e)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof e?"new Boolean("+r(e.valueOf())+")":e.toString();case"[object Date]":return"new Date("+(isNaN(e.valueOf())?r(NaN):lh(ph(e)))+")";case"[object Map]":return"new Map("+r(Array.from(e))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof e?"new Number("+r(e.valueOf())+")":1/e==-1/0?"-0":e.toString(10);case"[object Set]":return"new Set("+r(Array.from(e).sort())+")";case"[object String]":return"object"==typeof e?"new String("+r(e.valueOf())+")":lh(e);case"[object Undefined]":return"undefined";default:if("function"==typeof e.toString){var n=e.toString();if("[object Object]"!==n)return n}return"{"+s(e,rh(e)).join(", ")+"}"}}var bh=Mp((function(e){return vh(e,[])})),xh=Fp((function(e,t){if(e===t)return t;function r(e,t){if(e>t!=t>e)return t>e?t:e}var s=r(e,t);if(void 0!==s)return s;var n=r(typeof e,typeof t);if(void 0!==n)return n===typeof e?e:t;var i=bh(e),o=r(i,bh(t));return void 0!==o&&o===i?e:t})),wh=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=Vp,e.prototype["@@transducer/step"]=function(e,t){return this.xf["@@transducer/step"](e,this.f(t))},e}(),Eh=Fp(Lp(["fantasy-land/map","map"],(function(e){return function(t){return new wh(e,t)}}),(function(e,t){switch(Object.prototype.toString.call(t)){case"[object Function]":return Rp(t.length,(function(){return e.call(this,t.apply(this,arguments))}));case"[object Object]":return dh((function(r,s){return r[s]=e(t[s]),r}),{},rh(t));default:return ch(e,t)}})));const jh=Number.isInteger||function(e){return e<<0===e};function Oh(e){return"[object String]"===Object.prototype.toString.call(e)}function Sh(e,t){var r=e<0?t.length+e:e;return Oh(t)?t.charAt(r):t[r]}var Ph=Fp((function(e,t){if(null!=t)return jh(e)?Sh(e,t):t[e]})),Ah=Fp((function(e,t){return Eh(Ph(e),t)})),$h=Mp((function(e){return!!qp(e)||!!e&&"object"==typeof e&&!Oh(e)&&(0===e.length||e.length>0&&e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1))})),kh="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function Th(e,t,r){return function(s,n,i){if($h(i))return e(s,n,i);if(null==i)return n;if("function"==typeof i["fantasy-land/reduce"])return t(s,n,i,"fantasy-land/reduce");if(null!=i[kh])return r(s,n,i[kh]());if("function"==typeof i.next)return r(s,n,i);if("function"==typeof i.reduce)return t(s,n,i,"reduce");throw new TypeError("reduce: list must be array or iterable")}}var Ch=Fp((function(e,t){return Ip(e.length,(function(){return e.apply(t,arguments)}))}));var Mh=Th((function(e,t,r){for(var s=0,n=r.length;s<n;){if((t=e["@@transducer/step"](t,r[s]))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}s+=1}return e["@@transducer/result"](t)}),(function(e,t,r,s){return e["@@transducer/result"](r[s](Ch(e["@@transducer/step"],e),t))}),(function(e,t,r){for(var s=r.next();!s.done;){if((t=e["@@transducer/step"](t,s.value))&&t["@@transducer/reduced"]){t=t["@@transducer/value"];break}s=r.next()}return e["@@transducer/result"](t)})),Fh=function(){function e(e){this.f=e}return e.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},e.prototype["@@transducer/result"]=function(e){return e},e.prototype["@@transducer/step"]=function(e,t){return this.f(e,t)},e}();function Ih(e){return new Fh(e)}var _h=Dp((function(e,t,r){return Mh("function"==typeof e?Ih(e):e,t,r)})),Rh=Mp((function(e){return Rp(_h(xh,0,Ah("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(!e[t].apply(this,arguments))return!1;t+=1}return!0}))})),Dh=Mp((function(e){return function(){return e}})),qh=Fp((function(e,t){return e&&t})),Nh=Mp((function(e){return Rp(_h(xh,0,Ah("length",e)),(function(){for(var t=0,r=e.length;t<r;){if(e[t].apply(this,arguments))return!0;t+=1}return!1}))}));var Lh=Th(dh,(function(e,t,r,s){return r[s](e,t)}),(function(e,t,r){for(var s=r.next();!s.done;)t=e(t,s.value),s=r.next();return t})),Bh=Fp((function(e,t){return"function"==typeof t["fantasy-land/ap"]?t["fantasy-land/ap"](e):"function"==typeof e.ap?e.ap(t):"function"==typeof e?function(r){return e(r)(t(r))}:Lh((function(e,r){return function(e,t){var r;t=t||[];var s=(e=e||[]).length,n=t.length,i=[];for(r=0;r<s;)i[i.length]=e[r],r+=1;for(r=0;r<n;)i[i.length]=t[r],r+=1;return i}(e,Eh(r,t))}),[],e)})),Uh=Fp((function(e,t){return e.apply(this,t)})),Vh=Mp((function(e){return Rp(e.length,e)})),zh=Mp((function(e){return null==e})),Hh=Dp((function e(t,r,s){if(0===t.length)return r;var n=t[0];if(t.length>1){var i=!zh(s)&&Wp(n,s)&&"object"==typeof s[n]?s[n]:jh(t[1])?[]:{};r=e(Array.prototype.slice.call(t,1),r,i)}return function(e,t,r){if(jh(e)&&qp(r)){var s=[].concat(r);return s[e]=t,s}var n={};for(var i in r)n[i]=r[i];return n[e]=t,n}(n,r,s)}));function Jh(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t||"[object GeneratorFunction]"===t||"[object AsyncGeneratorFunction]"===t}var Gh=Fp((function(e,t){var r=Rp(e,t);return Rp(e,(function(){return dh(Bh,Eh(r,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),Wh=Mp((function(e){return Gh(e.length,e)})),Kh=Fp((function(e,t){return Jh(e)?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:Wh(qh)(e,t)}));function Yh(e){return new RegExp(e.source,e.flags?e.flags:(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.sticky?"y":"")+(e.unicode?"u":"")+(e.dotAll?"s":""))}function Xh(e,t,r){if(r||(r=new Zh),function(e){var t=typeof e;return null==e||"object"!=t&&"function"!=t}(e))return e;var s=function(t){var s=r.get(e);if(s)return s;for(var n in r.set(e,t),e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t};switch(sh(e)){case"Object":return s(Object.create(Object.getPrototypeOf(e)));case"Array":return s(Array(e.length));case"Date":return new Date(e.valueOf());case"RegExp":return Yh(e);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return e.slice();default:return e}}var Zh=function(){function e(){this.map={},this.length=0}return e.prototype.set=function(e,t){var r=this.hash(e),s=this.map[r];s||(this.map[r]=s=[]),s.push([e,t]),this.length+=1},e.prototype.hash=function(e){var t=[];for(var r in e)t.push(Object.prototype.toString.call(e[r]));return t.join()},e.prototype.get=function(e){if(this.length<=180){for(var t in this.map)for(var r=this.map[t],s=0;s<r.length;s+=1)if((i=r[s])[0]===e)return i[1]}else{var n=this.hash(e);if(r=this.map[n])for(s=0;s<r.length;s+=1){var i;if((i=r[s])[0]===e)return i[1]}}},e}(),Qh=Mp((function(e){return function(t,r){return e(t,r)?-1:e(r,t)?1:0}})),ed=Wh(Mp((function(e){return!e})));function td(e,t){return function(){return t.call(this,e.apply(this,arguments))}}function rd(e,t){return function(){var r=arguments.length;if(0===r)return t();var s=arguments[r-1];return qp(s)||"function"!=typeof s[e]?t.apply(this,arguments):s[e].apply(s,Array.prototype.slice.call(arguments,0,r-1))}}var sd=Dp(rd("slice",(function(e,t,r){return Array.prototype.slice.call(r,e,t)}))),nd=Mp(rd("tail",sd(1,1/0)));function id(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Ip(arguments[0].length,_h(td,arguments[0],nd(arguments)))}var od=Mp((function(e){return Sh(0,e)}));var ad=Mp((function(e){return e})),cd=Fp((function(e,t){return Rp(_h(xh,0,Ah("length",t)),(function(){var r=arguments,s=this;return e.apply(s,ch((function(e){return e.apply(s,r)}),t))}))})),ld=function(){function e(e,t,r,s){this.valueFn=e,this.valueAcc=t,this.keyFn=r,this.xf=s,this.inputs={}}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=function(e){var t;for(t in this.inputs)if(Wp(t,this.inputs)&&(e=this.xf["@@transducer/step"](e,this.inputs[t]))["@@transducer/reduced"]){e=e["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){var r=this.keyFn(t);return this.inputs[r]=this.inputs[r]||[r,Xh(this.valueAcc)],this.inputs[r][1]=this.valueFn(this.inputs[r][1],t),e},e}();var ud=_p(4,[],Lp([],(function(e,t,r){return function(s){return new ld(e,t,r,s)}}),(function(e,t,r,s){var n=Ih((function(s,n){var i=r(n),o=e(Wp(i,s)?s[i]:Xh(t),n);return o&&o["@@transducer/reduced"]?Bp(s):(s[i]=o,s)}));return Mh(n,{},s)}))),pd=Fp((function(e,t){return null==t||t!=t?e:t})),hd=function(){function e(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return e.prototype.add=function(e){return!dd(e,!0,this)},e.prototype.has=function(e){return dd(e,!1,this)},e}();function dd(e,t,r){var s,n=typeof e;switch(n){case"string":case"number":return 0===e&&1/e==-1/0?!!r._items["-0"]||(t&&(r._items["-0"]=!0),!1):null!==r._nativeSet?t?(s=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===s):r._nativeSet.has(e):n in r._items?e in r._items[n]||(t&&(r._items[n][e]=!0),!1):(t&&(r._items[n]={},r._items[n][e]=!0),!1);case"boolean":if(n in r._items){var i=e?1:0;return!!r._items[n][i]||(t&&(r._items[n][i]=!0),!1)}return t&&(r._items[n]=e?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?t?(s=r._nativeSet.size,r._nativeSet.add(e),r._nativeSet.size===s):r._nativeSet.has(e):n in r._items?!!ah(e,r._items[n])||(t&&r._items[n].push(e),!1):(t&&(r._items[n]=[e]),!1);case"undefined":return!!r._items[n]||(t&&(r._items[n]=!0),!1);case"object":if(null===e)return!!r._items.null||(t&&(r._items.null=!0),!1);default:return(n=Object.prototype.toString.call(e))in r._items?!!ah(e,r._items[n])||(t&&r._items[n].push(e),!1):(t&&(r._items[n]=[e]),!1)}}var md=Fp((function(e,t){for(var r=[],s=0,n=e.length,i=t.length,o=new hd,a=0;a<i;a+=1)o.add(t[a]);for(;s<n;)o.add(e[s])&&(r[r.length]=e[s]),s+=1;return r})),fd=function(){function e(e,t){this.xf=t,this.n=e,this.i=0}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=Vp,e.prototype["@@transducer/step"]=function(e,t){this.i+=1;var r=0===this.n?e:this.xf["@@transducer/step"](e,t);return this.n>=0&&this.i>=this.n?Bp(r):r},e}();var yd=Fp(Lp(["take"],(function(e){return function(t){return new fd(e,t)}}),(function(e,t){return sd(0,e<0?1/0:e,t)})));var gd=function(){function e(e,t){this.f=e,this.retained=[],this.xf=t}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=function(e){return this.retained=null,this.xf["@@transducer/result"](e)},e.prototype["@@transducer/step"]=function(e,t){return this.f(t)?this.retain(e,t):this.flush(e,t)},e.prototype.flush=function(e,t){return e=Mh(this.xf,e,this.retained),this.retained=[],this.xf["@@transducer/step"](e,t)},e.prototype.retain=function(e,t){return this.retained.push(t),e},e}();var vd=Fp(Lp([],(function(e){return function(t){return new gd(e,t)}}),(function(e,t){for(var r=t.length-1;r>=0&&e(t[r]);)r-=1;return sd(0,r+1,t)}))),bd=Mp((function(e){return Sh(-1,e)})),xd=function(){function e(e,t){this.xf=t,this.f=e}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=Vp,e.prototype["@@transducer/step"]=function(e,t){if(this.f){if(this.f(t))return e;this.f=null}return this.xf["@@transducer/step"](e,t)},e}();var wd=Fp(Lp(["dropWhile"],(function(e){return function(t){return new xd(e,t)}}),(function(e,t){for(var r=0,s=t.length;r<s&&e(t[r]);)r+=1;return sd(r,1/0,t)}))),Ed=Fp((function(e,t){return e||t})),jd=Fp((function(e,t){return Jh(e)?function(){return e.apply(this,arguments)||t.apply(this,arguments)}:Wh(Ed)(e,t)})),Od=Mp((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():qp(e)?[]:Oh(e)?"":mh(e)?{}:Xp(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0})),Sd=Mp((function(e){return Rp(e.length,(function(t,r){var s=Array.prototype.slice.call(arguments,0);return s[0]=r,s[1]=t,e.apply(this,s)}))})),Pd=Fp(rd("groupBy",ud((function(e,t){return e.push(t),e}),[]))),Ad=Fp((function(e,t){if(0===e.length||zh(t))return!1;for(var r=t,s=0;s<e.length;){if(zh(r)||!Wp(e[s],r))return!1;r=r[e[s]],s+=1}return!0})),$d=Fp((function(e,t){return Ad([e],t)})),kd=function(e,t){switch(arguments.length){case 0:return kd;case 1:return function t(r){return 0===arguments.length?t:Kp(e,r)};default:return Kp(e,t)}},Td=Dp((function(e,t,r){return Rp(Math.max(e.length,t.length,r.length),(function(){return e.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)}))})),Cd=Fp(ah),Md=sd(0,-1),Fd=Fp((function(e,t){return Rp(e+1,(function(){var r=arguments[e];if(null!=r&&Jh(r[t]))return r[t].apply(r,Array.prototype.slice.call(arguments,0,e));throw new TypeError(bh(r)+' does not have a method named "'+t+'"')}))})),Id=Mp((function(e){return null!=e&&oh(e,Od(e))})),_d=Mp((function(e){return!Id(e)})),Rd=Fd(1,"join");function Dd(e){return"[object Number]"===Object.prototype.toString.call(e)}var qd=Fp((function(e,t){return function(r){return function(s){return Eh((function(e){return t(e,s)}),r(e(s)))}}}));function Nd(e,t){for(var r=t,s=0;s<e.length;s+=1){if(null==r)return;var n=e[s];r=jh(n)?Sh(n,r):r[n]}return r}var Ld=Fp((function(e,t){return dh((function(r,s){return r[s]=e(t[s],s,t),r}),{},rh(t))})),Bd=Dp((function(e,t,r){var s,n={};for(s in r=r||{},t=t||{})Wp(s,t)&&(n[s]=Wp(s,r)?e(s,t[s],r[s]):t[s]);for(s in r)Wp(s,r)&&!Wp(s,n)&&(n[s]=r[s]);return n})),Ud=Dp((function e(t,r,s){return Bd((function(r,s,n){return mh(s)&&mh(n)?e(t,s,n):t(r,s,n)}),r,s)})),Vd=Fp((function(e,t){return Ud((function(e,t,r){return r}),e,t)})),zd=Fp((function(e,t){return Hp(hh(e),t)})),Hd=function(e){return{value:e,map:function(t){return Hd(t(e))}}},Jd=Dp((function(e,t,r){return e((function(e){return Hd(t(e))}))(r).value})),Gd=Fp(Nd),Wd=Dp((function(e,t,r){return pd(e,Nd(t,r))})),Kd=Dp((function(e,t,r){return e(Nd(t,r))})),Yd=Fp((function(e,t){for(var r={},s=0;s<e.length;)e[s]in t&&(r[e[s]]=t[e[s]]),s+=1;return r})),Xd=Dp((function(e,t,r){return oh(e,Ph(t,r))})),Zd=Dp((function(e,t,r){return pd(e,Ph(t,r))})),Qd=Dp((function(e,t,r){return e(Ph(t,r))})),em=Fp((function(e,t){if(!Dd(e)||!Dd(t))throw new TypeError("Both arguments to range must be numbers");for(var r=Array(e<t?t-e:0),s=e<0?t+Math.abs(e):t-e,n=0;n<s;)r[n]=n+e,n+=1;return r})),tm=Mp(Bp),rm=Dp((function(e,t,r){return r.replace(e,t)})),sm=Fp((function(e,t){return Array.prototype.slice.call(t,0).sort(e)})),nm=Fd(1,"split"),im=Fp((function(e,t){return oh(yd(e.length,t),e)})),om=Fp((function(e,t){if(r=e,"[object RegExp]"!==Object.prototype.toString.call(r))throw new TypeError("â€˜testâ€™ requires a value of type RegExp as its first argument; received "+bh(e));var r;return Yh(e).test(t)})),am=function(){function e(e,t){this.xf=t,this.pred=e,this.items=[]}return e.prototype["@@transducer/init"]=Up,e.prototype["@@transducer/result"]=Vp,e.prototype["@@transducer/step"]=function(e,t){return Gp(this.pred,t,this.items)?e:(this.items.push(t),this.xf["@@transducer/step"](e,t))},e}();var cm=Fp(Lp([],(function(e){return function(t){return new am(e,t)}}),(function(e,t){for(var r,s=0,n=t.length,i=[];s<n;)Gp(e,r=t[s],i)||(i[i.length]=r),s+=1;return i}))),lm=Dp((function(e,t,r){return e(r)?t(r):r})),um=Dh(void 0),pm=oh(um()),hm=ed(pm),dm=oh(null),mm=ed(dm),fm=ed(zh),ym=Rp(1,id(sh,kd("GeneratorFunction"))),gm=Rp(1,id(sh,kd("AsyncFunction"))),vm=Nh([id(sh,kd("Function")),ym,gm]),bm=Rp(1,vm(Array.isArray)?Array.isArray:id(sh,kd("Array"))),xm=Kh(bm,Id),wm=Kh(bm,_d),Em=Rp(1,id(sh,kd("String"))),jm=oh("");function Om(e){return Om="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(e)}var Sm=function(e){return"object"===Om(e)},Pm=ed(Rp(1,Kh(mm,jd(Sm,vm)))),Am=Rh([Em,Pm,_d]),$m=ed(vm),km=Rp(1,Kh(mm,Sm)),Tm=id(sh,kd("Object")),Cm=id(bh,oh(bh(Object))),Mm=Kd(Kh(vm,Cm),["constructor"]),Fm=Rp(1,(function(e){if(!km(e)||!Tm(e))return!1;var t=Object.getPrototypeOf(e);return!!dm(t)||Mm(t)})),Im=Kh(Rp(1,id(sh,kd("Number"))),isFinite),_m=Rp(1,Im),Rm=Kh(vm(Number.isFinite)?Rp(1,Ch(Number.isFinite,Number)):_m,cd(oh,[Math.floor,ad])),Dm=Rp(1,Rm),qm=vm(Number.isInteger)?Rp(1,Ch(Number.isInteger,Number)):Dm,Nm=Rp(1,id(sh,kd("RegExp")));function Lm(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}var Bm,Um,Vm=id(sm(Qh((function(e,t){return e.length>t.length}))),od,Ph("length")),zm=Vh((function(e,t,r){var s=r.apply(void 0,function(e){return function(e){if(Array.isArray(e))return Lm(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Lm(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lm(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e));return fm(s)?tm(s):t})),Hm=Td(wm,(function(e){var t=Vm(e);return Rp(t,(function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return _h(zm(r),void 0,e)}))}),um),Jm=Sd(Cd),Gm=Rp(3,(function(e,t,r){var s=Gd(e,r),n=Gd(Md(e),r);if(!$m(s)&&!xm(e)){var i=Ch(s,n);return Uh(i,t)}})),Wm=lm(Em,rm(/[.*+?^${}()|[\]\\-]/g,"\\$&")),Km=function(e,t){if("string"!=typeof e&&!(e instanceof String))throw TypeError("`".concat(t,"` must be a string"))},Ym=Rp(3,(function(e,t,r){!function(e,t,r){if(null==r||null==e||null==t)throw TypeError("Input values must not be `null` or `undefined`")}(e,t,r),Km(r,"str"),Km(t,"replaceValue"),function(e){if(!("string"==typeof e||e instanceof String||e instanceof RegExp))throw TypeError("`searchValue` must be a string or an regexp")}(e);var s=new RegExp(Nm(e)?e:Wm(e),"g");return rm(s,t,r)})),Xm=Fd(2,"replaceAll"),Zm=vm(String.prototype.replaceAll)?Xm:Ym,Qm=Vh((function(e,t){return id(nm(""),vd(Jm(e)),Rd(""))(t)})),ef=Vh((function(e,t){return id(nm(""),wd(Jm(e)),Rd(""))(t)})),tf={exports:{}},rf=tf.exports={};function sf(){throw new Error("setTimeout has not been defined")}function nf(){throw new Error("clearTimeout has not been defined")}function of(e){if(Bm===setTimeout)return setTimeout(e,0);if((Bm===sf||!Bm)&&setTimeout)return Bm=setTimeout,setTimeout(e,0);try{return Bm(e,0)}catch(t){try{return Bm.call(null,e,0)}catch(t){return Bm.call(this,e,0)}}}!function(){try{Bm="function"==typeof setTimeout?setTimeout:sf}catch(e){Bm=sf}try{Um="function"==typeof clearTimeout?clearTimeout:nf}catch(e){Um=nf}}();var af,cf=[],lf=!1,uf=-1;function pf(){lf&&af&&(lf=!1,af.length?cf=af.concat(cf):uf=-1,cf.length&&hf())}function hf(){if(!lf){var e=of(pf);lf=!0;for(var t=cf.length;t;){for(af=cf,cf=[];++uf<t;)af&&af[uf].run();uf=-1,t=cf.length}af=null,lf=!1,function(e){if(Um===clearTimeout)return clearTimeout(e);if((Um===nf||!Um)&&clearTimeout)return Um=clearTimeout,clearTimeout(e);try{Um(e)}catch(t){try{return Um.call(null,e)}catch(t){return Um.call(this,e)}}}(e)}}function df(e,t){this.fun=e,this.array=t}function mf(){}rf.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];cf.push(new df(e,t)),1!==cf.length||lf||of(hf)},df.prototype.run=function(){this.fun.apply(null,this.array)},rf.title="browser",rf.browser=!0,rf.env={},rf.argv=[],rf.version="",rf.versions={},rf.on=mf,rf.addListener=mf,rf.once=mf,rf.off=mf,rf.removeListener=mf,rf.removeAllListeners=mf,rf.emit=mf,rf.prependListener=mf,rf.prependOnceListener=mf,rf.listeners=function(e){return[]},rf.binding=function(e){throw new Error("process.binding is not supported")},rf.cwd=function(){return"/"},rf.chdir=function(e){throw new Error("process.chdir is not supported")},rf.umask=function(){return 0};const ff=mr(tf.exports),yf=()=>Kd(om(/^win/),["platform"],ff),gf=e=>{try{const t=new URL(e);return Qm(":",t.protocol)}catch{return}},vf=id(gf,hm),bf=e=>{const t=e.lastIndexOf(".");return t>=0?e.substring(t).toLowerCase():""},xf=e=>{if(ff.browser)return!1;const t=gf(e);return pm(t)||"file"===t||/^[a-zA-Z]$/.test(t)},wf=e=>{const t=gf(e);return"http"===t||"https"===t},Ef=(e,t)=>{const r=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],s=Zd(!1,"keepFileProtocol",t),n=Zd(yf,"isWindows",t);let i=decodeURI(e);for(let a=0;a<r.length;a+=2)i=i.replace(r[a],r[a+1]);let o="file://"===i.substring(0,7).toLowerCase();return o&&(i="/"===i[7]?i.substring(8):i.substring(7),n()&&"/"===i[1]&&(i=`${i[0]}:${i.substring(1)}`),s?i=`file:///${i}`:(o=!1,i=n()?i:`/${i}`)),n()&&!o&&(i=Zm("/","\\",i),":\\"===i.substring(1,3)&&(i=i[0].toUpperCase()+i.substring(1))),i},jf=e=>{const t=[/\?/g,"%3F",/#/g,"%23"];let r=e;yf()&&(r=r.replace(/\\/g,"/")),r=encodeURI(r);for(let s=0;s<t.length;s+=2)r=r.replace(t[s],t[s+1]);return r},Of=e=>{const t=e.indexOf("#");return-1!==t?e.substring(t):"#"},Sf=e=>{const t=e.indexOf("#");let r=e;return t>=0&&(r=e.substring(0,t)),r},Pf=()=>{if(ff.browser)return Sf(globalThis.location.href);const e=ff.cwd(),t=bd(e);return["/","\\"].includes(t)?e:e+(yf()?"\\":"/")},Af=(e,t)=>{const r=new URL(t,new URL(e,"resolve://"));if("resolve:"===r.protocol){const{pathname:e,search:t,hash:s}=r;return e+t+s}return r.toString()},$f=e=>{if(xf(e))return jf(Ef(e));try{return new URL(e).toString()}catch{return encodeURI(decodeURI(e)).replace(/%5B/g,"[").replace(/%5D/g,"]")}},kf=e=>xf(e)?Ef(e):decodeURI(e),Tf=Object.freeze(Object.defineProperty({__proto__:null,cwd:Pf,fromFileSystemPath:jf,getExtension:bf,getHash:Of,getProtocol:gf,hasProtocol:vf,isFileSystemPath:xf,isHttpUrl:wf,isURI:e=>{try{return new URL(e)&&!0}catch{return!1}},resolve:Af,sanitize:$f,stripHash:Sf,toFileSystemPath:Ef,unsanitize:kf},Symbol.toStringTag,{value:"Module"}));let Cf=class{uri;mediaType;data;parseResult;constructor({uri:e,mediaType:t="text/plain",data:r,parseResult:s}){this.uri=e,this.mediaType=t,this.data=r,this.parseResult=s}get extension(){return Em(this.uri)?bf(this.uri):""}toString(){return"string"==typeof this.data?this.data:this.data instanceof ArrayBuffer||["ArrayBuffer"].includes(sh(this.data))||ArrayBuffer.isView(this.data)?new TextDecoder("utf-8").decode(this.data):String(this.data)}};class Mf{rootRef;refs;circular;constructor({refs:e=[],circular:t=!1}={}){this.refs=[],this.circular=t,e.forEach(this.add.bind(this))}get size(){return this.refs.length}add(e){return this.has(e)||(this.refs.push(e),this.rootRef=void 0===this.rootRef?e:this.rootRef,e.refSet=this),this}merge(e){for(const t of e.values())this.add(t);return this}has(e){const t=Em(e)?e:e.uri;return hm(this.find((e=>e.uri===t)))}find(e){return this.refs.find(e)}*values(){yield*this.refs}clean(){this.refs.forEach((e=>{e.refSet=void 0})),this.rootRef=void 0,this.refs.length=0}}const Ff={parse:{mediaType:"text/plain",parsers:[],parserOpts:{}},resolve:{baseURI:"",resolvers:[],resolverOpts:{},strategies:[],strategyOpts:{},internal:!0,external:!0,maxDepth:1/0},dereference:{strategies:[],strategyOpts:{},refSet:null,maxDepth:1/0,circular:"ignore",circularReplacer:ad,immutable:!0},bundle:{strategies:[],refSet:null,maxDepth:1/0}},If=qd(Gd(["resolve","baseURI"]),Hh(["resolve","baseURI"])),_f=e=>jm(e)?Pf():e,Rf=(e,t)=>{const r=Vd(e,t);return Jd(If,_f,r)};class Df extends Sp{plugin;constructor(e,t){super(e,{cause:t.cause}),this.plugin=t.plugin}}const qf=async(e,t,r)=>{const s=await Promise.all(r.map(Gm([e],t)));return r.filter(((e,t)=>s[t]))},Nf=async(e,t,r)=>{let s;for(const n of r)try{const r=await n[e].call(n,...t);return{plugin:n,result:r}}catch(e){s=new Df("Error while running plugin",{cause:e,plugin:n})}return Promise.reject(s)};class Lf extends Sp{}class Bf extends Sp{}class Uf extends Bf{}class Vf extends Uf{}var zf="object"==typeof global&&global&&global.Object===Object&&global,Hf=zf,Jf="object"==typeof self&&self&&self.Object===Object&&self,Gf=Hf||Jf||Function("return this")(),Wf=Gf.Symbol,Kf=Wf,Yf=Object.prototype,Xf=Yf.hasOwnProperty,Zf=Yf.toString,Qf=Kf?Kf.toStringTag:void 0,ey=Object.prototype.toString,ty=function(e){var t=Xf.call(e,Qf),r=e[Qf];try{e[Qf]=void 0;var s=!0}catch(e){}var n=Zf.call(e);return s&&(t?e[Qf]=r:delete e[Qf]),n},ry=Wf?Wf.toStringTag:void 0,sy=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ry&&ry in Object(e)?ty(e):function(e){return ey.call(e)}(e)},ny=Array.isArray,iy=function(e){return null!=e&&"object"==typeof e},oy=sy,ay=ny,cy=iy,ly=sy,uy=iy,py=sy,hy=iy,dy=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},my=function(e,t){return e===t||e!=e&&t!=t},fy=my,yy=function(e,t){for(var r=e.length;r--;)if(fy(e[r][0],t))return r;return-1},gy=yy,vy=Array.prototype.splice,by=yy,xy=yy,wy=yy,Ey=function(){this.o=[],this.size=0},jy=function(e){var t=this.o,r=gy(t,e);return!(r<0||(r==t.length-1?t.pop():vy.call(t,r,1),--this.size,0))},Oy=function(e){var t=this.o,r=by(t,e);return r<0?void 0:t[r][1]},Sy=function(e,t){var r=this.o,s=wy(r,e);return s<0?(++this.size,r.push([e,t])):r[s][1]=t,this};function Py(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}Py.prototype.clear=Ey,Py.prototype.delete=jy,Py.prototype.get=Oy,Py.prototype.has=function(e){return xy(this.o,e)>-1},Py.prototype.set=Sy;var Ay=Py,$y=Ay,ky=sy,Ty=dy,Cy=function(e){if(!Ty(e))return!1;var t=ky(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},My=Gf.u,Fy=function(){var e=/[^.]+$/.exec(My&&My.keys&&My.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Iy=Function.prototype.toString,_y=function(e){if(null!=e){try{return Iy.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ry=Cy,Dy=function(e){return!!Fy&&Fy in e},qy=dy,Ny=_y,Ly=/^\[object .+?Constructor\]$/,By=Function.prototype,Uy=Object.prototype,Vy=By.toString,zy=Uy.hasOwnProperty,Hy=RegExp("^"+Vy.call(zy).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Jy=function(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!qy(e)||Dy(e))&&(Ry(e)?Hy:Ly).test(Ny(e))}(r)?r:void 0},Gy=Jy(Gf,"Map"),Wy=Jy(Object,"create"),Ky=Wy,Yy=Wy,Xy=Object.prototype.hasOwnProperty,Zy=Wy,Qy=Object.prototype.hasOwnProperty,eg=Wy,tg=function(){this.o=Ky?Ky(null):{},this.size=0},rg=function(e){var t=this.has(e)&&delete this.o[e];return this.size-=t?1:0,t},sg=function(e){var t=this.o;if(Yy){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Xy.call(t,e)?t[e]:void 0},ng=function(e){var t=this.o;return Zy?void 0!==t[e]:Qy.call(t,e)},ig=function(e,t){var r=this.o;return this.size+=this.has(e)?0:1,r[e]=eg&&void 0===t?"__lodash_hash_undefined__":t,this};function og(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}og.prototype.clear=tg,og.prototype.delete=rg,og.prototype.get=sg,og.prototype.has=ng,og.prototype.set=ig;var ag=og,cg=Ay,lg=Gy,ug=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},pg=function(e,t){var r=e.o;return ug(t)?r["string"==typeof t?"string":"hash"]:r.map},hg=pg,dg=pg,mg=pg,fg=pg,yg=function(e,t){var r=fg(this,e),s=r.size;return r.set(e,t),this.size+=r.size==s?0:1,this};function gg(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var s=e[t];this.set(s[0],s[1])}}gg.prototype.clear=function(){this.size=0,this.o={hash:new ag,map:new(lg||cg),string:new ag}},gg.prototype.delete=function(e){var t=hg(this,e).delete(e);return this.size-=t?1:0,t},gg.prototype.get=function(e){return dg(this,e).get(e)},gg.prototype.has=function(e){return mg(this,e).has(e)},gg.prototype.set=yg;var vg=gg,bg=Ay,xg=Gy,wg=vg,Eg=Ay,jg=function(){this.o=new $y,this.size=0},Og=function(e){var t=this.o,r=t.delete(e);return this.size=t.size,r},Sg=function(e){return this.o.get(e)},Pg=function(e){return this.o.has(e)},Ag=function(e,t){var r=this.o;if(r instanceof bg){var s=r.o;if(!xg||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.o=new wg(s)}return r.set(e,t),this.size=r.size,this};function $g(e){var t=this.o=new Eg(e);this.size=t.size}$g.prototype.clear=jg,$g.prototype.delete=Og,$g.prototype.get=Sg,$g.prototype.has=Pg,$g.prototype.set=Ag;var kg=$g,Tg=vg;function Cg(e){var t=-1,r=null==e?0:e.length;for(this.o=new Tg;++t<r;)this.add(e[t])}Cg.prototype.add=Cg.prototype.push=function(e){return this.o.set(e,"__lodash_hash_undefined__"),this},Cg.prototype.has=function(e){return this.o.has(e)};var Mg=Cg,Fg=function(e,t){for(var r=-1,s=null==e?0:e.length;++r<s;)if(t(e[r],r,e))return!0;return!1},Ig=function(e,t){return e.has(t)},_g=function(e,t,r,s,n,i){var o=1&r,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=i.get(e),u=i.get(t);if(l&&u)return l==t&&u==e;var p=-1,h=!0,d=2&r?new Mg:void 0;for(i.set(e,t),i.set(t,e);++p<a;){var m=e[p],f=t[p];if(s)var y=o?s(f,m,p,t,e,i):s(m,f,p,e,t,i);if(void 0!==y){if(y)continue;h=!1;break}if(d){if(!Fg(t,(function(e,t){if(!Ig(d,t)&&(m===e||n(m,e,r,s,i)))return d.push(t)}))){h=!1;break}}else if(m!==f&&!n(m,f,r,s,i)){h=!1;break}}return i.delete(e),i.delete(t),h},Rg=Gf.Uint8Array,Dg=my,qg=_g,Ng=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,s){r[++t]=[s,e]})),r},Lg=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Bg=Wf?Wf.prototype:void 0,Ug=Bg?Bg.valueOf:void 0,Vg=function(e,t){for(var r=-1,s=t.length,n=e.length;++r<s;)e[n+r]=t[r];return e},zg=ny,Hg=function(e,t){for(var r=-1,s=null==e?0:e.length,n=0,i=[];++r<s;){var o=e[r];t(o,r,e)&&(i[n++]=o)}return i},Jg=Object.prototype.propertyIsEnumerable,Gg=Object.getOwnPropertySymbols,Wg=Gg?function(e){return null==e?[]:(e=Object(e),Hg(Gg(e),(function(t){return Jg.call(e,t)})))}:function(){return[]},Kg=sy,Yg=iy,Xg=function(e){return Yg(e)&&"[object Arguments]"==Kg(e)},Zg=iy,Qg=Object.prototype,ev=Qg.hasOwnProperty,tv=Qg.propertyIsEnumerable,rv=Xg(function(){return arguments}())?Xg:function(e){return Zg(e)&&ev.call(e,"callee")&&!tv.call(e,"callee")},sv=rv,nv={exports:{}},iv=function(){return!1};!function(e,t){var r=Gf,s=iv,n=t&&!t.nodeType&&t,i=n&&e&&!e.nodeType&&e,o=i&&i.exports===n?r.Buffer:void 0,a=(o?o.isBuffer:void 0)||s;e.exports=a}(nv,nv.exports);var ov=nv.exports,av=/^(?:0|[1-9]\d*)$/,cv=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},lv=sy,uv=cv,pv=iy,hv={};hv["[object Float32Array]"]=hv["[object Float64Array]"]=hv["[object Int8Array]"]=hv["[object Int16Array]"]=hv["[object Int32Array]"]=hv["[object Uint8Array]"]=hv["[object Uint8ClampedArray]"]=hv["[object Uint16Array]"]=hv["[object Uint32Array]"]=!0,hv["[object Arguments]"]=hv["[object Array]"]=hv["[object ArrayBuffer]"]=hv["[object Boolean]"]=hv["[object DataView]"]=hv["[object Date]"]=hv["[object Error]"]=hv["[object Function]"]=hv["[object Map]"]=hv["[object Number]"]=hv["[object Object]"]=hv["[object RegExp]"]=hv["[object Set]"]=hv["[object String]"]=hv["[object WeakMap]"]=!1;var dv={exports:{}};!function(e,t){var r=zf,s=t&&!t.nodeType&&t,n=s&&e&&!e.nodeType&&e,i=n&&n.exports===s&&r.process,o=function(){try{return n&&n.require&&n.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}(dv,dv.exports);var mv=dv.exports,fv=function(e){return pv(e)&&uv(e.length)&&!!hv[lv(e)]},yv=function(e){return function(t){return e(t)}},gv=mv&&mv.isTypedArray,vv=gv?yv(gv):fv,bv=function(e,t){for(var r=-1,s=Array(e);++r<e;)s[r]=t(r);return s},xv=sv,wv=ny,Ev=ov,jv=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&av.test(e))&&e>-1&&e%1==0&&e<t},Ov=vv,Sv=Object.prototype.hasOwnProperty,Pv=Object.prototype,Av=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),$v=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Pv)},kv=Av,Tv=Object.prototype.hasOwnProperty,Cv=Cy,Mv=cv,Fv=function(e,t){var r=wv(e),s=!r&&xv(e),n=!r&&!s&&Ev(e),i=!r&&!s&&!n&&Ov(e),o=r||s||n||i,a=o?bv(e.length,String):[],c=a.length;for(var l in e)!t&&!Sv.call(e,l)||o&&("length"==l||n&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||jv(l,c))||a.push(l);return a},Iv=function(e,t,r){var s=t(e);return zg(e)?s:Vg(s,r(e))},_v=Wg,Rv=function(e){return function(e){return null!=e&&Mv(e.length)&&!Cv(e)}(e)?Fv(e):function(e){if(!$v(e))return kv(e);var t=[];for(var r in Object(e))Tv.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)},Dv=function(e){return Iv(e,Rv,_v)},qv=Object.prototype.hasOwnProperty,Nv=Jy(Gf,"DataView"),Lv=Gy,Bv=Jy(Gf,"Promise"),Uv=Jy(Gf,"Set"),Vv=Jy(Gf,"WeakMap"),zv=sy,Hv=_y,Jv="[object Map]",Gv="[object Promise]",Wv="[object Set]",Kv="[object WeakMap]",Yv="[object DataView]",Xv=Hv(Nv),Zv=Hv(Lv),Qv=Hv(Bv),eb=Hv(Uv),tb=Hv(Vv),rb=zv;(Nv&&rb(new Nv(new ArrayBuffer(1)))!=Yv||Lv&&rb(new Lv)!=Jv||Bv&&rb(Bv.resolve())!=Gv||Uv&&rb(new Uv)!=Wv||Vv&&rb(new Vv)!=Kv)&&(rb=function(e){var t=zv(e),r="[object Object]"==t?e.constructor:void 0,s=r?Hv(r):"";if(s)switch(s){case Xv:return Yv;case Zv:return Jv;case Qv:return Gv;case eb:return Wv;case tb:return Kv}return t});var sb=kg,nb=_g,ib=function(e,t,r,s,n,i,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Rg(e),new Rg(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Dg(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=Ng;case"[object Set]":var c=1&s;if(a||(a=Lg),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;s|=2,o.set(e,t);var u=qg(a(e),a(t),s,n,i,o);return o.delete(e),u;case"[object Symbol]":if(Ug)return Ug.call(e)==Ug.call(t)}return!1},ob=function(e,t,r,s,n,i){var o=1&r,a=Dv(e),c=a.length;if(c!=Dv(t).length&&!o)return!1;for(var l=c;l--;){var u=a[l];if(!(o?u in t:qv.call(t,u)))return!1}var p=i.get(e),h=i.get(t);if(p&&h)return p==t&&h==e;var d=!0;i.set(e,t),i.set(t,e);for(var m=o;++l<c;){var f=e[u=a[l]],y=t[u];if(s)var g=o?s(y,f,u,t,e,i):s(f,y,u,e,t,i);if(!(void 0===g?f===y||n(f,y,r,s,i):g)){d=!1;break}m||(m="constructor"==u)}if(d&&!m){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(d=!1)}return i.delete(e),i.delete(t),d},ab=rb,cb=ny,lb=ov,ub=vv,pb="[object Arguments]",hb="[object Array]",db="[object Object]",mb=Object.prototype.hasOwnProperty,fb=iy,yb=function e(t,r,s,n,i){return t===r||(null==t||null==r||!fb(t)&&!fb(r)?t!=t&&r!=r:function(e,t,r,s,n,i){var o=cb(e),a=cb(t),c=o?hb:ab(e),l=a?hb:ab(t),u=(c=c==pb?db:c)==db,p=(l=l==pb?db:l)==db,h=c==l;if(h&&lb(e)){if(!lb(t))return!1;o=!0,u=!1}if(h&&!u)return i||(i=new sb),o||ub(e)?nb(e,t,r,s,n,i):ib(e,t,c,r,s,n,i);if(!(1&r)){var d=u&&mb.call(e,"__wrapped__"),m=p&&mb.call(t,"__wrapped__");if(d||m){var f=d?e.value():e,y=m?t.value():t;return i||(i=new sb),n(f,y,r,s,i)}}return!!h&&(i||(i=new sb),ob(e,t,r,s,n,i))}(t,r,s,n,e,i))},gb=class e{constructor(e,t){this.key=e,this.value=t}clone(){const t=new e;return this.key&&(t.key=this.key.clone()),this.value&&(t.value=this.value.clone()),t}},vb=function(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}};const bb=vb;function xb(e){return"string"==typeof e?t=>t.element===e:e.constructor&&e.extend?t=>t instanceof e:e}let wb=class e{constructor(e){this.elements=e||[]}toValue(){return this.elements.map((e=>e.toValue()))}map(e,t){return this.elements.map(e,t)}flatMap(e,t){return this.map(e,t).reduce(((e,t)=>e.concat(t)),[])}compactMap(e,t){const r=[];return this.forEach((s=>{const n=e.bind(t)(s);n&&r.push(n)})),r}filter(t,r){return t=xb(t),new e(this.elements.filter(t,r))}reject(t,r){return t=xb(t),new e(this.elements.filter(bb(t),r))}find(e,t){return e=xb(e),this.elements.find(e,t)}forEach(e,t){this.elements.forEach(e,t)}reduce(e,t){return this.elements.reduce(e,t)}includes(e){return this.elements.some((t=>t.equals(e)))}shift(){return this.elements.shift()}unshift(e){this.elements.unshift(this.refract(e))}push(e){return this.elements.push(this.refract(e)),this}add(e){this.push(e)}get(e){return this.elements[e]}getValue(e){const t=this.elements[e];if(t)return t.toValue()}get length(){return this.elements.length}get isEmpty(){return 0===this.elements.length}get first(){return this.elements[0]}};"undefined"!=typeof Symbol&&(wb.prototype[Symbol.iterator]=function(){return this.elements[Symbol.iterator]()});var Eb=wb;const jb=function(e,t){return yb(e,t)},Ob=gb,Sb=Eb;var Pb=class e{constructor(e,t,r){t&&(this.meta=t),r&&(this.attributes=r),this.content=e}freeze(){Object.isFrozen(this)||(this._meta&&(this.meta.parent=this,this.meta.freeze()),this._attributes&&(this.attributes.parent=this,this.attributes.freeze()),this.children.forEach((e=>{e.parent=this,e.freeze()}),this),this.content&&Array.isArray(this.content)&&Object.freeze(this.content),Object.freeze(this))}primitive(){}clone(){const e=new this.constructor;return e.element=this.element,this.meta.length&&(e._meta=this.meta.clone()),this.attributes.length&&(e._attributes=this.attributes.clone()),this.content?this.content.clone?e.content=this.content.clone():Array.isArray(this.content)?e.content=this.content.map((e=>e.clone())):e.content=this.content:e.content=this.content,e}toValue(){return this.content instanceof e?this.content.toValue():this.content instanceof Ob?{key:this.content.key.toValue(),value:this.content.value?this.content.value.toValue():void 0}:this.content&&this.content.map?this.content.map((e=>e.toValue()),this):this.content}toRef(e){if(""===this.id.toValue())throw Error("Cannot create reference to an element that does not contain an ID");const t=new this.RefElement(this.id.toValue());return e&&(t.path=e),t}findRecursive(...e){if(arguments.length>1&&!this.isFrozen)throw new Error("Cannot find recursive with multiple element names without first freezing the element. Call `element.freeze()`");const t=e.pop();let r=new Sb;const s=(e,t)=>(e.push(t),e),n=(e,r)=>{r.element===t&&e.push(r);const i=r.findRecursive(t);return i&&i.reduce(s,e),r.content instanceof Ob&&(r.content.key&&n(e,r.content.key),r.content.value&&n(e,r.content.value)),e};return this.content&&(this.content.element&&n(r,this.content),Array.isArray(this.content)&&this.content.reduce(n,r)),e.isEmpty||(r=r.filter((t=>{let r=t.parents.map((e=>e.element));for(const s in e){const t=e[s],n=r.indexOf(t);if(-1===n)return!1;r=r.splice(0,n)}return!0}))),r}set(e){return this.content=e,this}equals(e){return jb(this.toValue(),e)}getMetaProperty(e,t){if(!this.meta.hasKey(e)){if(this.isFrozen){const e=this.refract(t);return e.freeze(),e}this.meta.set(e,t)}return this.meta.get(e)}setMetaProperty(e,t){this.meta.set(e,t)}get element(){return this._storedElement||"element"}set element(e){this._storedElement=e}get content(){return this._content}set content(t){if(t instanceof e)this._content=t;else if(t instanceof Sb)this.content=t.elements;else if("string"==typeof t||"number"==typeof t||"boolean"==typeof t||"null"===t||null==t)this._content=t;else if(t instanceof Ob)this._content=t;else if(Array.isArray(t))this._content=t.map(this.refract);else{if("object"!=typeof t)throw new Error("Cannot set content to given value");this._content=Object.keys(t).map((e=>new this.MemberElement(e,t[e])))}}get meta(){if(!this._meta){if(this.isFrozen){const e=new this.ObjectElement;return e.freeze(),e}this._meta=new this.ObjectElement}return this._meta}set meta(e){e instanceof this.ObjectElement?this._meta=e:this.meta.set(e||{})}get attributes(){if(!this._attributes){if(this.isFrozen){const e=new this.ObjectElement;return e.freeze(),e}this._attributes=new this.ObjectElement}return this._attributes}set attributes(e){e instanceof this.ObjectElement?this._attributes=e:this.attributes.set(e||{})}get id(){return this.getMetaProperty("id","")}set id(e){this.setMetaProperty("id",e)}get classes(){return this.getMetaProperty("classes",[])}set classes(e){this.setMetaProperty("classes",e)}get title(){return this.getMetaProperty("title","")}set title(e){this.setMetaProperty("title",e)}get description(){return this.getMetaProperty("description","")}set description(e){this.setMetaProperty("description",e)}get links(){return this.getMetaProperty("links",[])}set links(e){this.setMetaProperty("links",e)}get isFrozen(){return Object.isFrozen(this)}get parents(){let{parent:e}=this;const t=new Sb;for(;e;)t.push(e),e=e.parent;return t}get children(){if(Array.isArray(this.content))return new Sb(this.content);if(this.content instanceof Ob){const e=new Sb([this.content.key]);return this.content.value&&e.push(this.content.value),e}return this.content instanceof e?new Sb([this.content]):new Sb}get recursiveChildren(){const e=new Sb;return this.children.forEach((t=>{e.push(t),t.recursiveChildren.forEach((t=>{e.push(t)}))})),e}};const Ab=Pb;const $b=Pb,kb=Pb,Tb=Pb,Cb=vb,Mb=Pb,Fb=Eb;let Ib=class extends Mb{constructor(e,t,r){super(e||[],t,r),this.element="array"}primitive(){return"array"}get(e){return this.content[e]}getValue(e){const t=this.get(e);if(t)return t.toValue()}getIndex(e){return this.content[e]}set(e,t){return this.content[e]=this.refract(t),this}remove(e){const t=this.content.splice(e,1);return t.length?t[0]:null}map(e,t){return this.content.map(e,t)}flatMap(e,t){return this.map(e,t).reduce(((e,t)=>e.concat(t)),[])}compactMap(e,t){const r=[];return this.forEach((s=>{const n=e.bind(t)(s);n&&r.push(n)})),r}filter(e,t){return new Fb(this.content.filter(e,t))}reject(e,t){return this.filter(Cb(e),t)}reduce(e,t){let r,s;void 0!==t?(r=0,s=this.refract(t)):(r=1,s="object"===this.primitive()?this.first.value:this.first);for(let n=r;n<this.length;n+=1){const t=this.content[n];s="object"===this.primitive()?this.refract(e(s,t.value,t.key,t,this)):this.refract(e(s,t,n,this))}return s}forEach(e,t){this.content.forEach(((r,s)=>{e.bind(t)(r,this.refract(s))}))}shift(){return this.content.shift()}unshift(e){this.content.unshift(this.refract(e))}push(e){return this.content.push(this.refract(e)),this}add(e){this.push(e)}findElements(e,t){const r=t||{},s=!!r.recursive,n=void 0===r.results?[]:r.results;return this.forEach(((t,r,i)=>{s&&void 0!==t.findElements&&t.findElements(e,{results:n,recursive:s}),e(t,r,i)&&n.push(t)})),n}find(e){return new Fb(this.findElements(e,{recursive:!0}))}findByElement(e){return this.find((t=>t.element===e))}findByClass(e){return this.find((t=>t.classes.includes(e)))}getById(e){return this.find((t=>t.id.toValue()===e)).first}includes(e){return this.content.some((t=>t.equals(e)))}contains(e){return this.includes(e)}empty(){return new this.constructor([])}"fantasy-land/empty"(){return this.empty()}concat(e){return new this.constructor(this.content.concat(e.content))}"fantasy-land/concat"(e){return this.concat(e)}"fantasy-land/map"(e){return new this.constructor(this.map(e))}"fantasy-land/chain"(e){return this.map((t=>e(t)),this).reduce(((e,t)=>e.concat(t)),this.empty())}"fantasy-land/filter"(e){return new this.constructor(this.content.filter(e))}"fantasy-land/reduce"(e,t){return this.content.reduce(e,t)}get length(){return this.content.length}get isEmpty(){return 0===this.content.length}get first(){return this.getIndex(0)}get second(){return this.getIndex(1)}get last(){return this.getIndex(this.length-1)}};Ib.empty=function(){return new this},Ib["fantasy-land/empty"]=Ib.empty,"undefined"!=typeof Symbol&&(Ib.prototype[Symbol.iterator]=function(){return this.content[Symbol.iterator]()});var _b=Ib;const Rb=gb,Db=Pb;var qb=class extends Db{constructor(e,t,r,s){super(new Rb,r,s),this.element="member",this.key=e,this.value=t}get key(){return this.content.key}set key(e){this.content.key=this.refract(e)}get value(){return this.content.value}set value(e){this.content.value=this.refract(e)}};const Nb=vb,Lb=Eb;var Bb=class e extends Lb{map(e,t){return this.elements.map((r=>e.bind(t)(r.value,r.key,r)))}filter(t,r){return new e(this.elements.filter((e=>t.bind(r)(e.value,e.key,e))))}reject(e,t){return this.filter(Nb(e.bind(t)))}forEach(e,t){return this.elements.forEach(((r,s)=>{e.bind(t)(r.value,r.key,r,s)}))}keys(){return this.map(((e,t)=>t.toValue()))}values(){return this.map((e=>e.toValue()))}};const Ub=vb,Vb=dy,zb=_b,Hb=qb,Jb=Bb;const Gb=Pb,Wb=Pb,Kb=Pb,Yb=class extends Ab{constructor(e,t,r){super(e||null,t,r),this.element="null"}primitive(){return"null"}set(){return new Error("Cannot set the value of null")}},Xb=class extends $b{constructor(e,t,r){super(e,t,r),this.element="string"}primitive(){return"string"}get length(){return this.content.length}},Zb=class extends kb{constructor(e,t,r){super(e,t,r),this.element="number"}primitive(){return"number"}},Qb=class extends Tb{constructor(e,t,r){super(e,t,r),this.element="boolean"}primitive(){return"boolean"}},ex=_b,tx=qb,rx=class extends zb{constructor(e,t,r){super(e||[],t,r),this.element="object"}primitive(){return"object"}toValue(){return this.content.reduce(((e,t)=>(e[t.key.toValue()]=t.value?t.value.toValue():void 0,e)),{})}get(e){const t=this.getMember(e);if(t)return t.value}getMember(e){if(void 0!==e)return this.content.find((t=>t.key.toValue()===e))}remove(e){let t=null;return this.content=this.content.filter((r=>r.key.toValue()!==e||(t=r,!1))),t}getKey(e){const t=this.getMember(e);if(t)return t.key}set(e,t){if(Vb(e))return Object.keys(e).forEach((t=>{this.set(t,e[t])})),this;const r=e,s=this.getMember(r);return s?s.value=t:this.content.push(new Hb(r,t)),this}keys(){return this.content.map((e=>e.key.toValue()))}values(){return this.content.map((e=>e.value.toValue()))}hasKey(e){return this.content.some((t=>t.key.equals(e)))}items(){return this.content.map((e=>[e.key.toValue(),e.value.toValue()]))}map(e,t){return this.content.map((r=>e.bind(t)(r.value,r.key,r)))}compactMap(e,t){const r=[];return this.forEach(((s,n,i)=>{const o=e.bind(t)(s,n,i);o&&r.push(o)})),r}filter(e,t){return new Jb(this.content).filter(e,t)}reject(e,t){return this.filter(Ub(e),t)}forEach(e,t){return this.content.forEach((r=>e.bind(t)(r.value,r.key,r)))}},sx=class extends Wb{constructor(e,t,r){super(e||[],t,r),this.element="ref",this.path||(this.path="element")}get path(){return this.attributes.get("path")}set path(e){this.attributes.set("path",e)}},nx=Eb,ix=Bb,ox=gb;function ax(e){return e instanceof Kb?e:"string"==typeof e?new Xb(e):"number"==typeof e?new Zb(e):"boolean"==typeof e?new Qb(e):null===e?new Yb:Array.isArray(e)?new ex(e.map(ax)):"object"==typeof e?new rx(e):e}Kb.prototype.ObjectElement=rx,Kb.prototype.RefElement=sx,Kb.prototype.MemberElement=tx,Kb.prototype.refract=ax,nx.prototype.refract=ax;var cx={Element:Kb,NullElement:Yb,StringElement:Xb,NumberElement:Zb,BooleanElement:Qb,ArrayElement:ex,MemberElement:tx,ObjectElement:rx,LinkElement:class extends Gb{constructor(e,t,r){super(e||[],t,r),this.element="link"}get relation(){return this.attributes.get("relation")}set relation(e){this.attributes.set("relation",e)}get href(){return this.attributes.get("href")}set href(e){this.attributes.set("href",e)}},RefElement:sx,refract:ax,ArraySlice:nx,ObjectSlice:ix,KeyValuePair:ox};const lx=function(e){return null===e},ux=function(e){return"string"==typeof e||!ay(e)&&cy(e)&&"[object String]"==oy(e)},px=function(e){return"number"==typeof e||uy(e)&&"[object Number]"==ly(e)},hx=function(e){return!0===e||!1===e||hy(e)&&"[object Boolean]"==py(e)},dx=dy,mx=class{constructor(e){this.namespace=e||new this.Namespace}serialise(e){if(!(e instanceof this.namespace.elements.Element))throw new TypeError(`Given element \`${e}\` is not an Element instance`);const t={element:e.element};e._meta&&e._meta.length>0&&(t.meta=this.serialiseObject(e.meta)),e._attributes&&e._attributes.length>0&&(t.attributes=this.serialiseObject(e.attributes));const r=this.serialiseContent(e.content);return void 0!==r&&(t.content=r),t}deserialise(e){if(!e.element)throw new Error("Given value is not an object containing an element name");const t=new(this.namespace.getElementClass(e.element));t.element!==e.element&&(t.element=e.element),e.meta&&this.deserialiseObject(e.meta,t.meta),e.attributes&&this.deserialiseObject(e.attributes,t.attributes);const r=this.deserialiseContent(e.content);return void 0===r&&null!==t.content||(t.content=r),t}serialiseContent(e){if(e instanceof this.namespace.elements.Element)return this.serialise(e);if(e instanceof this.namespace.KeyValuePair){const t={key:this.serialise(e.key)};return e.value&&(t.value=this.serialise(e.value)),t}if(e&&e.map){if(0===e.length)return;return e.map(this.serialise,this)}return e}deserialiseContent(e){if(e){if(e.element)return this.deserialise(e);if(e.key){const t=new this.namespace.KeyValuePair(this.deserialise(e.key));return e.value&&(t.value=this.deserialise(e.value)),t}if(e.map)return e.map(this.deserialise,this)}return e}serialiseObject(e){const t={};if(e.forEach(((e,r)=>{e&&(t[r.toValue()]=this.serialise(e))})),0!==Object.keys(t).length)return t}deserialiseObject(e,t){Object.keys(e).forEach((r=>{t.set(r,this.deserialise(e[r]))}))}},fx=cx;let yx=class{constructor(e){this.elementMap={},this.elementDetection=[],this.Element=fx.Element,this.KeyValuePair=fx.KeyValuePair,e&&e.noDefault||this.useDefault(),this._attributeElementKeys=[],this._attributeElementArrayKeys=[]}use(e){return e.namespace&&e.namespace({base:this}),e.load&&e.load({base:this}),this}useDefault(){return this.register("null",fx.NullElement).register("string",fx.StringElement).register("number",fx.NumberElement).register("boolean",fx.BooleanElement).register("array",fx.ArrayElement).register("object",fx.ObjectElement).register("member",fx.MemberElement).register("ref",fx.RefElement).register("link",fx.LinkElement),this.detect(lx,fx.NullElement,!1).detect(ux,fx.StringElement,!1).detect(px,fx.NumberElement,!1).detect(hx,fx.BooleanElement,!1).detect(Array.isArray,fx.ArrayElement,!1).detect(dx,fx.ObjectElement,!1),this}register(e,t){return this._elements=void 0,this.elementMap[e]=t,this}unregister(e){return this._elements=void 0,delete this.elementMap[e],this}detect(e,t,r){return void 0===r||r?this.elementDetection.unshift([e,t]):this.elementDetection.push([e,t]),this}toElement(e){if(e instanceof this.Element)return e;let t;for(let r=0;r<this.elementDetection.length;r+=1){const s=this.elementDetection[r][0],n=this.elementDetection[r][1];if(s(e)){t=new n(e);break}}return t}getElementClass(e){const t=this.elementMap[e];return void 0===t?this.Element:t}fromRefract(e){return this.serialiser.deserialise(e)}toRefract(e){return this.serialiser.serialise(e)}get elements(){return void 0===this._elements&&(this._elements={Element:this.Element},Object.keys(this.elementMap).forEach((e=>{const t=e[0].toUpperCase()+e.substr(1);this._elements[t]=this.elementMap[e]}))),this._elements}get serialiser(){return new mx(this)}};mx.prototype.Namespace=yx;var gx=yx,vx=gb,bx=cx.ArraySlice,xx=cx.ObjectSlice,wx=cx.Element,Ex=cx.StringElement,jx=cx.NumberElement,Ox=cx.BooleanElement,Sx=cx.NullElement,Px=cx.ArrayElement,Ax=cx.ObjectElement,$x=cx.MemberElement,kx=cx.RefElement,Tx=cx.LinkElement,Cx=cx.refract;class Mx extends Ex{constructor(e,t,r){super(e,t,r),this.element="annotation"}get code(){return this.attributes.get("code")}set code(e){this.attributes.set("code",e)}}class Fx extends Ex{constructor(e,t,r){super(e,t,r),this.element="comment"}}class Ix extends Px{constructor(e,t,r){super(e,t,r),this.element="parseResult"}get api(){return this.children.filter((e=>e.classes.contains("api"))).first}get results(){return this.children.filter((e=>e.classes.contains("result")))}get result(){return this.results.first}get annotations(){return this.children.filter((e=>"annotation"===e.element))}get warnings(){return this.children.filter((e=>"annotation"===e.element&&e.classes.contains("warning")))}get errors(){return this.children.filter((e=>"annotation"===e.element&&e.classes.contains("error")))}get isEmpty(){return this.children.reject((e=>"annotation"===e.element)).isEmpty}replaceResult(e){const{result:t}=this;if(pm(t))return!1;const r=this.content.findIndex((e=>e===t));return-1!==r&&(this.content[r]=e,!0)}}class _x extends Px{constructor(e,t,r){super(e,t,r),this.element="sourceMap"}get positionStart(){return this.children.filter((e=>e.classes.contains("position"))).get(0)}get positionEnd(){return this.children.filter((e=>e.classes.contains("position"))).get(1)}set position(e){if(void 0===e)return;const t=new Px([e.start.row,e.start.column,e.start.char]),r=new Px([e.end.row,e.end.column,e.end.char]);t.classes.push("position"),r.classes.push("position"),this.push(t).push(r)}}const Rx=(e,t)=>"object"==typeof t&&null!==t&&e in t&&"function"==typeof t[e],Dx=e=>"object"==typeof e&&null!=e&&"_storedElement"in e&&"string"==typeof e._storedElement&&"_content"in e,qx=(e,t)=>"object"==typeof t&&null!==t&&"primitive"in t&&"function"==typeof t.primitive&&t.primitive()===e,Nx=(e,t)=>"object"==typeof t&&null!==t&&"classes"in t&&(Array.isArray(t.classes)||t.classes instanceof Px)&&t.classes.includes(e),Lx=(e,t)=>"object"==typeof t&&null!==t&&"element"in t&&t.element===e,Bx=e=>e({hasMethod:Rx,hasBasicElementProps:Dx,primitiveEq:qx,isElementType:Lx,hasClass:Nx}),Ux=Bx((({hasBasicElementProps:e,primitiveEq:t})=>r=>r instanceof wx||e(r)&&t(void 0,r))),Vx=Bx((({hasBasicElementProps:e,primitiveEq:t})=>r=>r instanceof Ex||e(r)&&t("string",r))),zx=Bx((({hasBasicElementProps:e,primitiveEq:t})=>r=>r instanceof jx||e(r)&&t("number",r))),Hx=Bx((({hasBasicElementProps:e,primitiveEq:t})=>r=>r instanceof Sx||e(r)&&t("null",r))),Jx=Bx((({hasBasicElementProps:e,primitiveEq:t})=>r=>r instanceof Ox||e(r)&&t("boolean",r))),Gx=Bx((({hasBasicElementProps:e,primitiveEq:t,hasMethod:r})=>s=>s instanceof Ax||e(s)&&t("object",s)&&r("keys",s)&&r("values",s)&&r("items",s))),Wx=Bx((({hasBasicElementProps:e,primitiveEq:t,hasMethod:r})=>s=>s instanceof Px&&!(s instanceof Ax)||e(s)&&t("array",s)&&r("push",s)&&r("unshift",s)&&r("map",s)&&r("reduce",s))),Kx=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof $x||e(s)&&t("member",s)&&r(void 0,s))),Yx=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Tx||e(s)&&t("link",s)&&r(void 0,s))),Xx=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof kx||e(s)&&t("ref",s)&&r(void 0,s))),Zx=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Mx||e(s)&&t("annotation",s)&&r("array",s))),Qx=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Fx||e(s)&&t("comment",s)&&r("string",s))),ew=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Ix||e(s)&&t("parseResult",s)&&r("array",s))),tw=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof _x||e(s)&&t("sourceMap",s)&&r("array",s))),rw=e=>Lx("object",e)||Lx("array",e)||Lx("boolean",e)||Lx("number",e)||Lx("string",e)||Lx("null",e)||Lx("member",e),sw=e=>tw(e.meta.get("sourceMap")),nw=(e,t)=>0===e.length||Hp(Jm(t.classes.toValue()),e),iw=Object.freeze(Object.defineProperty({__proto__:null,hasElementSourceMap:sw,includesClasses:nw,includesSymbols:(e,t)=>{if(0===e.length)return!0;const r=t.attributes.get("symbols");return!!Wx(r)&&Hp(Jm(r.toValue()),e)},isAnnotationElement:Zx,isArrayElement:Wx,isBooleanElement:Jx,isCommentElement:Qx,isElement:Ux,isLinkElement:Yx,isMemberElement:Kx,isNullElement:Hx,isNumberElement:zx,isObjectElement:Gx,isParseResultElement:ew,isPrimitiveElement:rw,isRefElement:Xx,isSourceMapElement:tw,isStringElement:Vx},Symbol.toStringTag,{value:"Module"}));class ow extends gx{constructor(){super(),this.register("annotation",Mx),this.register("comment",Fx),this.register("parseResult",Ix),this.register("sourceMap",_x)}}const aw=new ow,cw=e=>{const t=new ow;return Fm(e)&&t.use(e),t},lw=()=>({predicates:{...iw},namespace:aw}),uw=(e,t,r)=>{const s=e[t];if(null!=s){if(!r&&"function"==typeof s)return s;const e=r?s.leave:s.enter;if("function"==typeof e)return e}else{const s=r?e.leave:e.enter;if(null!=s){if("function"==typeof s)return s;const e=s[t];if("function"==typeof e)return e}}return null},pw={},hw=e=>null==e?void 0:e.type,dw=e=>"string"==typeof hw(e),mw=e=>Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e)),fw=(e,{visitFnGetter:t=uw,nodeTypeGetter:r=hw,breakSymbol:s=pw,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:i=!1,exposeEdits:o=!1}={})=>{const a=Symbol("skip"),c=new Array(e.length).fill(a);return{enter(l,u,p,h,d,m){let f=l,y=!1;const g={...m,replaceWith(e,t){m.replaceWith(e,t),f=e}};for(let v=0;v<e.length;v+=1)if(c[v]===a){const a=t(e[v],r(f),!1);if("function"==typeof a){const t=a.call(e[v],f,u,p,h,d,g);if("function"==typeof(null==t?void 0:t.then))throw new Pp("Async visitor not supported in sync mode",{visitor:e[v],visitFn:a});if(t===i)c[v]=f;else if(t===s)c[v]=s;else{if(t===n)return t;if(void 0!==t){if(!o)return t;f=t,y=!0}}}}return y?f:void 0},leave(n,o,l,u,p,h){let d=n;const m={...h,replaceWith(e,t){h.replaceWith(e,t),d=e}};for(let f=0;f<e.length;f+=1)if(c[f]===a){const n=t(e[f],r(d),!0);if("function"==typeof n){const t=n.call(e[f],d,o,l,u,p,m);if("function"==typeof(null==t?void 0:t.then))throw new Pp("Async visitor not supported in sync mode",{visitor:e[f],visitFn:n});if(t===s)c[f]=s;else if(void 0!==t&&t!==i)return t}}else c[f]===d&&(c[f]=a)}}};fw[Symbol.for("nodejs.util.promisify.custom")]=(e,{visitFnGetter:t=uw,nodeTypeGetter:r=hw,breakSymbol:s=pw,deleteNodeSymbol:n=null,skipVisitingNodeSymbol:i=!1,exposeEdits:o=!1}={})=>{const a=Symbol("skip"),c=new Array(e.length).fill(a);return{async enter(l,u,p,h,d,m){let f=l,y=!1;const g={...m,replaceWith(e,t){m.replaceWith(e,t),f=e}};for(let v=0;v<e.length;v+=1)if(c[v]===a){const a=t(e[v],r(f),!1);if("function"==typeof a){const t=await a.call(e[v],f,u,p,h,d,g);if(t===i)c[v]=f;else if(t===s)c[v]=s;else{if(t===n)return t;if(void 0!==t){if(!o)return t;f=t,y=!0}}}}return y?f:void 0},async leave(n,o,l,u,p,h){let d=n;const m={...h,replaceWith(e,t){h.replaceWith(e,t),d=e}};for(let f=0;f<e.length;f+=1)if(c[f]===a){const n=t(e[f],r(d),!0);if("function"==typeof n){const t=await n.call(e[f],d,o,l,u,p,m);if(t===s)c[f]=s;else if(void 0!==t&&t!==i)return t}}else c[f]===d&&(c[f]=a)}}};const yw=(e,t,{keyMap:r=null,state:s={},breakSymbol:n=pw,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:a=uw,nodeTypeGetter:c=hw,nodePredicate:l=dw,nodeCloneFn:u=mw,detectCycles:p=!0}={})=>{const h=r||{};let d,m,f=Array.isArray(e),y=[e],g=-1,v=[],b=e;const x=[],w=[];do{g+=1;const e=g===y.length;let r;const O=e&&0!==v.length;if(e){if(r=0===w.length?void 0:x.pop(),b=m,m=w.pop(),O)if(f){b=b.slice();let e=0;for(const[t,r]of v){const s=t-e;r===i?(b.splice(s,1),e+=1):b[s]=r}}else{b=u(b);for(const[e,t]of v)b[e]=t}g=d.index,y=d.keys,v=d.edits,f=d.inArray,d=d.prev}else if(m!==i&&void 0!==m){if(r=f?g:y[g],b=m[r],b===i||void 0===b)continue;x.push(r)}let S;if(!Array.isArray(b)){var E;if(!l(b))throw new Pp(`Invalid AST Node:  ${String(b)}`,{node:b});if(p&&w.includes(b)){x.pop();continue}const i=a(t,c(b),e);if(i){for(const[e,r]of Object.entries(s))t[e]=r;const n={replaceWith(t,s){"function"==typeof s?s(t,b,r,m,x,w):m&&(m[r]=t),e||(b=t)}};S=i.call(t,b,r,m,x,w,n)}if("function"==typeof(null===(E=S)||void 0===E?void 0:E.then))throw new Pp("Async visitor not supported in sync mode",{visitor:t,visitFn:i});if(S===n)break;if(S===o){if(!e){x.pop();continue}}else if(void 0!==S&&(v.push([r,S]),!e)){if(!l(S)){x.pop();continue}b=S}}var j;void 0===S&&O&&v.push([r,b]),e||(d={inArray:f,index:g,keys:y,edits:v,prev:d},f=Array.isArray(b),y=f?b:null!==(j=h[c(b)])&&void 0!==j?j:[],g=-1,v=[],m!==i&&void 0!==m&&w.push(m),m=b)}while(void 0!==d);return 0!==v.length?v[v.length-1][1]:e};yw[Symbol.for("nodejs.util.promisify.custom")]=async(e,t,{keyMap:r=null,state:s={},breakSymbol:n=pw,deleteNodeSymbol:i=null,skipVisitingNodeSymbol:o=!1,visitFnGetter:a=uw,nodeTypeGetter:c=hw,nodePredicate:l=dw,nodeCloneFn:u=mw,detectCycles:p=!0}={})=>{const h=r||{};let d,m,f=Array.isArray(e),y=[e],g=-1,v=[],b=e;const x=[],w=[];do{g+=1;const e=g===y.length;let r;const j=e&&0!==v.length;if(e){if(r=0===w.length?void 0:x.pop(),b=m,m=w.pop(),j)if(f){b=b.slice();let e=0;for(const[t,r]of v){const s=t-e;r===i?(b.splice(s,1),e+=1):b[s]=r}}else{b=u(b);for(const[e,t]of v)b[e]=t}g=d.index,y=d.keys,v=d.edits,f=d.inArray,d=d.prev}else if(m!==i&&void 0!==m){if(r=f?g:y[g],b=m[r],b===i||void 0===b)continue;x.push(r)}let O;if(!Array.isArray(b)){if(!l(b))throw new Pp(`Invalid AST Node: ${String(b)}`,{node:b});if(p&&w.includes(b)){x.pop();continue}const i=a(t,c(b),e);if(i){for(const[e,r]of Object.entries(s))t[e]=r;const n={replaceWith(t,s){"function"==typeof s?s(t,b,r,m,x,w):m&&(m[r]=t),e||(b=t)}};O=await i.call(t,b,r,m,x,w,n)}if(O===n)break;if(O===o){if(!e){x.pop();continue}}else if(void 0!==O&&(v.push([r,O]),!e)){if(!l(O)){x.pop();continue}b=O}}var E;void 0===O&&j&&v.push([r,b]),e||(d={inArray:f,index:g,keys:y,edits:v,prev:d},f=Array.isArray(b),y=f?b:null!==(E=h[c(b)])&&void 0!==E?E:[],g=-1,v=[],m!==i&&void 0!==m&&w.push(m),m=b)}while(void 0!==d);return 0!==v.length?v[v.length-1][1]:e};class gw extends Pp{value;constructor(e,t){super(e,t),void 0!==t&&(this.value=t.value)}}class vw extends gw{}class bw extends gw{}const xw=(e,t={})=>{const{visited:r=new WeakMap}=t,s={...t,visited:r};if(r.has(e))return r.get(e);if(e instanceof vx){const{key:t,value:n}=e,i=Ux(t)?xw(t,s):t,o=Ux(n)?xw(n,s):n,a=new vx(i,o);return r.set(e,a),a}if(e instanceof xx){const t=e=>xw(e,s),n=[...e].map(t),i=new xx(n);return r.set(e,i),i}if(e instanceof bx){const t=e=>xw(e,s),n=[...e].map(t),i=new bx(n);return r.set(e,i),i}if(Ux(e)){const t=jw(e);if(r.set(e,t),e.content)if(Ux(e.content))t.content=xw(e.content,s);else if(e.content instanceof vx)t.content=xw(e.content,s);else if(Array.isArray(e.content)){const r=e=>xw(e,s);t.content=e.content.map(r)}else t.content=e.content;else t.content=e.content;return t}throw new vw("Value provided to cloneDeep function couldn't be cloned",{value:e})};xw.safe=e=>{try{return xw(e)}catch{return e}};const ww=e=>{const{key:t,value:r}=e;return new vx(t,r)},Ew=e=>{const t=new e.constructor;if(t.element=e.element,e.meta.length>0&&(t._meta=xw(e.meta)),e.attributes.length>0&&(t._attributes=xw(e.attributes)),Ux(e.content)){const r=e.content;t.content=Ew(r)}else Array.isArray(e.content)?t.content=[...e.content]:e.content instanceof vx?t.content=ww(e.content):t.content=e.content;return t},jw=e=>{if(e instanceof vx)return ww(e);if(e instanceof xx)return(e=>{const t=[...e];return new xx(t)})(e);if(e instanceof bx)return(e=>{const t=[...e];return new bx(t)})(e);if(Ux(e))return Ew(e);throw new bw("Value provided to cloneShallow function couldn't be cloned",{value:e})};jw.safe=e=>{try{return jw(e)}catch{return e}};const Ow=e=>Gx(e)?"ObjectElement":Wx(e)?"ArrayElement":Kx(e)?"MemberElement":Vx(e)?"StringElement":Jx(e)?"BooleanElement":zx(e)?"NumberElement":Hx(e)?"NullElement":Yx(e)?"LinkElement":Xx(e)?"RefElement":void 0,Sw=e=>Ux(e)?jw(e):mw(e),Pw=id(Ow,Em),Aw={ObjectElement:["content"],ArrayElement:["content"],MemberElement:["key","value"],StringElement:[],BooleanElement:[],NumberElement:[],NullElement:[],RefElement:[],LinkElement:[],Annotation:[],Comment:[],ParseResultElement:["content"],SourceMap:["content"]};class $w{result;predicate;returnOnTrue;returnOnFalse;constructor({predicate:e=kp,returnOnTrue:t,returnOnFalse:r}={}){this.result=[],this.predicate=e,this.returnOnTrue=t,this.returnOnFalse=r}enter(e){return this.predicate(e)?(this.result.push(e),this.returnOnTrue):this.returnOnFalse}}const kw=(e,t,{keyMap:r=Aw,...s}={})=>yw(e,t,{keyMap:r,nodeTypeGetter:Ow,nodePredicate:Pw,nodeCloneFn:Sw,...s});kw[Symbol.for("nodejs.util.promisify.custom")]=async(e,t,{keyMap:r=Aw,...s}={})=>yw[Symbol.for("nodejs.util.promisify.custom")](e,t,{keyMap:r,nodeTypeGetter:Ow,nodePredicate:Pw,nodeCloneFn:Sw,...s});const Tw={toolboxCreator:lw,visitorOptions:{nodeTypeGetter:Ow,exposeEdits:!0}},Cw=(e,t,r={})=>{if(0===t.length)return e;const s=Vd(Tw,r),{toolboxCreator:n,visitorOptions:i}=s,o=n(),a=t.map((e=>e(o))),c=fw(a.map(Zd({},"visitor")),{...i});a.forEach(Gm(["pre"],[]));const l=kw(e,c,i);return a.forEach(Gm(["post"],[])),l};Cw[Symbol.for("nodejs.util.promisify.custom")]=async(e,t,r={})=>{if(0===t.length)return e;const s=Vd(Tw,r),{toolboxCreator:n,visitorOptions:i}=s,o=n(),a=t.map((e=>e(o))),c=fw[Symbol.for("nodejs.util.promisify.custom")],l=kw[Symbol.for("nodejs.util.promisify.custom")],u=c(a.map(Zd({},"visitor")),{...i});await Promise.allSettled(a.map(Gm(["pre"],[])));const p=await l(e,u,i);return await Promise.allSettled(a.map(Gm(["post"],[]))),p};var Mw={exports:{}};!function(e){var t=(()=>{var e=Object.defineProperty,t=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,o=(t,r,s)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s,a=(e,t)=>{for(var r in t||(t={}))n.call(t,r)&&o(e,r,t[r]);if(s)for(var r of s(t))i.call(t,r)&&o(e,r,t[r]);return e},c=(e,t,r)=>(o(e,"symbol"!=typeof t?t+"":t,r),r),l={};((t,r)=>{for(var s in r)e(t,s,{get:r[s],enumerable:!0})})(l,{DEFAULT_OPTIONS:()=>p,DEFAULT_UUID_LENGTH:()=>u,default:()=>d});var u=6,p={dictionary:"alphanum",shuffle:!0,debug:!1,length:u,counter:0},h=class{constructor(e={}){c(this,"counter"),c(this,"debug"),c(this,"dict"),c(this,"version"),c(this,"dictIndex",0),c(this,"dictRange",[]),c(this,"lowerBound",0),c(this,"upperBound",0),c(this,"dictLength",0),c(this,"uuidLength"),c(this,"_digit_first_ascii",48),c(this,"_digit_last_ascii",58),c(this,"_alpha_lower_first_ascii",97),c(this,"_alpha_lower_last_ascii",123),c(this,"_hex_last_ascii",103),c(this,"_alpha_upper_first_ascii",65),c(this,"_alpha_upper_last_ascii",91),c(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),c(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),c(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),c(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),c(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),c(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),c(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),c(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),c(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),c(this,"log",((...e)=>{const t=[...e];if(t[0]=`[short-unique-id] ${e[0]}`,!0===this.debug&&"undefined"!=typeof console&&null!==console)return console.log(...t)})),c(this,"_normalizeDictionary",((e,t)=>{let r;if(e&&Array.isArray(e)&&e.length>1)r=e;else{let t;r=[],this.dictIndex=t=0;const s=`_${e}_dict_ranges`,n=this._dict_ranges[s];Object.keys(n).forEach((e=>{const s=e;for(this.dictRange=n[s],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=t=this.lowerBound;this.lowerBound<=this.upperBound?t<this.upperBound:t>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?t+=1:t-=1)r.push(String.fromCharCode(this.dictIndex))}))}if(t){const e=.5;r=r.sort((()=>Math.random()-e))}return r})),c(this,"setDictionary",((e,t)=>{this.dict=this._normalizeDictionary(e,t),this.dictLength=this.dict.length,this.setCounter(0)})),c(this,"seq",(()=>this.sequentialUUID())),c(this,"sequentialUUID",(()=>{let e,t,r="";e=this.counter;do{t=e%this.dictLength,e=Math.trunc(e/this.dictLength),r+=this.dict[t]}while(0!==e);return this.counter+=1,r})),c(this,"rnd",((e=this.uuidLength||u)=>this.randomUUID(e))),c(this,"randomUUID",((e=this.uuidLength||u)=>{let t,r,s;if(null==e||e<1)throw new Error("Invalid UUID Length Provided");for(t="",s=0;s<e;s+=1)r=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,t+=this.dict[r];return t})),c(this,"fmt",((e,t)=>this.formattedUUID(e,t))),c(this,"formattedUUID",((e,t)=>{const r={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return e.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,(e=>{const s=e.slice(0,2),n=parseInt(e.slice(2),10);return"$s"===s?r[s]().padStart(n,"0"):"$t"===s&&t?r[s](n,t):r[s](n)}))})),c(this,"availableUUIDs",((e=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,e).toFixed(0)))),c(this,"approxMaxBeforeCollision",((e=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*e).toFixed(20)))),c(this,"collisionProbability",((e=this.availableUUIDs(this.uuidLength),t=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(e)/this.availableUUIDs(t)).toFixed(20)))),c(this,"uniqueness",((e=this.availableUUIDs(this.uuidLength))=>{const t=parseFloat((1-this.approxMaxBeforeCollision(e)/e).toFixed(20));return t>1?1:t<0?0:t})),c(this,"getVersion",(()=>this.version)),c(this,"stamp",((e,t)=>{const r=Math.floor(+(t||new Date)/1e3).toString(16);if("number"==typeof e&&0===e)return r;if("number"!=typeof e||e<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join("\n"));const s=e-9,n=Math.round(Math.random()*(s>15?15:s)),i=this.randomUUID(s);return`${i.substring(0,n)}${r}${i.substring(n)}${n.toString(16)}`})),c(this,"parseStamp",((e,t)=>{if(t&&!/t0|t[1-9]\d{1,}/.test(t))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const r=t?t.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,(e=>{const t={$r:e=>[...Array(e)].map((()=>"r")).join(""),$s:e=>[...Array(e)].map((()=>"s")).join(""),$t:e=>[...Array(e)].map((()=>"t")).join("")},r=e.slice(0,2),s=parseInt(e.slice(2),10);return t[r](s)})).replace(/^(.*?)(t{8,})(.*)$/g,((t,r,s)=>e.substring(r.length,r.length+s.length))):e;if(8===r.length)return new Date(1e3*parseInt(r,16));if(r.length<10)throw new Error("Stamp length invalid");const s=parseInt(r.substring(r.length-1),16);return new Date(1e3*parseInt(r.substring(s,s+8),16))})),c(this,"setCounter",(e=>{this.counter=e})),c(this,"validate",((e,t)=>{const r=t?this._normalizeDictionary(t):this.dict;return e.split("").every((e=>r.includes(e)))}));const t=a(a({},p),e);this.counter=0,this.debug=!1,this.dict=[],this.version="5.2.0";const{dictionary:r,shuffle:s,length:n,counter:i}=t;return this.uuidLength=n,this.setDictionary(r,s),this.setCounter(i),this.debug=t.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};c(h,"default",h);var d=h;return(s=>((s,i,o,a)=>{if(i&&"object"==typeof i||"function"==typeof i)for(let c of r(i))n.call(s,c)||undefined===c||e(s,c,{get:()=>i[c],enumerable:!(a=t(i,c))||a.enumerable});return s})(e({},"__esModule",{value:!0}),s))(l)})();e.exports=t.default,"undefined"!=typeof window&&(t=t.default)}(Mw);const Fw=mr(Mw.exports);class Iw extends Pp{value;constructor(e,t){super(e,t),void 0!==t&&(this.value=t.value)}}class _w{uuid;identityMap;constructor({length:e=6}={}){this.uuid=new Fw({length:e}),this.identityMap=new WeakMap}identify(e){if(!Ux(e))throw new Iw("Cannot not identify the element. `element` is neither structurally compatible nor a subclass of an Element class.",{value:e});if(e.meta.hasKey("id")&&Vx(e.meta.get("id"))&&!e.meta.get("id").equals(""))return e.id;if(this.identityMap.has(e))return this.identityMap.get(e);const t=new Ex(this.generateId());return this.identityMap.set(e,t),t}forget(e){return!!this.identityMap.has(e)&&(this.identityMap.delete(e),!0)}generateId(){return this.uuid.randomUUID()}}new _w;class Rw extends Array{unknownMediaType="application/octet-stream";filterByFormat(){throw new $p("filterByFormat method in MediaTypes class is not yet implemented.")}findBy(){throw new $p("findBy method in MediaTypes class is not yet implemented.")}latest(){throw new $p("latest method in MediaTypes class is not yet implemented.")}}const Dw=e=>(t,r={})=>((e,{Type:t,plugins:r=[]})=>{const s=new t(e);return Ux(e)&&(e.meta.length>0&&(s.meta=xw(e.meta)),e.attributes.length>0&&(s.attributes=xw(e.attributes))),Cw(s,r,{toolboxCreator:lw,visitorOptions:{nodeTypeGetter:Ow}})})(t,{...r,Type:e});Ax.refract=Dw(Ax),Px.refract=Dw(Px),Ex.refract=Dw(Ex),Ox.refract=Dw(Ox),Sx.refract=Dw(Sx),jx.refract=Dw(jx),Tx.refract=Dw(Tx),kx.refract=Dw(kx),Mx.refract=Dw(Mx),Fx.refract=Dw(Fx),Ix.refract=Dw(Ix),_x.refract=Dw(_x);const qw=(e,t)=>{const r=new $w({predicate:e,returnOnTrue:pw});return kw(t,r),Wd(void 0,[0],r.result)},Nw=e=>"string"==typeof(null==e?void 0:e.type)?e.type:Ow(e),Lw={EphemeralObject:["content"],EphemeralArray:["content"],...Aw},Bw=(e,t,{keyMap:r=Lw,...s}={})=>kw(e,t,{keyMap:r,nodeTypeGetter:Nw,nodePredicate:Tp,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...s});Bw[Symbol.for("nodejs.util.promisify.custom")]=async(e,{keyMap:t=Lw,...r}={})=>kw[Symbol.for("nodejs.util.promisify.custom")](e,visitor,{keyMap:t,nodeTypeGetter:Nw,nodePredicate:Tp,detectCycles:!1,deleteNodeSymbol:Symbol.for("delete-node"),skipVisitingNodeSymbol:Symbol.for("skip-visiting-node"),...r});class Uw{type="EphemeralArray";content=[];reference=void 0;constructor(e){this.content=e,this.reference=[]}toReference(){return this.reference}toArray(){return this.reference.push(...this.content),this.reference}}class Vw{type="EphemeralObject";content=[];reference=void 0;constructor(e){this.content=e,this.reference={}}toReference(){return this.reference}toObject(){return Object.assign(this.reference,Object.fromEntries(this.content))}}const zw=e=>Ux(e)?Vx(e)||zx(e)||Jx(e)||Hx(e)?e.toValue():Bw(e,new class{ObjectElement={enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new Vw(e.content);return this.references.set(e,t),t}};EphemeralObject={leave:e=>e.toObject()};MemberElement={enter:e=>[e.key,e.value]};ArrayElement={enter:e=>{if(this.references.has(e))return this.references.get(e).toReference();const t=new Uw(e.content);return this.references.set(e,t),t}};EphemeralArray={leave:e=>e.toArray()};references=new WeakMap;BooleanElement(e){return e.toValue()}NumberElement(e){return e.toValue()}StringElement(e){return e.toValue()}NullElement(){return null}RefElement(e,...t){var r;const s=t[3];return"EphemeralObject"===(null===(r=s[s.length-1])||void 0===r?void 0:r.type)?Symbol.for("delete-node"):String(e.toValue())}LinkElement(e){return Vx(e.href)?e.href.toValue():""}}):e,Hw=(e,t=new WeakMap)=>(Kx(e)?(t.set(e.key,e),Hw(e.key,t),t.set(e.value,e),Hw(e.value,t)):e.children.forEach((r=>{t.set(r,e),Hw(r,t)})),t);class Jw{element;edges;constructor({element:e}){this.element=e}transclude(e,t){var r;if(e===this.element)return t;if(e===t)return this.element;this.edges=null!==(r=this.edges)&&void 0!==r?r:Hw(this.element);const s=this.edges.get(e);return pm(s)?void 0:(Gx(s)?((e,t,r)=>{const s=r.get(e);Gx(s)&&(s.content=s.map(((n,i,o)=>o===e?(r.delete(e),r.set(t,s),t):o)))})(e,t,this.edges):Wx(s)?((e,t,r)=>{const s=r.get(e);Wx(s)&&(s.content=s.map((n=>n===e?(r.delete(e),r.set(t,s),t):n)))})(e,t,this.edges):Kx(s)&&((e,t,r)=>{const s=r.get(e);Kx(s)&&(s.key===e&&(s.key=t,r.delete(e),r.set(t,s)),s.value===e&&(s.value=t,r.delete(e),r.set(t,s)))})(e,t,this.edges),this.element)}}const Gw=(e,t)=>{const r=pd(e,t);return Ld((e=>{if(Fm(e)&&$d("$ref",e)&&Qd(Em,"$ref",e)){const t=Gd(["$ref"],e),s=ef("#/",t);return Gd(s.split("/"),r)}return Fm(e)?Gw(e,r):e}),e)},Ww=(e,t=aw)=>{if(Em(e))try{return t.fromRefract(JSON.parse(e))}catch{}return Fm(e)&&$d("element",e)?t.fromRefract(e):t.toElement(e)},Kw=e=>{const t=e.meta.length>0?xw(e.meta):void 0,r=e.attributes.length>0?xw(e.attributes):void 0;return new e.constructor(void 0,t,r)},Yw=(e,t)=>t.clone&&t.isMergeableElement(e)?Zw(Kw(e),e,t):e,Xw={clone:!0,isMergeableElement:e=>Gx(e)||Wx(e),arrayElementMerge:(e,t,r)=>e.concat(t)["fantasy-land/map"]((e=>Yw(e,r))),objectElementMerge:(e,t,r)=>{const s=Gx(e)?Kw(e):Kw(t);return Gx(e)&&e.forEach(((e,t,n)=>{const i=jw(n);i.value=Yw(e,r),s.content.push(i)})),t.forEach(((t,n,i)=>{const o=zw(n);let a;if(Gx(e)&&e.hasKey(o)&&r.isMergeableElement(t)){const s=e.get(o);a=jw(i),a.value=((e,t)=>{if("function"!=typeof t.customMerge)return Zw;const r=t.customMerge(e,t);return"function"==typeof r?r:Zw})(n,r)(s,t)}else a=jw(i),a.value=Yw(t,r);s.remove(o),s.content.push(a)})),s},customMerge:void 0,customMetaMerge:void 0,customAttributesMerge:void 0};function Zw(e,t,r){var s,n,i;const o={...Xw,...r};o.isMergeableElement=null!==(s=o.isMergeableElement)&&void 0!==s?s:Xw.isMergeableElement,o.arrayElementMerge=null!==(n=o.arrayElementMerge)&&void 0!==n?n:Xw.arrayElementMerge,o.objectElementMerge=null!==(i=o.objectElementMerge)&&void 0!==i?i:Xw.objectElementMerge;const a=Wx(t);if(a!==Wx(e))return Yw(t,o);const c=a&&"function"==typeof o.arrayElementMerge?o.arrayElementMerge(e,t,o):o.objectElementMerge(e,t,o);return c.meta=(e=>"function"!=typeof e.customMetaMerge?e=>xw(e):e.customMetaMerge)(o)(e.meta,t.meta),c.attributes=(e=>"function"!=typeof e.customAttributesMerge?e=>xw(e):e.customAttributesMerge)(o)(e.attributes,t.attributes),c}Zw.all=(e,t)=>{if(!Array.isArray(e))throw new TypeError("First argument of deepmerge should be an array.");return 0===e.length?new Ax:e.reduce(((e,r)=>Zw(e,r,t)),Kw(e[0]))};class Qw extends Sp{}class eE extends Qw{}let tE=class{name;allowEmpty;sourceMap;fileExtensions;mediaTypes;constructor({name:e,allowEmpty:t=!0,sourceMap:r=!1,fileExtensions:s=[],mediaTypes:n=[]}){this.name=e,this.allowEmpty=t,this.sourceMap=r,this.fileExtensions=s,this.mediaTypes=n}};class rE extends Array{includesCycle(e){return this.filter((t=>t.has(e))).length>1}includes(e,t){return e instanceof Set?super.includes(e,t):this.some((t=>t.has(e)))}findItem(e){for(const t of this)for(const r of t)if(Ux(r)&&e(r))return r}}let sE=class{uri;depth;value;refSet;errors;constructor({uri:e,depth:t=0,refSet:r,value:s}){this.uri=e,this.value=s,this.depth=t,this.refSet=r,this.errors=[]}};class nE extends Sp{}class iE extends nE{}class oE extends Sp{}class aE extends oE{}class cE extends nE{constructor(e){super(`Invalid JSON Schema $anchor "${e}".`)}}class lE extends Qw{}class uE extends Bf{}class pE extends Lf{}function hE(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function dE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function fE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var s,n,i=[],o=!0,a=!1;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){a=!0,n=e}finally{try{o||null==r.return||r.return()}finally{if(a)throw n}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hE(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yE(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}var gE=function(e){throw TypeError(e)},vE=function(e,t,r){return t.has(e)||gE("Cannot "+r)},bE=function(e,t,r){return vE(e,t,"read from private field"),t.get(e)},xE=function(e,t,r){return t.has(e)?gE("Cannot add the same private member more than once"):mE(t,WeakSet)?t.add(e):t.set(e,r)},wE=function(e,t,r,s){return vE(e,t,"write to private field"),t.set(e,r),r},EE=function(e){return Object.prototype.toString.call(e)},jE=function(e){return ArrayBuffer.isView(e)&&!mE(e,DataView)},OE=Array.isArray,SE=Object.getOwnPropertyDescriptor,PE=Object.prototype.propertyIsEnumerable,AE=Object.getOwnPropertySymbols,$E=Object.prototype.hasOwnProperty;function kE(e){for(var t=Object.keys(e),r=AE(e),s=0;s<r.length;s++)PE.call(e,r[s])&&t.push(r[s]);return t}function TE(e,t){var r;return!(null===(r=SE(e,t))||void 0===r?void 0:r.writable)}function CE(e,t){if("object"===(void 0===e?"undefined":yE(e))&&null!==e){var r;if(OE(e))r=[];else if("[object Date]"===EE(e))r=new Date(e.getTime?e.getTime():e);else if(function(e){return"[object RegExp]"===EE(e)}(e))r=new RegExp(e);else if(function(e){return"[object Error]"===EE(e)}(e))r={message:e.message};else if(function(e){return"[object Boolean]"===EE(e)}(e)||function(e){return"[object Number]"===EE(e)}(e)||function(e){return"[object String]"===EE(e)}(e))r=Object(e);else{if(jE(e))return e.slice();r=Object.create(Object.getPrototypeOf(e))}var s=t.includeSymbols?kE:Object.keys,n=!0,i=!1,o=void 0;try{for(var a,c=s(e)[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var l=a.value;r[l]=e[l]}}catch(e){i=!0,o=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw o}}return r}return e}var ME,FE,IE={includeSymbols:!1,immutable:!1};function _E(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:IE,s=[],n=[],i=!0,o=r.includeSymbols?kE:Object.keys,a=!!r.immutable;return function e(c){var l=a?CE(c,r):c,u={},p=!0,h={node:l,node_:c,path:[].concat(s),parent:n[n.length-1],parents:n,key:s[s.length-1],isRoot:0===s.length,level:s.length,circular:void 0,isLeaf:!1,notLeaf:!0,notRoot:!0,isFirst:!1,isLast:!1,update:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];h.isRoot||(h.parent.node[h.key]=e),h.node=e,t&&(p=!1)},delete:function(e){delete h.parent.node[h.key],e&&(p=!1)},remove:function(e){OE(h.parent.node)?h.parent.node.splice(h.key,1):delete h.parent.node[h.key],e&&(p=!1)},keys:null,before:function(e){u.before=e},after:function(e){u.after=e},pre:function(e){u.pre=e},post:function(e){u.post=e},stop:function(){i=!1},block:function(){p=!1}};if(!i)return h;function d(){if("object"===yE(h.node)&&null!==h.node){h.keys&&h.node_===h.node||(h.keys=o(h.node)),h.isLeaf=0===h.keys.length;for(var e=0;e<n.length;e++)if(n[e].node_===c){h.circular=n[e];break}}else h.isLeaf=!0,h.keys=null;h.notLeaf=!h.isLeaf,h.notRoot=!h.isRoot}d();var m=t.call(h,h.node);if(void 0!==m&&h.update&&h.update(m),u.before&&u.before.call(h,h.node),!p)return h;if("object"===yE(h.node)&&null!==h.node&&!h.circular){var f;n.push(h),d();var y=!0,g=!1,v=void 0;try{for(var b,x=Object.entries(null!==(f=h.keys)&&void 0!==f?f:[])[Symbol.iterator]();!(y=(b=x.next()).done);y=!0){var w,E=fE(b.value,2),j=E[0],O=E[1];s.push(O),u.pre&&u.pre.call(h,h.node[O],O);var S=e(h.node[O]);a&&$E.call(h.node,O)&&!TE(h.node,O)&&(h.node[O]=S.node),S.isLast=!!(null===(w=h.keys)||void 0===w?void 0:w.length)&&+j==h.keys.length-1,S.isFirst=0==+j,u.post&&u.post.call(h,S),s.pop()}}catch(e){g=!0,v=e}finally{try{y||null==x.return||x.return()}finally{if(g)throw v}}n.pop()}return u.after&&u.after.call(h,h.node),h}(e).node}var RE=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:IE;dE(this,e),xE(this,ME),xE(this,FE),wE(this,ME,t),wE(this,FE,r)}return function(e,t,r){t&&function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t)}(e,[{key:"get",value:function(e){for(var t=bE(this,ME),r=0;t&&r<e.length;r++){var s=e[r];if(!$E.call(t,s)||!bE(this,FE).includeSymbols&&"symbol"===(void 0===s?"undefined":yE(s)))return;t=t[s]}return t}},{key:"has",value:function(e){for(var t=bE(this,ME),r=0;t&&r<e.length;r++){var s=e[r];if(!$E.call(t,s)||!bE(this,FE).includeSymbols&&"symbol"===(void 0===s?"undefined":yE(s)))return!1;t=t[s]}return!0}},{key:"set",value:function(e,t){var r=bE(this,ME),s=0;for(s=0;s<e.length-1;s++){var n=e[s];$E.call(r,n)||(r[n]={}),r=r[n]}return r[e[s]]=t,t}},{key:"map",value:function(e){return _E(bE(this,ME),e,{immutable:!0,includeSymbols:!!bE(this,FE).includeSymbols})}},{key:"forEach",value:function(e){return wE(this,ME,_E(bE(this,ME),e,bE(this,FE))),bE(this,ME)}},{key:"reduce",value:function(e,t){var r=1===arguments.length,s=r?bE(this,ME):t;return this.forEach((function(t){this.isRoot&&r||(s=e.call(this,s,t))})),s}},{key:"paths",value:function(){var e=[];return this.forEach((function(){e.push(this.path)})),e}},{key:"nodes",value:function(){var e=[];return this.forEach((function(){e.push(this.node)})),e}},{key:"clone",value:function(){var e=[],t=[],r=bE(this,FE);return jE(bE(this,ME))?bE(this,ME).slice():function s(n){for(var i=0;i<e.length;i++)if(e[i]===n)return t[i];if("object"===(void 0===n?"undefined":yE(n))&&null!==n){var o=CE(n,r);e.push(n),t.push(o);var a=r.includeSymbols?kE:Object.keys,c=!0,l=!1,u=void 0;try{for(var p,h=a(n)[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var d=p.value;o[d]=s(n[d])}}catch(e){l=!0,u=e}finally{try{c||null==h.return||h.return()}finally{if(l)throw u}}return e.pop(),t.pop(),o}return n}(bE(this,ME))}}]),e}();ME=new WeakMap,FE=new WeakMap;var DE=function(e,t){return new RE(e,t)};DE.get=function(e,t,r){return new RE(e,r).get(t)},DE.set=function(e,t,r,s){return new RE(e,s).set(t,r)},DE.has=function(e,t,r){return new RE(e,r).has(t)},DE.map=function(e,t,r){return new RE(e,r).map(t)},DE.forEach=function(e,t,r){return new RE(e,r).forEach(t)},DE.reduce=function(e,t,r,s){return new RE(e,s).reduce(t,r)},DE.paths=function(e,t){return new RE(e,t).paths()},DE.nodes=function(e,t){return new RE(e,t).nodes()},DE.clone=function(e,t){return new RE(e,t).clone()};var qE=DE;const NE=["properties"],LE=["properties"],BE=["definitions","parameters","responses","securityDefinitions","components/schemas","components/responses","components/parameters","components/securitySchemes"],UE=["schema/example","items/example"];function VE(e){const t=e[e.length-1],r=e[e.length-2],s=e.join("/");return NE.indexOf(t)>-1&&-1===LE.indexOf(r)||BE.indexOf(s)>-1||UE.some((e=>s.indexOf(e)>-1))}function zE(e,r){const[s,n]=e.split("#"),i=null!=r?r:"",o=null!=s?s:"";let a;if(wf(i))a=Af(i,o);else{const e=Af(t,i),r=Af(e,o).replace(t,"");a=o.startsWith("/")?r:r.substring(1)}return n?`${a}#${n}`:a}const HE=/^([a-z]+:\/\/|\/\/)/i;class JE extends Pp{}const GE={},WE=new WeakMap,KE=[e=>"paths"===e[0]&&"responses"===e[3]&&"examples"===e[5],e=>"paths"===e[0]&&"responses"===e[3]&&"content"===e[5]&&"example"===e[7],e=>"paths"===e[0]&&"responses"===e[3]&&"content"===e[5]&&"examples"===e[7]&&"value"===e[9],e=>"paths"===e[0]&&"requestBody"===e[3]&&"content"===e[4]&&"example"===e[6],e=>"paths"===e[0]&&"requestBody"===e[3]&&"content"===e[4]&&"examples"===e[6]&&"value"===e[8],e=>"paths"===e[0]&&"parameters"===e[2]&&"example"===e[4],e=>"paths"===e[0]&&"parameters"===e[3]&&"example"===e[5],e=>"paths"===e[0]&&"parameters"===e[2]&&"examples"===e[4]&&"value"===e[6],e=>"paths"===e[0]&&"parameters"===e[3]&&"examples"===e[5]&&"value"===e[7],e=>"paths"===e[0]&&"parameters"===e[2]&&"content"===e[4]&&"example"===e[6],e=>"paths"===e[0]&&"parameters"===e[2]&&"content"===e[4]&&"examples"===e[6]&&"value"===e[8],e=>"paths"===e[0]&&"parameters"===e[3]&&"content"===e[4]&&"example"===e[7],e=>"paths"===e[0]&&"parameters"===e[3]&&"content"===e[5]&&"examples"===e[7]&&"value"===e[9]],YE={key:"$ref",plugin:(e,t,r,s)=>{const n=s.getInstance(),i=r.slice(0,-1);if(VE(i)||(e=>KE.some((t=>t(e))))(i))return;const{baseDoc:o}=s.getContext(r);if("string"!=typeof e)return new JE("$ref: must be a string (JSON-Ref)",{$ref:e,baseDoc:o,fullPath:r});const a=ej(e),c=a[0],l=a[1]||"";let u,p,h;try{u=o||c?ZE(c,o):null}catch(t){return QE(t,{pointer:l,$ref:e,basePath:u,fullPath:r})}if(function(e,t,r,s){let n=WE.get(s);n||(n={},WE.set(s,n));const i=function(e){return 0===e.length?"":`/${e.map(oj).join("/")}`}(r),o=`${t||"<specmap-base>"}#${e}`,a=i.replace(/allOf\/\d+\/?/g,"");if(t===s.contextTree.get([]).baseDoc&&aj(a,e))return!0;let c="";const l=r.some((e=>(c=`${c}/${oj(e)}`,n[c]&&n[c].some((e=>aj(e,o)||aj(o,e))))));if(l)return!0;n[a]=(n[a]||[]).concat(o)}(l,u,i,s)&&!n.useCircularStructures){const t=zE(e,u);return e===t?null:jr.replace(r,t)}if(null==u?(h=nj(l),p=s.get(h),void 0===p&&(p=new JE(`Could not resolve reference: ${e}`,{pointer:l,$ref:e,baseDoc:o,fullPath:r}))):(p=tj(u,l),p=null!=p.l?p.l:p.catch((t=>{throw QE(t,{pointer:l,$ref:e,baseDoc:o,fullPath:r})}))),p instanceof Error)return[jr.remove(r),p];const d=zE(e,u),m=jr.replace(i,p,{$$ref:d});if(u&&u!==o)return[m,jr.context(i,{baseDoc:u})];try{if(!function(e,t){const r=[e];return t.path.reduce(((e,t)=>(r.push(e[t]),e[t])),e),function e(t){return jr.isObject(t)&&(r.indexOf(t)>=0||Object.keys(t).some((r=>e(t[r]))))}(t.value)}(s.state,m)||n.useCircularStructures)return m}catch(e){return null}}},XE=Object.assign(YE,{docCache:GE,absoluteify:ZE,clearCache:function(e){void 0!==e?delete GE[e]:Object.keys(GE).forEach((e=>{delete GE[e]}))},JSONRefError:JE,wrapError:QE,getDoc:rj,split:ej,extractFromDoc:tj,fetchJSON:function(t){return fetch(t,{headers:{Accept:e},loadSpec:!0}).then((e=>e.text())).then((e=>Mt.load(e)))},extract:sj,jsonPointerToArray:nj,unescapeJsonPointerToken:ij});function ZE(e,t){if(!HE.test(e)){if(!t)throw new JE(`Tried to resolve a relative URL, without having a basePath. path: '${e}' basePath: '${t}'`);return Af(t,e)}return e}function QE(e,t){let r;return r=e&&e.response&&e.response.body?`${e.response.body.code} ${e.response.body.message}`:e.message,new JE(`Could not resolve reference: ${r}`,{...t,cause:e})}function ej(e){return(e+"").split("#")}function tj(e,t){const r=GE[e];if(r&&!jr.isPromise(r))try{const e=sj(t,r);return Object.assign(Promise.resolve(e),{l:e})}catch(e){return Promise.reject(e)}return rj(e).then((e=>sj(t,e)))}function rj(e){const t=GE[e];return t?jr.isPromise(t)?t:Promise.resolve(t):(GE[e]=XE.fetchJSON(e).then((t=>(GE[e]=t,t))),GE[e])}function sj(e,t){const r=nj(e);if(r.length<1)return t;const s=jr.getIn(t,r);if(void 0===s)throw new JE(`Could not resolve pointer: ${e} does not exist in document`,{pointer:e});return s}function nj(e){if("string"!=typeof e)throw new TypeError("Expected a string, got a "+typeof e);return"/"===e[0]&&(e=e.substr(1)),""===e?[]:e.split("/").map(ij)}function ij(e){return"string"!=typeof e?e:new URLSearchParams(`=${e.replace(/~1/g,"/").replace(/~0/g,"~")}`).get("")}function oj(e){return new URLSearchParams([["",e.replace(/~/g,"~0").replace(/\//g,"~1")]]).toString().slice(1)}function aj(e,t){if(!(r=t)||"/"===r||"#"===r)return!0;var r;const s=e.charAt(t.length),n=t.slice(-1);return 0===e.indexOf(t)&&(!s||"/"===s||"#"===s)&&"#"!==n}const cj={key:"allOf",plugin:(e,t,r,s,n)=>{if(n.meta&&n.meta.$$ref)return;const i=r.slice(0,-1);if(VE(i))return;if(!Array.isArray(e)){const e=new TypeError("allOf must be an array");return e.fullPath=r,e}let o=!1,a=n.value;if(i.forEach((e=>{a&&(a=a[e])})),a={...a},0===Object.keys(a).length)return;delete a.allOf;const c=[];return c.push(s.replace(i,{})),e.forEach(((e,t)=>{if(!s.isObject(e)){if(o)return null;o=!0;const e=new TypeError("Elements in allOf must be objects");return e.fullPath=r,c.push(e)}c.push(s.mergeDeep(i,e));const n=function(e,t,{specmap:r,getBaseUrlForNodePath:s=(e=>r.getContext([...t,...e]).baseDoc),targetKeys:n=["$ref","$$ref"]}={}){const i=[];return qE(e).forEach((function(){if(n.includes(this.key)&&"string"==typeof this.node){const e=this.path,n=t.concat(this.path),o=zE(this.node,s(e));i.push(r.replace(n,o))}})),i}(e,r.slice(0,-1),{getBaseUrlForNodePath:e=>s.getContext([...r,t,...e]).baseDoc,specmap:s});c.push(...n)})),a.example&&c.push(s.remove([].concat(i,"example"))),c.push(s.mergeDeep(i,a)),a.$$ref||c.push(s.remove([].concat(i,"$$ref"))),c}},lj={key:"parameters",plugin:(e,t,r,s)=>{if(Array.isArray(e)&&e.length){const t=Object.assign([],e),n=r.slice(0,-1),i={...jr.getIn(s.spec,n)};for(let o=0;o<e.length;o+=1){const n=e[o];try{t[o].default=s.parameterMacro(i,n)}catch(e){const t=new Error(e);return t.fullPath=r,t}}return jr.replace(r,t)}return jr.replace(r,e)}},uj={key:"properties",plugin:(e,t,r,s)=>{const n={...e};for(const i in e)try{n[i].default=s.modelPropertyMacro(n[i])}catch(e){const t=new Error(e);return t.fullPath=r,t}return jr.replace(r,n)}};class pj{constructor(e){this.root=hj(e||{})}set(e,t){const r=this.getParent(e,!0);if(!r)return void dj(this.root,t,null);const s=e[e.length-1],{children:n}=r;n[s]?dj(n[s],t,r):n[s]=hj(t,r)}get(e){if((e=e||[]).length<1)return this.root.value;let t,r,s=this.root;for(let n=0;n<e.length&&(r=e[n],t=s.children,t[r]);n+=1)s=t[r];return s&&s.protoValue}getParent(e,t){return!e||e.length<1?null:e.length<2?this.root:e.slice(0,-1).reduce(((e,r)=>{if(!e)return e;const{children:s}=e;return!s[r]&&t&&(s[r]=hj(null,e)),s[r]}),this.root)}}function hj(e,t){return dj({children:{}},e,t)}function dj(e,t,r){return e.value=t||{},e.protoValue=r?{...r.protoValue,...e.value}:e.value,Object.keys(e.children).forEach((t=>{const r=e.children[t];e.children[t]=dj(r,r.value,e)})),e}const mj=()=>{};class fj{static getPluginName(e){return e.pluginName}static getPatchesOfType(e,t){return e.filter(t)}constructor(e){Object.assign(this,{spec:"",debugLevel:"info",plugins:[],pluginHistory:{},errors:[],mutations:[],promisedPatches:[],state:{},patches:[],context:{},contextTree:new pj,showDebug:!1,allPatches:[],pluginProp:"specMap",libMethods:Object.assign(Object.create(this),jr,{getInstance:()=>this}),allowMetaPatches:!1},e),this.get=this._get.bind(this),this.getContext=this._getContext.bind(this),this.hasRun=this._hasRun.bind(this),this.wrappedPlugins=this.plugins.map(this.wrapPlugin.bind(this)).filter(jr.isFunction),this.patches.push(jr.add([],this.spec)),this.patches.push(jr.context([],this.context)),this.updatePatches(this.patches)}debug(e,...t){this.debugLevel===e&&console.log(...t)}verbose(e,...t){"verbose"===this.debugLevel&&console.log(`[${e}]   `,...t)}wrapPlugin(e,t){const{pathDiscriminator:r}=this;let s,n=null;return e[this.pluginProp]?(n=e,s=e[this.pluginProp]):jr.isFunction(e)?s=e:jr.isObject(e)&&(s=function(e){const t=(e,t)=>!Array.isArray(e)||e.every(((e,r)=>e===t[r]));return function*(s,n){const i={};for(const[e,t]of s.filter(jr.isAdditiveMutation).entries()){if(!(e<3e3))return;yield*o(t.value,t.path,t)}function*o(s,a,c){if(jr.isObject(s)){const l=a.length-1,u=a[l],p=a.indexOf("properties"),h="properties"===u&&l===p,d=n.allowMetaPatches&&i[s.$$ref];for(const m of Object.keys(s)){const l=s[m],u=a.concat(m),p=jr.isObject(l),f=s.$$ref;if(d||p&&(n.allowMetaPatches&&f&&(i[f]=!0),yield*o(l,u,c)),!h&&m===e.key){const s=t(r,a);r&&!s||(yield e.plugin(l,m,u,n,c))}}}else e.key===a[a.length-1]&&(yield e.plugin(s,e.key,a,n))}}}(e)),Object.assign(s.bind(n),{pluginName:e.name||t,isGenerator:jr.isGenerator(s)})}nextPlugin(){return this.wrappedPlugins.find((e=>this.getMutationsForPlugin(e).length>0))}nextPromisedPatch(){if(this.promisedPatches.length>0)return Promise.race(this.promisedPatches.map((e=>e.value)))}getPluginHistory(e){const t=this.constructor.getPluginName(e);return this.pluginHistory[t]||[]}getPluginRunCount(e){return this.getPluginHistory(e).length}getPluginHistoryTip(e){const t=this.getPluginHistory(e);return t&&t[t.length-1]||{}}getPluginMutationIndex(e){const t=this.getPluginHistoryTip(e).mutationIndex;return"number"!=typeof t?-1:t}updatePluginHistory(e,t){const r=this.constructor.getPluginName(e);this.pluginHistory[r]=this.pluginHistory[r]||[],this.pluginHistory[r].push(t)}updatePatches(e){jr.normalizeArray(e).forEach((e=>{if(e instanceof Error)this.errors.push(e);else try{if(!jr.isObject(e))return void this.debug("updatePatches","Got a non-object patch",e);if(this.showDebug&&this.allPatches.push(e),jr.isPromise(e.value))return this.promisedPatches.push(e),void this.promisedPatchThen(e);if(jr.isContextPatch(e))return void this.setContext(e.path,e.value);jr.isMutation(e)&&this.updateMutations(e)}catch(e){console.error(e),this.errors.push(e)}}))}updateMutations(e){"object"==typeof e.value&&!Array.isArray(e.value)&&this.allowMetaPatches&&(e.value={...e.value});const t=jr.applyPatch(this.state,e,{allowMetaPatches:this.allowMetaPatches});t&&(this.mutations.push(e),this.state=t)}removePromisedPatch(e){const t=this.promisedPatches.indexOf(e);t<0?this.debug("Tried to remove a promisedPatch that isn't there!"):this.promisedPatches.splice(t,1)}promisedPatchThen(e){return e.value=e.value.then((t=>{const r={...e,value:t};this.removePromisedPatch(e),this.updatePatches(r)})).catch((t=>{this.removePromisedPatch(e),this.updatePatches(t)})),e.value}getMutations(e,t){return e=e||0,"number"!=typeof t&&(t=this.mutations.length),this.mutations.slice(e,t)}getCurrentMutations(){return this.getMutationsForPlugin(this.getCurrentPlugin())}getMutationsForPlugin(e){const t=this.getPluginMutationIndex(e);return this.getMutations(t+1)}getCurrentPlugin(){return this.currentPlugin}getLib(){return this.libMethods}_get(e){return jr.getIn(this.state,e)}_getContext(e){return this.contextTree.get(e)}setContext(e,t){return this.contextTree.set(e,t)}_hasRun(e){return this.getPluginRunCount(this.getCurrentPlugin())>(e||0)}dispatch(){const e=this,t=this.nextPlugin();if(!t){const e=this.nextPromisedPatch();if(e)return e.then((()=>this.dispatch())).catch((()=>this.dispatch()));const t={spec:this.state,errors:this.errors};return this.showDebug&&(t.patches=this.allPatches),Promise.resolve(t)}if(e.pluginCount=e.pluginCount||new WeakMap,e.pluginCount.set(t,(e.pluginCount.get(t)||0)+1),e.pluginCount[t]>100)return Promise.resolve({spec:e.state,errors:e.errors.concat(new Error("We've reached a hard limit of 100 plugin runs"))});if(t!==this.currentPlugin&&this.promisedPatches.length){const e=this.promisedPatches.map((e=>e.value));return Promise.all(e.map((e=>e.then(mj,mj)))).then((()=>this.dispatch()))}return function(){e.currentPlugin=t;const s=e.getCurrentMutations(),n=e.mutations.length-1;try{if(t.isGenerator)for(const n of t(s,e.getLib()))r(n);else r(t(s,e.getLib()))}catch(e){console.error(e),r([Object.assign(Object.create(e),{plugin:t})])}finally{e.updatePluginHistory(t,{mutationIndex:n})}return e.dispatch()}();function r(r){r&&(r=jr.fullyNormalizeArray(r),e.updatePatches(r,t))}}}const yj={refs:XE,allOf:cj,parameters:lj,properties:uj};async function gj(e){const{spec:t,mode:r,allowMetaPatches:s=!0,pathDiscriminator:n,modelPropertyMacro:i,parameterMacro:o,requestInterceptor:a,responseInterceptor:c,skipNormalization:l=!1,useCircularStructures:u,strategies:p}=e,h=Dt(e),d=qt(e),m=p.find((e=>e.match(t)));return async function(e){h&&(yj.refs.docCache[h]=e),yj.refs.fetchJSON=Rt(d,{requestInterceptor:a,responseInterceptor:c});const t=[yj.refs];"function"==typeof o&&t.push(yj.parameters),"function"==typeof i&&t.push(yj.properties),"strict"!==r&&t.push(yj.allOf);const p=await(f={spec:e,context:{baseDoc:h},plugins:t,allowMetaPatches:s,pathDiscriminator:n,parameterMacro:o,modelPropertyMacro:i,useCircularStructures:u},new fj(f).dispatch());var f;return l||(p.spec=m.normalize(p.spec)),p}(t)}const vj=e=>e.replace(/\W/gi,"_");function bj(e,t,r="",{v2OperationIdCompatibilityMode:s}={}){return e&&"object"==typeof e?(e.operationId||"").replace(/\s/g,"").length?vj(e.operationId):function(e,t,{v2OperationIdCompatibilityMode:r}={}){if(r){let r=`${t.toLowerCase()}_${e}`.replace(/[\s!@#$%^&*()_+=[{\]};:<>|./?,\\'""-]/g,"_");return r=r||`${e.substring(1)}_${t}`,r.replace(/((_){2,})/g,"_").replace(/^(_)*/g,"").replace(/([_])*$/g,"")}return`${t.toLowerCase()}${vj(e)}`}(t,r,{v2OperationIdCompatibilityMode:s}):null}function xj(e){const{spec:t}=e,{paths:r}=t,s={};if(!r||t.$$normalized)return e;for(const n in r){const e=r[n];if(null==e||!["object","function"].includes(typeof e))continue;const i=e.parameters;for(const r in e){const o=e[r];if(null==o||!["object","function"].includes(typeof o))continue;const a=bj(o,n,r);if(a){s[a]?s[a].push(o):s[a]=[o];const e=s[a];if(e.length>1)e.forEach(((e,t)=>{e.h=e.h||e.operationId,e.operationId=`${a}${t+1}`}));else if(void 0!==o.operationId){const t=e[0];t.h=t.h||o.operationId,t.operationId=a}}if("parameters"!==r){const e=[],r={};for(const s in t)"produces"!==s&&"consumes"!==s&&"security"!==s||(r[s]=t[s],e.push(r));if(i&&(r.parameters=i,e.push(r)),e.length)for(const t of e)for(const e in t)if(o[e]){if("parameters"===e)for(const r of t[e])o[e].some((e=>e.name&&e.name===r.name||e.$ref&&e.$ref===r.$ref||e.$$ref&&e.$$ref===r.$$ref||e===r))||o[e].push(r)}else o[e]=t[e]}}}return t.$$normalized=!0,e}const wj={name:"generic",match:()=>!0,normalize(e){const{spec:t}=xj({spec:e});return t},resolve:async e=>gj(e)},Ej=e=>{try{const{swagger:t}=e;return"2.0"===t}catch{return!1}},jj=e=>{try{const{openapi:t}=e;return"string"==typeof t&&/^3\.0\.([0123])(?:-rc[012])?$/.test(t)}catch{return!1}},Oj=e=>{try{const{openapi:t}=e;return"string"==typeof t&&/^3\.1\.(?:[1-9]\d*|0)$/.test(t)}catch{return!1}},Sj=e=>jj(e)||Oj(e),Pj={name:"openapi-2",match:e=>Ej(e),normalize(e){const{spec:t}=xj({spec:e});return t},resolve:async e=>async function(e){return gj(e)}(e)},Aj={name:"openapi-3-0",match:e=>jj(e),normalize(e){const{spec:t}=xj({spec:e});return t},resolve:async e=>async function(e){return gj(e)}(e)},$j=e=>async t=>(async e=>{const{spec:t,requestInterceptor:r,responseInterceptor:s}=e,n=Dt(e),i=qt(e),o=t||await Rt(i,{requestInterceptor:r,responseInterceptor:s})(n),a={...e,spec:o};return e.strategies.find((e=>e.match(o))).resolve(a)})({...e,...t}),kj=$j({strategies:[Aj,Pj,wj]});class Tj extends Pp{}class Cj extends Tj{pointer;constructor(e,t){super(e,t),void 0!==t&&(this.pointer=t.pointer)}}class Mj extends Tj{tokens;constructor(e,t){super(e,t),void 0!==t&&(this.tokens=[...t.tokens])}}class Fj extends Tj{pointer;tokens;failedToken;failedTokenPosition;element;constructor(e,t){super(e,t),void 0!==t&&(this.pointer=t.pointer,Array.isArray(t.tokens)&&(this.tokens=[...t.tokens]),this.failedToken=t.failedToken,this.failedTokenPosition=t.failedTokenPosition,this.element=t.element)}}const Ij=id(rm(/~/g,"~0"),rm(/\//g,"~1"),encodeURIComponent),_j=id(rm(/~1/g,"/"),rm(/~0/g,"~"),(e=>{try{return decodeURIComponent(e)}catch{return e}})),Rj=e=>{const t=(e=>{const t=e.indexOf("#");return-1!==t?e.substring(t):"#"})(e);return ef("#",t)},Dj=e=>{try{return 0===e.length?"":`/${e.map(Ij).join("/")}`}catch(t){throw new Mj("JSON Pointer compilation of tokens encountered an error.",{tokens:e,cause:t})}},qj=(e,t)=>{let r;try{r=(e=>{if(jm(e))return[];if(!im("/",e))throw new Cj(`Invalid JSON Pointer "${e}". JSON Pointers must begin with "/"`,{pointer:e});try{const t=id(nm("/"),Eh(_j))(e);return nd(t)}catch(t){throw new Cj(`JSON Pointer parsing of "${e}" encountered an error.`,{pointer:e,cause:t})}})(e)}catch(r){throw new Fj(`JSON Pointer evaluation failed while parsing the pointer "${e}".`,{pointer:e,element:xw(t),cause:r})}return r.reduce(((t,s,n)=>{if(Gx(t)){if(!t.hasKey(s))throw new Fj(`JSON Pointer evaluation failed while evaluating token "${s}" against an ObjectElement`,{pointer:e,tokens:r,failedToken:s,failedTokenPosition:n,element:xw(t)});return t.get(s)}if(Wx(t)){if(!(s in t.content)||!qm(Number(s)))throw new Fj(`JSON Pointer evaluation failed while evaluating token "${s}" against an ArrayElement`,{pointer:e,tokens:r,failedToken:s,failedTokenPosition:n,element:xw(t)});return t.get(Number(s))}throw new Fj(`JSON Pointer evaluation failed while evaluating token "${s}" against an unexpected Element`,{pointer:e,tokens:r,failedToken:s,failedTokenPosition:n,element:xw(t)})}),t)};class Nj extends Rw{filterByFormat(e="generic"){const t="generic"===e?"openapi;version":e;return this.filter((e=>e.includes(t)))}findBy(e="3.1.0",t="generic"){const r="generic"===t?`vnd.oai.openapi;version=${e}`:`vnd.oai.openapi+${t};version=${e}`;return this.find((e=>e.includes(r)))||this.unknownMediaType}latest(e="generic"){return bd(this.filterByFormat(e))}}const Lj=new Nj("application/vnd.oai.openapi;version=3.1.0","application/vnd.oai.openapi+json;version=3.1.0","application/vnd.oai.openapi+yaml;version=3.1.0");let Bj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="callback"}},Uj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="components"}get schemas(){return this.get("schemas")}set schemas(e){this.set("schemas",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get requestBodies(){return this.get("requestBodies")}set requestBodies(e){this.set("requestBodies",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get securitySchemes(){return this.get("securitySchemes")}set securitySchemes(e){this.set("securitySchemes",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}},Vj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="contact"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}get email(){return this.get("email")}set email(e){this.set("email",e)}},zj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="discriminator"}get propertyName(){return this.get("propertyName")}set propertyName(e){this.set("propertyName",e)}get mapping(){return this.get("mapping")}set mapping(e){this.set("mapping",e)}},Hj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="encoding"}get contentType(){return this.get("contentType")}set contentType(e){this.set("contentType",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowedReserved(){return this.get("allowedReserved")}set allowedReserved(e){this.set("allowedReserved",e)}},Jj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="example"}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get value(){return this.get("value")}set value(e){this.set("value",e)}get externalValue(){return this.get("externalValue")}set externalValue(e){this.set("externalValue",e)}},Gj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="externalDocumentation"}get description(){return this.get("description")}set description(e){this.set("description",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Wj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="header"}get required(){return this.hasKey("required")?this.get("required"):new Ox(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new Ox(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(Wj.prototype,"description",{get(){return this.get("description")},set(e){this.set("description",e)},enumerable:!0});let Kj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="info",this.classes.push("info")}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get termsOfService(){return this.get("termsOfService")}set termsOfService(e){this.set("termsOfService",e)}get contact(){return this.get("contact")}set contact(e){this.set("contact",e)}get license(){return this.get("license")}set license(e){this.set("license",e)}get version(){return this.get("version")}set version(e){this.set("version",e)}},Yj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="license"}get name(){return this.get("name")}set name(e){this.set("name",e)}get url(){return this.get("url")}set url(e){this.set("url",e)}},Xj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="link"}get operationRef(){return this.get("operationRef")}set operationRef(e){this.set("operationRef",e)}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get operation(){var e,t;return Vx(this.operationRef)?null===(e=this.operationRef)||void 0===e?void 0:e.meta.get("operation"):Vx(this.operationId)?null===(t=this.operationId)||void 0===t?void 0:t.meta.get("operation"):void 0}set operation(e){this.set("operation",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get server(){return this.get("server")}set server(e){this.set("server",e)}},Zj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="mediaType"}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get encoding(){return this.get("encoding")}set encoding(e){this.set("encoding",e)}},Qj=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="oAuthFlow"}get authorizationUrl(){return this.get("authorizationUrl")}set authorizationUrl(e){this.set("authorizationUrl",e)}get tokenUrl(){return this.get("tokenUrl")}set tokenUrl(e){this.set("tokenUrl",e)}get refreshUrl(){return this.get("refreshUrl")}set refreshUrl(e){this.set("refreshUrl",e)}get scopes(){return this.get("scopes")}set scopes(e){this.set("scopes",e)}},eO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="oAuthFlows"}get implicit(){return this.get("implicit")}set implicit(e){this.set("implicit",e)}get password(){return this.get("password")}set password(e){this.set("password",e)}get clientCredentials(){return this.get("clientCredentials")}set clientCredentials(e){this.set("clientCredentials",e)}get authorizationCode(){return this.get("authorizationCode")}set authorizationCode(e){this.set("authorizationCode",e)}},tO=class extends Ex{constructor(e,t,r){super(e,t,r),this.element="openapi",this.classes.push("spec-version"),this.classes.push("version")}};class rO extends Ax{constructor(e,t,r){super(e,t,r),this.element="openApi3_0",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}}let sO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="operation"}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}set externalDocs(e){this.set("externalDocs",e)}get externalDocs(){return this.get("externalDocs")}get operationId(){return this.get("operationId")}set operationId(e){this.set("operationId",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}get responses(){return this.get("responses")}set responses(e){this.set("responses",e)}get callbacks(){return this.get("callbacks")}set callbacks(e){this.set("callbacks",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new Ox(!1)}set deprecated(e){this.set("deprecated",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get servers(){return this.get("severs")}set servers(e){this.set("servers",e)}},nO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="parameter"}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get required(){return this.hasKey("required")?this.get("required"):new Ox(!1)}set required(e){this.set("required",e)}get deprecated(){return this.hasKey("deprecated")?this.get("deprecated"):new Ox(!1)}set deprecated(e){this.set("deprecated",e)}get allowEmptyValue(){return this.get("allowEmptyValue")}set allowEmptyValue(e){this.set("allowEmptyValue",e)}get style(){return this.get("style")}set style(e){this.set("style",e)}get explode(){return this.get("explode")}set explode(e){this.set("explode",e)}get allowReserved(){return this.get("allowReserved")}set allowReserved(e){this.set("allowReserved",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}};Object.defineProperty(nO.prototype,"description",{get(){return this.get("description")},set(e){this.set("description",e)},enumerable:!0});let iO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="pathItem"}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get parameters(){return this.get("parameters")}set parameters(e){this.set("parameters",e)}},oO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="paths"}},aO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="reference",this.classes.push("openapi-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}},cO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="requestBody"}get description(){return this.get("description")}set description(e){this.set("description",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get required(){return this.hasKey("required")?this.get("required"):new Ox(!1)}set required(e){this.set("required",e)}},lO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="response"}get description(){return this.get("description")}set description(e){this.set("description",e)}get headers(){return this.get("headers")}set headers(e){this.set("headers",e)}get contentProp(){return this.get("content")}set contentProp(e){this.set("content",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}},uO=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="responses"}get default(){return this.get("default")}set default(e){this.set("default",e)}};class pO extends Ax{constructor(e,t,r){super(e,t,r),this.element="JSONSchemaDraft4"}get idProp(){return this.get("id")}set idProp(e){this.set("id",e)}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get dependencies(){return this.get("dependencies")}set dependencies(e){this.set("dependencies",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){return this.get("definitions")}set definitions(e){this.set("definitions",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get base(){return this.get("base")}set base(e){this.set("base",e)}get links(){return this.get("links")}set links(e){this.set("links",e)}get media(){return this.get("media")}set media(e){this.set("media",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}}class hO extends Ax{constructor(e,t,r){super(e,t,r),this.element="JSONReference",this.classes.push("json-reference")}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}}class dO extends Ax{constructor(e,t,r){super(e,t,r),this.element="media"}get binaryEncoding(){return this.get("binaryEncoding")}set binaryEncoding(e){this.set("binaryEncoding",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}}class mO extends Ax{constructor(e,t,r){super(e,t,r),this.element="linkDescription"}get href(){return this.get("href")}set href(e){this.set("href",e)}get rel(){return this.get("rel")}set rel(e){this.set("rel",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get targetSchema(){return this.get("targetSchema")}set targetSchema(e){this.set("targetSchema",e)}get mediaType(){return this.get("mediaType")}set mediaType(e){this.set("mediaType",e)}get method(){return this.get("method")}set method(e){this.set("method",e)}get encType(){return this.get("encType")}set encType(e){this.set("encType",e)}get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}const fO={namespace:e=>{const{base:t}=e;return t.register("jSONSchemaDraft4",pO),t.register("jSONReference",hO),t.register("media",dO),t.register("linkDescription",mO),t}},yO=e=>{if(Ux(e))return`${e.element.charAt(0).toUpperCase()+e.element.slice(1)}Element`},gO={JSONSchemaDraft4Element:["content"],JSONReferenceElement:["content"],MediaElement:["content"],LinkDescriptionElement:["content"],...Aw};let vO=class{element;constructor(e){Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=Zw(t.meta,e.meta),sw(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=Zw(t.attributes,e.attributes))}},bO=class extends vO{enter(e){return this.element=xw(e),pw}};const xO=(e,t,r=[])=>{const s=Object.getOwnPropertyDescriptors(t);for(let n of r)delete s[n];Object.defineProperties(e,s)},wO=(e,t=[e])=>{const r=Object.getPrototypeOf(e);return null===r?t:wO(r,[...t,r])},EO=(e,t,r=[])=>{var s;const n=null!==(s=((...e)=>{if(0===e.length)return;let t;const r=e.map((e=>wO(e)));for(;r.every((e=>e.length>0));){const e=r.map((e=>e.pop())),s=e[0];if(!e.every((e=>e===s)))break;t=s}return t})(...e))&&void 0!==s?s:Object.prototype,i=Object.create(n),o=wO(n);for(let a of e){let e=wO(a);for(let t=e.length-1;t>=0;t--){let s=e[t];-1===o.indexOf(s)&&(xO(i,s,["constructor",...r]),o.push(s))}}return i.constructor=t,i},jO=e=>e.filter(((t,r)=>e.indexOf(t)==r)),OO=new WeakMap,SO=e=>OO.get(e),PO=(e,t)=>{var r,s;const n=jO([...Object.getOwnPropertyNames(e),...Object.getOwnPropertyNames(t)]),i={};for(let o of n)i[o]=jO([...null!==(r=null==e?void 0:e[o])&&void 0!==r?r:[],...null!==(s=null==t?void 0:t[o])&&void 0!==s?s:[]]);return i},AO=(e,t)=>{var r,s,n,i;return{property:PO(null!==(r=null==e?void 0:e.property)&&void 0!==r?r:{},null!==(s=null==t?void 0:t.property)&&void 0!==s?s:{}),method:PO(null!==(n=null==e?void 0:e.method)&&void 0!==n?n:{},null!==(i=null==t?void 0:t.method)&&void 0!==i?i:{})}},$O=new Map;function kO(...e){var t,r,s;const n=e.map((e=>e.prototype));function i(...t){for(const r of e)xO(this,new r(...t))}i.prototype=EO(n,i),Object.setPrototypeOf(i,EO(e,null,["prototype"]));let o=i;{const n=((...e)=>{const t=((...e)=>{var t;const r=new Set,s=new Set([...e]);for(;s.size>0;)for(let e of s){const n=[...wO(e.prototype).map((e=>e.constructor)),...null!==(t=SO(e))&&void 0!==t?t:[]].filter((e=>!r.has(e)));for(let e of n)s.add(e);r.add(e),s.delete(e)}return[...r]})(...e).map((e=>$O.get(e))).filter((e=>!!e));return 0==t.length?{}:1==t.length?t[0]:t.reduce(((e,t)=>((e,t)=>{var r,s,n,i,o,a;return{class:jO([...null!==(r=null==e?void 0:e.class)&&void 0!==r?r:[],...null!==(s=null==t?void 0:t.class)&&void 0!==s?s:[]]),static:AO(null!==(n=null==e?void 0:e.static)&&void 0!==n?n:{},null!==(i=null==t?void 0:t.static)&&void 0!==i?i:{}),instance:AO(null!==(o=null==e?void 0:e.instance)&&void 0!==o?o:{},null!==(a=null==t?void 0:t.instance)&&void 0!==a?a:{})}})(e,t)))})(...e);for(let e of null!==(t=null==n?void 0:n.class)&&void 0!==t?t:[]){const t=e(o);t&&(o=t)}TO(null!==(r=null==n?void 0:n.static)&&void 0!==r?r:{},o),TO(null!==(s=null==n?void 0:n.instance)&&void 0!==s?s:{},o.prototype)}var a,c;return a=o,c=e,OO.set(a,c),o}const TO=(e,t)=>{const r=e.property,s=e.method;if(r)for(let n in r)for(let e of r[n])e(t,n);if(s)for(let n in s)for(let e of s[n])e(t,n,Object.getOwnPropertyDescriptor(t,n))};let CO=class extends vO{specObj;passingOptionsNames=["specObj"];constructor({specObj:e,...t}){super({...t}),this.specObj=e}retrievePassingOptions(){return Yd(this.passingOptionsNames,this)}retrieveFixedFields(e){const t=Gd(["visitors",...e,"fixedFields"],this.specObj);return"object"==typeof t&&null!==t?Object.keys(t):[]}retrieveVisitor(e){return Kd(vm,["visitors",...e],this.specObj)?Gd(["visitors",...e],this.specObj):Gd(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,t={}){const r=this.retrievePassingOptions();return new(this.retrieveVisitor(e))({...r,...t})}toRefractedElement(e,t,r={}){const s=this.retrieveVisitorInstance(e,r);return s instanceof bO&&(null==s?void 0:s.constructor)===bO?xw(t):(kw(t,s,r),s.element)}},MO=class extends CO{specPath;ignoredFields;constructor({specPath:e,ignoredFields:t,...r}){super({...r}),this.specPath=e,this.ignoredFields=t||[]}ObjectElement(e){const t=this.specPath(e),r=this.retrieveFixedFields(t);return e.forEach(((e,s,n)=>{if(Vx(s)&&r.includes(zw(s))&&!this.ignoredFields.includes(zw(s))){const r=this.toRefractedElement([...t,"fixedFields",zw(s)],e),i=new $x(xw(s),r);this.copyMetaAndAttributes(n,i),i.classes.push("fixed-field"),this.element.content.push(i)}else this.ignoredFields.includes(zw(s))||this.element.content.push(xw(n))})),this.copyMetaAndAttributes(e,this.element),pw}};class FO extends(kO(MO,bO)){constructor(e){super(e),this.element=new pO,this.specPath=Dh(["document","objects","JSONSchema"])}}let IO=class{parent;constructor({parent:e}){this.parent=e}};const _O=e=>Gx(e)&&e.hasKey("$ref");let RO=class extends(kO(CO,IO,bO)){ObjectElement(e){const t=_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"];return this.element=this.toRefractedElement(t,e),pw}ArrayElement(e){return this.element=new Px,this.element.classes.push("json-schema-items"),e.forEach((e=>{const t=_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}},DO=class extends CO{specPath;ignoredFields;fieldPatternPredicate=kp;constructor({specPath:e,ignoredFields:t,fieldPatternPredicate:r,...s}){super({...s}),this.specPath=e,this.ignoredFields=t||[],"function"==typeof r&&(this.fieldPatternPredicate=r)}ObjectElement(e){return e.forEach(((e,t,r)=>{if(!this.ignoredFields.includes(zw(t))&&this.fieldPatternPredicate(zw(t))){const s=this.specPath(e),n=this.toRefractedElement(s,e),i=new $x(xw(t),n);this.copyMetaAndAttributes(r,i),i.classes.push("patterned-field"),this.element.content.push(i)}else this.ignoredFields.includes(zw(t))||this.element.content.push(xw(r))})),this.copyMetaAndAttributes(e,this.element),pw}},qO=class extends DO{constructor(e){super(e),this.fieldPatternPredicate=Am}},NO=class extends(kO(qO,IO,bO)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-properties"),this.specPath=e=>_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}},LO=class extends(kO(qO,IO,bO)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-patternProperties"),this.specPath=e=>_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}};class BO extends(kO(qO,IO,bO)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-dependencies"),this.specPath=e=>_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let UO=class extends(kO(CO,IO,bO)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-allOf")}ArrayElement(e){return e.forEach((e=>{const t=_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}},VO=class extends(kO(CO,IO,bO)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-anyOf")}ArrayElement(e){return e.forEach((e=>{const t=_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}},zO=class extends(kO(CO,IO,bO)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-oneOf")}ArrayElement(e){return e.forEach((e=>{const t=_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}};class HO extends(kO(qO,IO,bO)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-definitions"),this.specPath=e=>_O(e)?["document","objects","JSONReference"]:["document","objects","JSONSchema"]}}let JO=class extends(kO(CO,IO,bO)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-links")}ArrayElement(e){return e.forEach((e=>{const t=this.toRefractedElement(["document","objects","LinkDescription"],e);this.element.push(t)})),this.copyMetaAndAttributes(e,this.element),pw}};class GO extends(kO(MO,bO)){constructor(e){super(e),this.element=new hO,this.specPath=Dh(["document","objects","JSONReference"])}ObjectElement(e){const t=MO.prototype.ObjectElement.call(this,e);return Vx(this.element.$ref)&&this.element.classes.push("reference-element"),t}}let WO=class extends CO{alternator;constructor({alternator:e,...t}){super({...t}),this.alternator=e}enter(e){const t=this.alternator.map((({predicate:e,specPath:t})=>Td(e,Dh(t),um))),r=Hm(t)(e);return this.element=this.toRefractedElement(r,e),pw}},KO=class extends WO{constructor(e){super(e),this.alternator=[{predicate:_O,specPath:["document","objects","JSONReference"]},{predicate:Tp,specPath:["document","objects","JSONSchema"]}]}};class YO extends(kO(MO,bO)){constructor(e){super(e),this.element=new dO,this.specPath=Dh(["document","objects","Media"])}}class XO extends(kO(MO,bO)){constructor(e){super(e),this.element=new mO,this.specPath=Dh(["document","objects","LinkDescription"])}}const ZO={visitors:{value:bO,JSONSchemaOrJSONReferenceVisitor:KO,document:{objects:{JSONSchema:{$visitor:FO,fixedFields:{id:{$ref:"#/visitors/value"},$schema:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},additionalItems:KO,items:RO,maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:class extends bO{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-required"),t}},properties:NO,additionalProperties:KO,patternProperties:LO,dependencies:BO,enum:class extends bO{ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-enum"),t}},type:class extends bO{StringElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=this.enter(e);return this.element.classes.push("json-schema-type"),t}},allOf:UO,anyOf:VO,oneOf:zO,not:KO,definitions:HO,title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},format:{$ref:"#/visitors/value"},base:{$ref:"#/visitors/value"},links:JO,media:{$ref:"#/visitors/document/objects/Media"},readOnly:{$ref:"#/visitors/value"}}},JSONReference:{$visitor:GO,fixedFields:{$ref:class extends bO{StringElement(e){const t=this.enter(e);return this.element.classes.push("reference-value"),t}}}},Media:{$visitor:YO,fixedFields:{binaryEncoding:{$ref:"#/visitors/value"},type:{$ref:"#/visitors/value"}}},LinkDescription:{$visitor:XO,fixedFields:{href:{$ref:"#/visitors/value"},rel:{$ref:"#/visitors/value"},title:{$ref:"#/visitors/value"},targetSchema:KO,mediaType:{$ref:"#/visitors/value"},method:{$ref:"#/visitors/value"},encType:{$ref:"#/visitors/value"},schema:KO}}}}}},QO=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof pO||e(s)&&t("JSONSchemaDraft4",s)&&r("object",s))),eS=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof hO||e(s)&&t("JSONReference",s)&&r("object",s))),tS=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof dO||e(s)&&t("media",s)&&r("object",s))),rS=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof mO||e(s)&&t("linkDescription",s)&&r("object",s))),sS=Object.freeze(Object.defineProperty({__proto__:null,isJSONReferenceElement:eS,isJSONSchemaElement:QO,isLinkDescriptionElement:rS,isMediaElement:tS},Symbol.toStringTag,{value:"Module"})),nS=()=>{const e=cw(fO);return{predicates:{...sS,isStringElement:Vx},namespace:e}},iS=e=>(t,r={})=>((e,{specPath:t=["visitors","document","objects","JSONSchema","$visitor"],plugins:r=[],specificationObj:s=ZO}={})=>{const n=Cx(e),i=Gw(s),o=new(Gd(t,i))({specObj:i});return kw(n,o),Cw(o.element,r,{toolboxCreator:nS,visitorOptions:{keyMap:gO,nodeTypeGetter:yO}})})(t,{specPath:e,...r});pO.refract=iS(["visitors","document","objects","JSONSchema","$visitor"]),hO.refract=iS(["visitors","document","objects","JSONReference","$visitor"]),dO.refract=iS(["visitors","document","objects","Media","$visitor"]),mO.refract=iS(["visitors","document","objects","LinkDescription","$visitor"]);let oS=class extends pO{constructor(e,t,r){super(e,t,r),this.element="schema",this.classes.push("json-schema-draft-4")}get idProp(){throw new Ap("idProp getter in Schema class is not not supported.")}set idProp(e){throw new Ap("idProp setter in Schema class is not not supported.")}get $schema(){throw new Ap("$schema getter in Schema class is not not supported.")}set $schema(e){throw new Ap("$schema setter in Schema class is not not supported.")}get additionalItems(){return this.get("additionalItems")}set additionalItems(e){this.set("additionalItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get patternProperties(){throw new Ap("patternProperties getter in Schema class is not not supported.")}set patternProperties(e){throw new Ap("patternProperties setter in Schema class is not not supported.")}get dependencies(){throw new Ap("dependencies getter in Schema class is not not supported.")}set dependencies(e){throw new Ap("dependencies setter in Schema class is not not supported.")}get type(){return this.get("type")}set type(e){this.set("type",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get definitions(){throw new Ap("definitions getter in Schema class is not not supported.")}set definitions(e){throw new Ap("definitions setter in Schema class is not not supported.")}get base(){throw new Ap("base getter in Schema class is not not supported.")}set base(e){throw new Ap("base setter in Schema class is not not supported.")}get links(){throw new Ap("links getter in Schema class is not not supported.")}set links(e){throw new Ap("links setter in Schema class is not not supported.")}get media(){throw new Ap("media getter in Schema class is not not supported.")}set media(e){throw new Ap("media setter in Schema class is not not supported.")}get nullable(){return this.get("nullable")}set nullable(e){this.set("nullable",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}},aS=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="securityRequirement"}},cS=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="securityScheme"}get type(){return this.get("type")}set type(e){this.set("type",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get name(){return this.get("name")}set name(e){this.set("name",e)}get in(){return this.get("in")}set in(e){this.set("in",e)}get scheme(){return this.get("scheme")}set scheme(e){this.set("scheme",e)}get bearerFormat(){return this.get("bearerFormat")}set bearerFormat(e){this.set("bearerFormat",e)}get flows(){return this.get("flows")}set flows(e){this.set("flows",e)}get openIdConnectUrl(){return this.get("openIdConnectUrl")}set openIdConnectUrl(e){this.set("openIdConnectUrl",e)}},lS=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="server"}get url(){return this.get("url")}set url(e){this.set("url",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get variables(){return this.get("variables")}set variables(e){this.set("variables",e)}},uS=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="serverVariable"}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}},pS=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="tag"}get name(){return this.get("name")}set name(e){this.set("name",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}},hS=class extends Ax{constructor(e,t,r){super(e,t,r),this.element="xml"}get name(){return this.get("name")}set name(e){this.set("name",e)}get namespace(){return this.get("namespace")}set namespace(e){this.set("namespace",e)}get prefix(){return this.get("prefix")}set prefix(e){this.set("prefix",e)}get attribute(){return this.get("attribute")}set attribute(e){this.set("attribute",e)}get wrapped(){return this.get("wrapped")}set wrapped(e){this.set("wrapped",e)}};const dS={namespace:e=>{const{base:t}=e;return t.register("callback",Bj),t.register("components",Uj),t.register("contact",Vj),t.register("discriminator",zj),t.register("encoding",Hj),t.register("example",Jj),t.register("externalDocumentation",Gj),t.register("header",Wj),t.register("info",Kj),t.register("license",Yj),t.register("link",Xj),t.register("mediaType",Zj),t.register("oAuthFlow",Qj),t.register("oAuthFlows",eO),t.register("openapi",tO),t.register("openApi3_0",rO),t.register("operation",sO),t.register("parameter",nO),t.register("pathItem",iO),t.register("paths",oO),t.register("reference",aO),t.register("requestBody",cO),t.register("response",lO),t.register("responses",uO),t.register("schema",oS),t.register("securityRequirement",aS),t.register("securityScheme",cS),t.register("server",lS),t.register("serverVariable",uS),t.register("tag",pS),t.register("xml",hS),t}};class mS extends Px{static primaryClass="servers";constructor(e,t,r){super(e,t,r),this.classes.push(mS.primaryClass)}}class fS extends Px{static primaryClass="security";constructor(e,t,r){super(e,t,r),this.classes.push(fS.primaryClass)}}class yS extends Px{static primaryClass="tags";constructor(e,t,r){super(e,t,r),this.classes.push(yS.primaryClass)}}class gS extends Ax{static primaryClass="server-variables";constructor(e,t,r){super(e,t,r),this.classes.push(gS.primaryClass)}}class vS extends Ax{static primaryClass="components-schemas";constructor(e,t,r){super(e,t,r),this.classes.push(vS.primaryClass)}}class bS extends Ax{static primaryClass="components-responses";constructor(e,t,r){super(e,t,r),this.classes.push(bS.primaryClass)}}class xS extends Ax{static primaryClass="components-parameters";constructor(e,t,r){super(e,t,r),this.classes.push(xS.primaryClass),this.classes.push("parameters")}}class wS extends Ax{static primaryClass="components-examples";constructor(e,t,r){super(e,t,r),this.classes.push(wS.primaryClass),this.classes.push("examples")}}class ES extends Ax{static primaryClass="components-request-bodies";constructor(e,t,r){super(e,t,r),this.classes.push(ES.primaryClass)}}class jS extends Ax{static primaryClass="components-headers";constructor(e,t,r){super(e,t,r),this.classes.push(jS.primaryClass)}}class OS extends Ax{static primaryClass="components-security-schemes";constructor(e,t,r){super(e,t,r),this.classes.push(OS.primaryClass)}}class SS extends Ax{static primaryClass="components-links";constructor(e,t,r){super(e,t,r),this.classes.push(SS.primaryClass)}}class PS extends Ax{static primaryClass="components-callbacks";constructor(e,t,r){super(e,t,r),this.classes.push(PS.primaryClass)}}class AS extends Px{static primaryClass="path-item-servers";constructor(e,t,r){super(e,t,r),this.classes.push(AS.primaryClass),this.classes.push("servers")}}class $S extends Px{static primaryClass="path-item-parameters";constructor(e,t,r){super(e,t,r),this.classes.push($S.primaryClass),this.classes.push("parameters")}}class kS extends Px{static primaryClass="operation-parameters";constructor(e,t,r){super(e,t,r),this.classes.push(kS.primaryClass),this.classes.push("parameters")}}class TS extends Ax{static primaryClass="parameter-examples";constructor(e,t,r){super(e,t,r),this.classes.push(TS.primaryClass),this.classes.push("examples")}}class CS extends Ax{static primaryClass="parameter-content";constructor(e,t,r){super(e,t,r),this.classes.push(CS.primaryClass),this.classes.push("content")}}class MS extends Px{static primaryClass="operation-tags";constructor(e,t,r){super(e,t,r),this.classes.push(MS.primaryClass)}}class FS extends Ax{static primaryClass="operation-callbacks";constructor(e,t,r){super(e,t,r),this.classes.push(FS.primaryClass)}}class IS extends Px{static primaryClass="operation-security";constructor(e,t,r){super(e,t,r),this.classes.push(IS.primaryClass),this.classes.push("security")}}class _S extends Px{static primaryClass="operation-servers";constructor(e,t,r){super(e,t,r),this.classes.push(_S.primaryClass),this.classes.push("servers")}}class RS extends Ax{static primaryClass="request-body-content";constructor(e,t,r){super(e,t,r),this.classes.push(RS.primaryClass),this.classes.push("content")}}class DS extends Ax{static primaryClass="media-type-examples";constructor(e,t,r){super(e,t,r),this.classes.push(DS.primaryClass),this.classes.push("examples")}}class qS extends Ax{static primaryClass="media-type-encoding";constructor(e,t,r){super(e,t,r),this.classes.push(qS.primaryClass)}}class NS extends Ax{static primaryClass="encoding-headers";constructor(e,t,r){super(e,t,r),this.classes.push(NS.primaryClass)}}class LS extends Ax{static primaryClass="response-headers";constructor(e,t,r){super(e,t,r),this.classes.push(LS.primaryClass)}}class BS extends Ax{static primaryClass="response-content";constructor(e,t,r){super(e,t,r),this.classes.push(BS.primaryClass),this.classes.push("content")}}class US extends Ax{static primaryClass="response-links";constructor(e,t,r){super(e,t,r),this.classes.push(US.primaryClass)}}class VS extends Ax{static primaryClass="discriminator-mapping";constructor(e,t,r){super(e,t,r),this.classes.push(VS.primaryClass)}}class zS extends Ax{static primaryClass="oauth-flow-scopes";constructor(e,t,r){super(e,t,r),this.classes.push(zS.primaryClass)}}class HS extends Ax{static primaryClass="link-parameters";constructor(e,t,r){super(e,t,r),this.classes.push(HS.primaryClass)}}class JS extends Ax{static primaryClass="header-examples";constructor(e,t,r){super(e,t,r),this.classes.push(JS.primaryClass),this.classes.push("examples")}}class GS extends Ax{static primaryClass="header-content";constructor(e,t,r){super(e,t,r),this.classes.push(GS.primaryClass),this.classes.push("content")}}const WS=e=>{if(Ux(e))return`${e.element.charAt(0).toUpperCase()+e.element.slice(1)}Element`},KS={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_0Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...Aw};class YS{element;constructor(e={}){Object.assign(this,e)}copyMetaAndAttributes(e,t){(e.meta.length>0||t.meta.length>0)&&(t.meta=Zw(t.meta,e.meta),sw(e)&&t.meta.set("sourceMap",e.meta.get("sourceMap"))),(e.attributes.length>0||e.meta.length>0)&&(t.attributes=Zw(t.attributes,e.attributes))}}class XS extends YS{enter(e){return this.element=xw(e),pw}}class ZS extends YS{specObj;passingOptionsNames=["specObj","openApiGenericElement","openApiSemanticElement"];openApiGenericElement;openApiSemanticElement;constructor({specObj:e,passingOptionsNames:t,openApiGenericElement:r,openApiSemanticElement:s,...n}){super({...n}),this.specObj=e,this.openApiGenericElement=r,this.openApiSemanticElement=s,Array.isArray(t)&&(this.passingOptionsNames=t)}retrievePassingOptions(){return Yd(this.passingOptionsNames,this)}retrieveFixedFields(e){const t=Gd(["visitors",...e,"fixedFields"],this.specObj);return"object"==typeof t&&null!==t?Object.keys(t):[]}retrieveVisitor(e){return Kd(vm,["visitors",...e],this.specObj)?Gd(["visitors",...e],this.specObj):Gd(["visitors",...e,"$visitor"],this.specObj)}retrieveVisitorInstance(e,t={}){const r=this.retrievePassingOptions();return new(this.retrieveVisitor(e))({...r,...t})}toRefractedElement(e,t,r={}){const s=this.retrieveVisitorInstance(e,r);return s instanceof XS&&(null==s?void 0:s.constructor)===XS?xw(t):(kw(t,s,r),s.element)}}const QS=e=>Gx(e)&&e.hasKey("$ref"),eP=Gx,tP=Gx,rP=e=>Vx(e.key)&&im("x-",zw(e.key));class sP extends ZS{specPath;ignoredFields;canSupportSpecificationExtensions=!0;specificationExtensionPredicate=rP;constructor({specPath:e,ignoredFields:t,canSupportSpecificationExtensions:r,specificationExtensionPredicate:s,...n}){super({...n}),this.specPath=e,this.ignoredFields=t||[],"boolean"==typeof r&&(this.canSupportSpecificationExtensions=r),"function"==typeof s&&(this.specificationExtensionPredicate=s)}ObjectElement(e){const t=this.specPath(e),r=this.retrieveFixedFields(t);return e.forEach(((e,s,n)=>{if(Vx(s)&&r.includes(zw(s))&&!this.ignoredFields.includes(zw(s))){const r=this.toRefractedElement([...t,"fixedFields",zw(s)],e),i=new $x(xw(s),r);this.copyMetaAndAttributes(n,i),i.classes.push("fixed-field"),this.element.content.push(i)}else if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(n)){const e=this.toRefractedElement(["document","extension"],n);this.element.content.push(e)}else this.ignoredFields.includes(zw(s))||this.element.content.push(xw(n))})),this.copyMetaAndAttributes(e,this.element),pw}}class nP extends(kO(sP,XS)){constructor(e){super(e),this.element=new rO,this.specPath=Dh(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){return sP.prototype.ObjectElement.call(this,e)}}class iP extends(kO(ZS,XS)){StringElement(e){const t=new tO(zw(e));return this.copyMetaAndAttributes(e,t),this.element=t,pw}}let oP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Kj,this.specPath=Dh(["document","objects","Info"]),this.canSupportSpecificationExtensions=!0}},aP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Vj,this.specPath=Dh(["document","objects","Contact"]),this.canSupportSpecificationExtensions=!0}},cP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Yj,this.specPath=Dh(["document","objects","License"]),this.canSupportSpecificationExtensions=!0}},lP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Xj,this.specPath=Dh(["document","objects","Link"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return(Vx(this.element.operationId)||Vx(this.element.operationRef))&&this.element.classes.push("reference-element"),t}};class uP extends ZS{specPath;ignoredFields;fieldPatternPredicate=kp;canSupportSpecificationExtensions=!1;specificationExtensionPredicate=rP;constructor({specPath:e,ignoredFields:t,fieldPatternPredicate:r,canSupportSpecificationExtensions:s,specificationExtensionPredicate:n,...i}){super({...i}),this.specPath=e,this.ignoredFields=t||[],"function"==typeof r&&(this.fieldPatternPredicate=r),"boolean"==typeof s&&(this.canSupportSpecificationExtensions=s),"function"==typeof n&&(this.specificationExtensionPredicate=n)}ObjectElement(e){return e.forEach(((e,t,r)=>{if(this.canSupportSpecificationExtensions&&this.specificationExtensionPredicate(r)){const e=this.toRefractedElement(["document","extension"],r);this.element.content.push(e)}else if(!this.ignoredFields.includes(zw(t))&&this.fieldPatternPredicate(zw(t))){const s=this.specPath(e),n=this.toRefractedElement(s,e),i=new $x(xw(t),n);this.copyMetaAndAttributes(r,i),i.classes.push("patterned-field"),this.element.content.push(i)}else this.ignoredFields.includes(zw(t))||this.element.content.push(xw(r))})),this.copyMetaAndAttributes(e,this.element),pw}}class pP extends uP{constructor(e){super(e),this.fieldPatternPredicate=Am}}let hP=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new HS,this.specPath=Dh(["value"])}},dP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new lS,this.specPath=Dh(["document","objects","Server"]),this.canSupportSpecificationExtensions=!0}},mP=class extends(kO(ZS,XS)){constructor(e){super(e),this.element=new mS}ArrayElement(e){return e.forEach((e=>{const t=eP(e)?["document","objects","Server"]:["value"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}},fP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new uS,this.specPath=Dh(["document","objects","ServerVariable"]),this.canSupportSpecificationExtensions=!0}};class yP extends(kO(pP,XS)){constructor(e){super(e),this.element=new gS,this.specPath=Dh(["document","objects","ServerVariable"])}}let gP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Zj,this.specPath=Dh(["document","objects","MediaType"]),this.canSupportSpecificationExtensions=!0}};class vP extends ZS{alternator;constructor({alternator:e,...t}){super({...t}),this.alternator=e||[]}enter(e){const t=this.alternator.map((({predicate:e,specPath:t})=>Td(e,Dh(t),um))),r=Hm(t)(e);return this.element=this.toRefractedElement(r,e),pw}}const bP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Bj||e(s)&&t("callback",s)&&r("object",s))),xP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Uj||e(s)&&t("components",s)&&r("object",s))),wP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Vj||e(s)&&t("contact",s)&&r("object",s))),EP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Jj||e(s)&&t("example",s)&&r("object",s))),jP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Gj||e(s)&&t("externalDocumentation",s)&&r("object",s))),OP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Wj||e(s)&&t("header",s)&&r("object",s))),SP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Kj||e(s)&&t("info",s)&&r("object",s))),PP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Yj||e(s)&&t("license",s)&&r("object",s))),AP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Xj||e(s)&&t("link",s)&&r("object",s))),$P=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof tO||e(s)&&t("openapi",s)&&r("string",s))),kP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r,hasClass:s})=>n=>n instanceof rO||e(n)&&t("openApi3_0",n)&&r("object",n)&&s("api",n))),TP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof sO||e(s)&&t("operation",s)&&r("object",s))),CP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof nO||e(s)&&t("parameter",s)&&r("object",s))),MP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof iO||e(s)&&t("pathItem",s)&&r("object",s))),FP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof oO||e(s)&&t("paths",s)&&r("object",s))),IP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof aO||e(s)&&t("reference",s)&&r("object",s))),_P=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof cO||e(s)&&t("requestBody",s)&&r("object",s))),RP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof lO||e(s)&&t("response",s)&&r("object",s))),DP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof uO||e(s)&&t("responses",s)&&r("object",s))),qP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof oS||e(s)&&t("schema",s)&&r("object",s))),NP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof aS||e(s)&&t("securityRequirement",s)&&r("object",s))),LP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof cS||e(s)&&t("securityScheme",s)&&r("object",s))),BP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof lS||e(s)&&t("server",s)&&r("object",s))),UP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof uS||e(s)&&t("serverVariable",s)&&r("object",s))),VP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof Zj||e(s)&&t("mediaType",s)&&r("object",s))),zP=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r,hasClass:s})=>n=>n instanceof mS||e(n)&&t("array",n)&&r("array",n)&&s("servers",n))),HP=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:e=>Jx(e)&&e.classes.includes("boolean-json-schema"),isCallbackElement:bP,isComponentsElement:xP,isContactElement:wP,isExampleElement:EP,isExternalDocumentationElement:jP,isHeaderElement:OP,isInfoElement:SP,isLicenseElement:PP,isLinkElement:AP,isMediaTypeElement:VP,isOpenApi3_0Element:kP,isOpenapiElement:$P,isOperationElement:TP,isParameterElement:CP,isPathItemElement:MP,isPathsElement:FP,isReferenceElement:IP,isRequestBodyElement:_P,isResponseElement:RP,isResponsesElement:DP,isSchemaElement:qP,isSecurityRequirementElement:NP,isSecuritySchemeElement:LP,isServerElement:BP,isServerVariableElement:UP,isServersElement:zP},Symbol.toStringTag,{value:"Module"}));let JP=class extends(kO(vP,XS)){constructor(e){super(e),this.alternator=[{predicate:QS,specPath:["document","objects","Reference"]},{predicate:Tp,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=vP.prototype.enter.call(this,e);return IP(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},GP=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("examples"),this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Example"],this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","example")})),t}},WP=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new qS,this.specPath=Dh(["document","objects","Encoding"])}},KP=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new aS,this.specPath=Dh(["value"])}},YP=class extends(kO(ZS,XS)){constructor(e){super(e),this.element=new fS}ArrayElement(e){return e.forEach((e=>{if(Gx(e)){const t=this.toRefractedElement(["document","objects","SecurityRequirement"],e);this.element.push(t)}else this.element.push(xw(e))})),this.copyMetaAndAttributes(e,this.element),pw}},XP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Uj,this.specPath=Dh(["document","objects","Components"]),this.canSupportSpecificationExtensions=!0}},ZP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new pS,this.specPath=Dh(["document","objects","Tag"]),this.canSupportSpecificationExtensions=!0}},QP=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new aO,this.specPath=Dh(["document","objects","Reference"]),this.canSupportSpecificationExtensions=!1}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return Vx(this.element.$ref)&&this.element.classes.push("reference-element"),t}},eA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new nO,this.specPath=Dh(["document","objects","Parameter"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return Gx(this.element.contentProp)&&this.element.contentProp.filter(VP).forEach(((e,t)=>{e.setMetaProperty("media-type",zw(t))})),t}},tA=class extends(kO(vP,XS)){constructor(e){super(e),this.alternator=[{predicate:QS,specPath:["document","objects","Reference"]},{predicate:Tp,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=vP.prototype.enter.call(this,e);return IP(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},rA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Wj,this.specPath=Dh(["document","objects","Header"]),this.canSupportSpecificationExtensions=!0}},sA=class extends(kO(vP,XS)){constructor(e){super(e),this.alternator=[{predicate:QS,specPath:["document","objects","Reference"]},{predicate:Tp,specPath:["document","objects","Schema"]}]}ObjectElement(e){const t=vP.prototype.enter.call(this,e);return IP(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}},nA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("content"),this.specPath=Dh(["document","objects","MediaType"])}},iA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new oS,this.specPath=Dh(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0}};const{allOf:oA}=ZO.visitors.document.objects.JSONSchema.fixedFields,{anyOf:aA}=ZO.visitors.document.objects.JSONSchema.fixedFields,{oneOf:cA}=ZO.visitors.document.objects.JSONSchema.fixedFields,{items:lA}=ZO.visitors.document.objects.JSONSchema.fixedFields,{properties:uA}=ZO.visitors.document.objects.JSONSchema.fixedFields,{type:pA}=ZO.visitors.document.objects.JSONSchema.fixedFields,{JSONSchemaOrJSONReferenceVisitor:hA}=ZO.visitors;class dA extends hA{ObjectElement(e){const t=hA.prototype.enter.call(this,e);return IP(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}}let mA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new zj,this.specPath=Dh(["document","objects","Discriminator"]),this.canSupportSpecificationExtensions=!1}};class fA extends(kO(pP,XS)){constructor(e){super(e),this.element=new VS,this.specPath=Dh(["value"])}}let yA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new hS,this.specPath=Dh(["document","objects","XML"]),this.canSupportSpecificationExtensions=!0}},gA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new vS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Schema"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","schema")})),t}},vA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new bS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Response"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","response")})),this.element.filter(RP).forEach(((e,t)=>{e.setMetaProperty("http-status-code",zw(t))})),t}},bA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new xS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Parameter"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","parameter")})),t}},xA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new wS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Example"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","example")})),t}};class wA extends(kO(pP,XS)){constructor(e){super(e),this.element=new ES,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","RequestBody"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","requestBody")})),t}}let EA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new jS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","header")})),this.element.filter(OP).forEach(((e,t)=>{e.setMetaProperty("header-name",zw(t))})),t}};class jA extends(kO(pP,XS)){constructor(e){super(e),this.element=new OS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","SecurityScheme"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","securityScheme")})),t}}let OA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new SS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","link")})),t}},SA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new PS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","callback")})),t}},PA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Jj,this.specPath=Dh(["document","objects","Example"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return Vx(this.element.externalValue)&&this.element.classes.push("reference-element"),t}},AA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Gj,this.specPath=Dh(["document","objects","ExternalDocumentation"]),this.canSupportSpecificationExtensions=!0}},$A=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Hj,this.specPath=Dh(["document","objects","Encoding"]),this.canSupportSpecificationExtensions=!0}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return Gx(this.element.headers)&&this.element.headers.filter(OP).forEach(((e,t)=>{e.setMetaProperty("header-name",zw(t))})),t}},kA=class extends(kO(pP,XS)){constructor(e){super(e),this.element=new NS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","header")})),this.element.forEach(((e,t)=>{if(!OP(e))return;const r=zw(t);e.setMetaProperty("headerName",r)})),t}},TA=class extends(kO(uP,XS)){constructor(e){super(e),this.element=new oO,this.specPath=Dh(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=Tp}ObjectElement(e){const t=uP.prototype.ObjectElement.call(this,e);return this.element.filter(MP).forEach(((e,t)=>{t.classes.push("openapi-path-template"),t.classes.push("path-template"),e.setMetaProperty("path",xw(t))})),t}},CA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new cO,this.specPath=Dh(["document","objects","RequestBody"])}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return Gx(this.element.contentProp)&&this.element.contentProp.filter(VP).forEach(((e,t)=>{e.setMetaProperty("media-type",zw(t))})),t}},MA=class extends(kO(uP,XS)){constructor(e){super(e),this.element=new Bj,this.specPath=Dh(["document","objects","PathItem"]),this.canSupportSpecificationExtensions=!0,this.fieldPatternPredicate=e=>/{(?<expression>[^}]{1,2083})}/.test(String(e))}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(MP).forEach(((e,t)=>{e.setMetaProperty("runtime-expression",zw(t))})),t}},FA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new lO,this.specPath=Dh(["document","objects","Response"])}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return Gx(this.element.contentProp)&&this.element.contentProp.filter(VP).forEach(((e,t)=>{e.setMetaProperty("media-type",zw(t))})),Gx(this.element.headers)&&this.element.headers.filter(OP).forEach(((e,t)=>{e.setMetaProperty("header-name",zw(t))})),t}};class IA extends(kO(pP,XS)){constructor(e){super(e),this.element=new LS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Header"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","header")})),this.element.forEach(((e,t)=>{if(!OP(e))return;const r=zw(t);e.setMetaProperty("header-name",r)})),t}}class _A extends(kO(pP,XS)){constructor(e){super(e),this.element=new US,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Link"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","link")})),t}}class RA extends(kO(sP,uP)){specPathFixedFields;specPathPatternedFields;constructor({specPathFixedFields:e,specPathPatternedFields:t,...r}){super({...r}),this.specPathFixedFields=e,this.specPathPatternedFields=t}ObjectElement(e){const{specPath:t,ignoredFields:r}=this;try{this.specPath=this.specPathFixedFields;const t=this.retrieveFixedFields(this.specPath(e));this.ignoredFields=[...r,...md(e.keys(),t)],sP.prototype.ObjectElement.call(this,e),this.specPath=this.specPathPatternedFields,this.ignoredFields=t,uP.prototype.ObjectElement.call(this,e)}catch(e){throw this.specPath=t,e}return pw}}let DA=class extends(kO(RA,XS)){constructor(e){super(e),this.element=new uO,this.specPathFixedFields=Dh(["document","objects","Responses"]),this.canSupportSpecificationExtensions=!0,this.specPathPatternedFields=e=>QS(e)?["document","objects","Reference"]:["document","objects","Response"],this.fieldPatternPredicate=e=>new RegExp(`^(1XX|2XX|3XX|4XX|5XX|${em(100,600).join("|")})$`).test(String(e))}ObjectElement(e){const t=RA.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","response")})),this.element.filter(RP).forEach(((e,t)=>{const r=xw(t);this.fieldPatternPredicate(zw(r))&&e.setMetaProperty("http-status-code",r)})),t}};class qA extends(kO(vP,XS)){constructor(e){super(e),this.alternator=[{predicate:QS,specPath:["document","objects","Reference"]},{predicate:Tp,specPath:["document","objects","Response"]}]}ObjectElement(e){const t=vP.prototype.enter.call(this,e);return IP(this.element)?this.element.setMetaProperty("referenced-element","response"):RP(this.element)&&this.element.setMetaProperty("http-status-code","default"),t}}let NA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new sO,this.specPath=Dh(["document","objects","Operation"])}},LA=class extends(kO(ZS,XS)){constructor(e){super(e),this.element=new Px,this.element.classes.push("parameters")}ArrayElement(e){return e.forEach((e=>{const t=QS(e)?["document","objects","Reference"]:["document","objects","Parameter"],r=this.toRefractedElement(t,e);IP(r)&&r.setMetaProperty("referenced-element","parameter"),this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}};class BA extends(kO(pP,XS)){specPath;constructor(e){super(e),this.element=new FS,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","Callback"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","callback")})),t}}class UA extends(kO(ZS,XS)){constructor(e){super(e),this.element=new IS}ArrayElement(e){return e.forEach((e=>{const t=Gx(e)?["document","objects","SecurityRequirement"]:["value"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}}let VA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new iO,this.specPath=Dh(["document","objects","PathItem"])}ObjectElement(e){const t=sP.prototype.ObjectElement.call(this,e);return this.element.filter(TP).forEach(((e,t)=>{const r=xw(t);r.content=zw(r).toUpperCase(),e.setMetaProperty("http-method",r)})),Vx(this.element.$ref)&&this.element.classes.push("reference-element"),t}},zA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new cS,this.specPath=Dh(["document","objects","SecurityScheme"]),this.canSupportSpecificationExtensions=!0}},HA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new eO,this.specPath=Dh(["document","objects","OAuthFlows"]),this.canSupportSpecificationExtensions=!0}},JA=class extends(kO(sP,XS)){constructor(e){super(e),this.element=new Qj,this.specPath=Dh(["document","objects","OAuthFlow"]),this.canSupportSpecificationExtensions=!0}};class GA extends(kO(pP,XS)){constructor(e){super(e),this.element=new zS,this.specPath=Dh(["value"])}}class WA extends(kO(ZS,XS)){constructor(e){super(e),this.element=new yS}ArrayElement(e){return e.forEach((e=>{const t=tP(e)?["document","objects","Tag"]:["value"],r=this.toRefractedElement(t,e);this.element.push(r)})),this.copyMetaAndAttributes(e,this.element),pw}}const{fixedFields:KA}=ZO.visitors.document.objects.JSONSchema,YA={visitors:{value:XS,document:{objects:{OpenApi:{$visitor:nP,fixedFields:{openapi:iP,info:{$ref:"#/visitors/document/objects/Info"},servers:mP,paths:{$ref:"#/visitors/document/objects/Paths"},components:{$ref:"#/visitors/document/objects/Components"},security:YP,tags:WA,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:oP,fixedFields:{title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},termsOfService:{$ref:"#/visitors/value"},contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("api-version"),this.element.classes.push("version"),t}}}},Contact:{$visitor:aP,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"},email:{$ref:"#/visitors/value"}}},License:{$visitor:cP,fixedFields:{name:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Server:{$visitor:dP,fixedFields:{url:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("server-url"),t}},description:{$ref:"#/visitors/value"},variables:yP}},ServerVariable:{$visitor:fP,fixedFields:{enum:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Components:{$visitor:XP,fixedFields:{schemas:gA,responses:vA,parameters:bA,examples:xA,requestBodies:wA,headers:EA,securitySchemes:jA,links:OA,callbacks:SA}},Paths:{$visitor:TA},PathItem:{$visitor:VA,fixedFields:{$ref:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:class extends mP{constructor(e){super(e),this.element=new AS}},parameters:class extends LA{constructor(e){super(e),this.element=new $S}}}},Operation:{$visitor:NA,fixedFields:{tags:class extends XS{constructor(e){super(e),this.element=new MS}ArrayElement(e){return this.element=this.element.concat(xw(e)),pw}},summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:{$ref:"#/visitors/value"},parameters:class extends LA{constructor(e){super(e),this.element=new kS}},requestBody:class extends vP{constructor(e){super(e),this.alternator=[{predicate:QS,specPath:["document","objects","Reference"]},{predicate:Tp,specPath:["document","objects","RequestBody"]}]}ObjectElement(e){const t=vP.prototype.enter.call(this,e);return IP(this.element)&&this.element.setMetaProperty("referenced-element","requestBody"),t}},responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:BA,deprecated:{$ref:"#/visitors/value"},security:UA,servers:class extends mP{constructor(e){super(e),this.element=new _S}}}},ExternalDocumentation:{$visitor:AA,fixedFields:{description:{$ref:"#/visitors/value"},url:{$ref:"#/visitors/value"}}},Parameter:{$visitor:eA,fixedFields:{name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:tA,example:{$ref:"#/visitors/value"},examples:class extends GP{constructor(e){super(e),this.element=new TS}},content:class extends nA{constructor(e){super(e),this.element=new CS}}}},RequestBody:{$visitor:CA,fixedFields:{description:{$ref:"#/visitors/value"},content:class extends nA{constructor(e){super(e),this.element=new RS}},required:{$ref:"#/visitors/value"}}},MediaType:{$visitor:gP,fixedFields:{schema:JP,example:{$ref:"#/visitors/value"},examples:class extends GP{constructor(e){super(e),this.element=new DS}},encoding:WP}},Encoding:{$visitor:$A,fixedFields:{contentType:{$ref:"#/visitors/value"},headers:kA,style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"}}},Responses:{$visitor:DA,fixedFields:{default:qA}},Response:{$visitor:FA,fixedFields:{description:{$ref:"#/visitors/value"},headers:IA,content:class extends nA{constructor(e){super(e),this.element=new BS}},links:_A}},Callback:{$visitor:MA},Example:{$visitor:PA,fixedFields:{summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},value:{$ref:"#/visitors/value"},externalValue:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}}},Link:{$visitor:lP,fixedFields:{operationRef:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}},operationId:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}},parameters:hP,requestBody:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:rA,fixedFields:{description:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},allowEmptyValue:{$ref:"#/visitors/value"},style:{$ref:"#/visitors/value"},explode:{$ref:"#/visitors/value"},allowReserved:{$ref:"#/visitors/value"},schema:sA,example:{$ref:"#/visitors/value"},examples:class extends GP{constructor(e){super(e),this.element=new JS}},content:class extends nA{constructor(e){super(e),this.element=new GS}}}},Tag:{$visitor:ZP,fixedFields:{name:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:QP,fixedFields:{$ref:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}}}},JSONSchema:{$ref:"#/visitors/document/objects/Schema"},JSONReference:{$ref:"#/visitors/document/objects/Reference"},Schema:{$visitor:iA,fixedFields:{title:KA.title,multipleOf:KA.multipleOf,maximum:KA.maximum,exclusiveMaximum:KA.exclusiveMaximum,minimum:KA.minimum,exclusiveMinimum:KA.exclusiveMinimum,maxLength:KA.maxLength,minLength:KA.minLength,pattern:KA.pattern,maxItems:KA.maxItems,minItems:KA.minItems,uniqueItems:KA.uniqueItems,maxProperties:KA.maxProperties,minProperties:KA.minProperties,required:KA.required,enum:KA.enum,type:class extends pA{ArrayElement(e){return this.enter(e)}},allOf:class extends oA{ArrayElement(e){const t=oA.prototype.ArrayElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","schema")})),t}},anyOf:class extends aA{ArrayElement(e){const t=aA.prototype.ArrayElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","schema")})),t}},oneOf:class extends cA{ArrayElement(e){const t=cA.prototype.ArrayElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","schema")})),t}},not:dA,items:class extends lA{ObjectElement(e){const t=lA.prototype.ObjectElement.call(this,e);return IP(this.element)&&this.element.setMetaProperty("referenced-element","schema"),t}ArrayElement(e){return this.enter(e)}},properties:class extends uA{ObjectElement(e){const t=uA.prototype.ObjectElement.call(this,e);return this.element.filter(IP).forEach((e=>{e.setMetaProperty("referenced-element","schema")})),t}},additionalProperties:dA,description:KA.description,format:KA.format,default:KA.default,nullable:{$ref:"#/visitors/value"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},writeOnly:{$ref:"#/visitors/value"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:mA,fixedFields:{propertyName:{$ref:"#/visitors/value"},mapping:fA}},XML:{$visitor:yA,fixedFields:{name:{$ref:"#/visitors/value"},namespace:{$ref:"#/visitors/value"},prefix:{$ref:"#/visitors/value"},attribute:{$ref:"#/visitors/value"},wrapped:{$ref:"#/visitors/value"}}},SecurityScheme:{$visitor:zA,fixedFields:{type:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},name:{$ref:"#/visitors/value"},in:{$ref:"#/visitors/value"},scheme:{$ref:"#/visitors/value"},bearerFormat:{$ref:"#/visitors/value"},flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:{$ref:"#/visitors/value"}}},OAuthFlows:{$visitor:HA,fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:JA,fixedFields:{authorizationUrl:{$ref:"#/visitors/value"},tokenUrl:{$ref:"#/visitors/value"},refreshUrl:{$ref:"#/visitors/value"},scopes:GA}},SecurityRequirement:{$visitor:KP}},extension:{$visitor:class extends ZS{MemberElement(e){return this.element=xw(e),this.element.classes.push("specification-extension"),pw}}}}}},XA=()=>{const e=cw(dS);return{predicates:{...HP,isElement:Ux,isStringElement:Vx,isArrayElement:Wx,isObjectElement:Gx,isMemberElement:Kx,includesClasses:nw,hasElementSourceMap:sw},namespace:e}},ZA=e=>(t,r={})=>((e,{specPath:t=["visitors","document","objects","OpenApi","$visitor"],plugins:r=[]}={})=>{const s=Cx(e),n=Gw(YA),i=new(Gd(t,n))({specObj:n});return kw(s,i),Cw(i.element,r,{toolboxCreator:XA,visitorOptions:{keyMap:KS,nodeTypeGetter:WS}})})(t,{specPath:e,...r});Bj.refract=ZA(["visitors","document","objects","Callback","$visitor"]),Uj.refract=ZA(["visitors","document","objects","Components","$visitor"]),Vj.refract=ZA(["visitors","document","objects","Contact","$visitor"]),Jj.refract=ZA(["visitors","document","objects","Example","$visitor"]),zj.refract=ZA(["visitors","document","objects","Discriminator","$visitor"]),Hj.refract=ZA(["visitors","document","objects","Encoding","$visitor"]),Gj.refract=ZA(["visitors","document","objects","ExternalDocumentation","$visitor"]),Wj.refract=ZA(["visitors","document","objects","Header","$visitor"]),Kj.refract=ZA(["visitors","document","objects","Info","$visitor"]),Yj.refract=ZA(["visitors","document","objects","License","$visitor"]),Xj.refract=ZA(["visitors","document","objects","Link","$visitor"]),Zj.refract=ZA(["visitors","document","objects","MediaType","$visitor"]),Qj.refract=ZA(["visitors","document","objects","OAuthFlow","$visitor"]),eO.refract=ZA(["visitors","document","objects","OAuthFlows","$visitor"]),tO.refract=ZA(["visitors","document","objects","OpenApi","fixedFields","openapi"]),rO.refract=ZA(["visitors","document","objects","OpenApi","$visitor"]),sO.refract=ZA(["visitors","document","objects","Operation","$visitor"]),nO.refract=ZA(["visitors","document","objects","Parameter","$visitor"]),iO.refract=ZA(["visitors","document","objects","PathItem","$visitor"]),oO.refract=ZA(["visitors","document","objects","Paths","$visitor"]),aO.refract=ZA(["visitors","document","objects","Reference","$visitor"]),cO.refract=ZA(["visitors","document","objects","RequestBody","$visitor"]),lO.refract=ZA(["visitors","document","objects","Response","$visitor"]),uO.refract=ZA(["visitors","document","objects","Responses","$visitor"]),oS.refract=ZA(["visitors","document","objects","Schema","$visitor"]),aS.refract=ZA(["visitors","document","objects","SecurityRequirement","$visitor"]),cS.refract=ZA(["visitors","document","objects","SecurityScheme","$visitor"]),lS.refract=ZA(["visitors","document","objects","Server","$visitor"]),uS.refract=ZA(["visitors","document","objects","ServerVariable","$visitor"]),pS.refract=ZA(["visitors","document","objects","Tag","$visitor"]),hS.refract=ZA(["visitors","document","objects","XML","$visitor"]);class QA extends Bj{}class e$ extends Uj{get pathItems(){return this.get("pathItems")}set pathItems(e){this.set("pathItems",e)}}class t$ extends Vj{}class r$ extends zj{}class s$ extends Hj{}class n$ extends Jj{}class i$ extends Gj{}class o$ extends Wj{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class a$ extends Kj{get license(){return this.get("license")}set license(e){this.set("license",e)}get summary(){return this.get("summary")}set summary(e){this.set("summary",e)}}class c$ extends Ex{static default=new c$("https://spec.openapis.org/oas/3.1/dialect/base");constructor(e,t,r){super(e,t,r),this.element="jsonSchemaDialect"}}class l$ extends Yj{get identifier(){return this.get("identifier")}set identifier(e){this.set("identifier",e)}}class u$ extends Xj{}class p$ extends Zj{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class h$ extends Qj{}class d$ extends eO{}class m$ extends tO{}class f$ extends Ax{constructor(e,t,r){super(e,t,r),this.element="openApi3_1",this.classes.push("api")}get openapi(){return this.get("openapi")}set openapi(e){this.set("openapi",e)}get info(){return this.get("info")}set info(e){this.set("info",e)}get jsonSchemaDialect(){return this.get("jsonSchemaDialect")}set jsonSchemaDialect(e){this.set("jsonSchemaDialect",e)}get servers(){return this.get("servers")}set servers(e){this.set("servers",e)}get paths(){return this.get("paths")}set paths(e){this.set("paths",e)}get components(){return this.get("components")}set components(e){this.set("components",e)}get security(){return this.get("security")}set security(e){this.set("security",e)}get tags(){return this.get("tags")}set tags(e){this.set("tags",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get webhooks(){return this.get("webhooks")}set webhooks(e){this.set("webhooks",e)}}class y$ extends sO{get requestBody(){return this.get("requestBody")}set requestBody(e){this.set("requestBody",e)}}class g$ extends nO{get schema(){return this.get("schema")}set schema(e){this.set("schema",e)}}class v$ extends iO{get GET(){return this.get("get")}set GET(e){this.set("GET",e)}get PUT(){return this.get("put")}set PUT(e){this.set("PUT",e)}get POST(){return this.get("post")}set POST(e){this.set("POST",e)}get DELETE(){return this.get("delete")}set DELETE(e){this.set("DELETE",e)}get OPTIONS(){return this.get("options")}set OPTIONS(e){this.set("OPTIONS",e)}get HEAD(){return this.get("head")}set HEAD(e){this.set("HEAD",e)}get PATCH(){return this.get("patch")}set PATCH(e){this.set("PATCH",e)}get TRACE(){return this.get("trace")}set TRACE(e){this.set("TRACE",e)}}class b$ extends oO{}class x$ extends aO{}Object.defineProperty(x$.prototype,"description",{get(){return this.get("description")},set(e){this.set("description",e)},enumerable:!0}),Object.defineProperty(x$.prototype,"summary",{get(){return this.get("summary")},set(e){this.set("summary",e)},enumerable:!0});class w$ extends cO{}let E$=class extends lO{};class j$ extends uO{}class O$ extends Ax{constructor(e,t,r){super(e,t,r),this.element="schema"}get $schema(){return this.get("$schema")}set $schema(e){this.set("$schema",e)}get $vocabulary(){return this.get("$vocabulary")}set $vocabulary(e){this.set("$vocabulary",e)}get $id(){return this.get("$id")}set $id(e){this.set("$id",e)}get $anchor(){return this.get("$anchor")}set $anchor(e){this.set("$anchor",e)}get $dynamicAnchor(){return this.get("$dynamicAnchor")}set $dynamicAnchor(e){this.set("$dynamicAnchor",e)}get $dynamicRef(){return this.get("$dynamicRef")}set $dynamicRef(e){this.set("$dynamicRef",e)}get $ref(){return this.get("$ref")}set $ref(e){this.set("$ref",e)}get $defs(){return this.get("$defs")}set $defs(e){this.set("$defs",e)}get $comment(){return this.get("$comment")}set $comment(e){this.set("$comment",e)}get allOf(){return this.get("allOf")}set allOf(e){this.set("allOf",e)}get anyOf(){return this.get("anyOf")}set anyOf(e){this.set("anyOf",e)}get oneOf(){return this.get("oneOf")}set oneOf(e){this.set("oneOf",e)}get not(){return this.get("not")}set not(e){this.set("not",e)}get if(){return this.get("if")}set if(e){this.set("if",e)}get then(){return this.get("then")}set then(e){this.set("then",e)}get else(){return this.get("else")}set else(e){this.set("else",e)}get dependentSchemas(){return this.get("dependentSchemas")}set dependentSchemas(e){this.set("dependentSchemas",e)}get prefixItems(){return this.get("prefixItems")}set prefixItems(e){this.set("prefixItems",e)}get items(){return this.get("items")}set items(e){this.set("items",e)}get containsProp(){return this.get("contains")}set containsProp(e){this.set("contains",e)}get properties(){return this.get("properties")}set properties(e){this.set("properties",e)}get patternProperties(){return this.get("patternProperties")}set patternProperties(e){this.set("patternProperties",e)}get additionalProperties(){return this.get("additionalProperties")}set additionalProperties(e){this.set("additionalProperties",e)}get propertyNames(){return this.get("propertyNames")}set propertyNames(e){this.set("propertyNames",e)}get unevaluatedItems(){return this.get("unevaluatedItems")}set unevaluatedItems(e){this.set("unevaluatedItems",e)}get unevaluatedProperties(){return this.get("unevaluatedProperties")}set unevaluatedProperties(e){this.set("unevaluatedProperties",e)}get type(){return this.get("type")}set type(e){this.set("type",e)}get enum(){return this.get("enum")}set enum(e){this.set("enum",e)}get const(){return this.get("const")}set const(e){this.set("const",e)}get multipleOf(){return this.get("multipleOf")}set multipleOf(e){this.set("multipleOf",e)}get maximum(){return this.get("maximum")}set maximum(e){this.set("maximum",e)}get exclusiveMaximum(){return this.get("exclusiveMaximum")}set exclusiveMaximum(e){this.set("exclusiveMaximum",e)}get minimum(){return this.get("minimum")}set minimum(e){this.set("minimum",e)}get exclusiveMinimum(){return this.get("exclusiveMinimum")}set exclusiveMinimum(e){this.set("exclusiveMinimum",e)}get maxLength(){return this.get("maxLength")}set maxLength(e){this.set("maxLength",e)}get minLength(){return this.get("minLength")}set minLength(e){this.set("minLength",e)}get pattern(){return this.get("pattern")}set pattern(e){this.set("pattern",e)}get maxItems(){return this.get("maxItems")}set maxItems(e){this.set("maxItems",e)}get minItems(){return this.get("minItems")}set minItems(e){this.set("minItems",e)}get uniqueItems(){return this.get("uniqueItems")}set uniqueItems(e){this.set("uniqueItems",e)}get maxContains(){return this.get("maxContains")}set maxContains(e){this.set("maxContains",e)}get minContains(){return this.get("minContains")}set minContains(e){this.set("minContains",e)}get maxProperties(){return this.get("maxProperties")}set maxProperties(e){this.set("maxProperties",e)}get minProperties(){return this.get("minProperties")}set minProperties(e){this.set("minProperties",e)}get required(){return this.get("required")}set required(e){this.set("required",e)}get dependentRequired(){return this.get("dependentRequired")}set dependentRequired(e){this.set("dependentRequired",e)}get title(){return this.get("title")}set title(e){this.set("title",e)}get description(){return this.get("description")}set description(e){this.set("description",e)}get default(){return this.get("default")}set default(e){this.set("default",e)}get deprecated(){return this.get("deprecated")}set deprecated(e){this.set("deprecated",e)}get readOnly(){return this.get("readOnly")}set readOnly(e){this.set("readOnly",e)}get writeOnly(){return this.get("writeOnly")}set writeOnly(e){this.set("writeOnly",e)}get examples(){return this.get("examples")}set examples(e){this.set("examples",e)}get format(){return this.get("format")}set format(e){this.set("format",e)}get contentEncoding(){return this.get("contentEncoding")}set contentEncoding(e){this.set("contentEncoding",e)}get contentMediaType(){return this.get("contentMediaType")}set contentMediaType(e){this.set("contentMediaType",e)}get contentSchema(){return this.get("contentSchema")}set contentSchema(e){this.set("contentSchema",e)}get discriminator(){return this.get("discriminator")}set discriminator(e){this.set("discriminator",e)}get xml(){return this.get("xml")}set xml(e){this.set("xml",e)}get externalDocs(){return this.get("externalDocs")}set externalDocs(e){this.set("externalDocs",e)}get example(){return this.get("example")}set example(e){this.set("example",e)}}class S$ extends aS{}class P$ extends cS{}class A$ extends lS{}class $$ extends uS{}class k$ extends pS{}class T$ extends hS{}const C$={namespace:e=>{const{base:t}=e;return t.register("callback",QA),t.register("components",e$),t.register("contact",t$),t.register("discriminator",r$),t.register("encoding",s$),t.register("example",n$),t.register("externalDocumentation",i$),t.register("header",o$),t.register("info",a$),t.register("jsonSchemaDialect",c$),t.register("license",l$),t.register("link",u$),t.register("mediaType",p$),t.register("oAuthFlow",h$),t.register("oAuthFlows",d$),t.register("openapi",m$),t.register("openApi3_1",f$),t.register("operation",y$),t.register("parameter",g$),t.register("pathItem",v$),t.register("paths",b$),t.register("reference",x$),t.register("requestBody",w$),t.register("response",E$),t.register("responses",j$),t.register("schema",O$),t.register("securityRequirement",S$),t.register("securityScheme",P$),t.register("server",A$),t.register("serverVariable",$$),t.register("tag",k$),t.register("xml",T$),t}};class M$ extends Ax{static primaryClass="components-path-items";constructor(e,t,r){super(e,t,r),this.classes.push(M$.primaryClass)}}class F$ extends Ax{static primaryClass="webhooks";constructor(e,t,r){super(e,t,r),this.classes.push(F$.primaryClass)}}const I$=e=>{if(Ux(e))return`${e.element.charAt(0).toUpperCase()+e.element.slice(1)}Element`},_$={CallbackElement:["content"],ComponentsElement:["content"],ContactElement:["content"],DiscriminatorElement:["content"],Encoding:["content"],Example:["content"],ExternalDocumentationElement:["content"],HeaderElement:["content"],InfoElement:["content"],LicenseElement:["content"],MediaTypeElement:["content"],OAuthFlowElement:["content"],OAuthFlowsElement:["content"],OpenApi3_1Element:["content"],OperationElement:["content"],ParameterElement:["content"],PathItemElement:["content"],PathsElement:["content"],ReferenceElement:["content"],RequestBodyElement:["content"],ResponseElement:["content"],ResponsesElement:["content"],SchemaElement:["content"],SecurityRequirementElement:["content"],SecuritySchemeElement:["content"],ServerElement:["content"],ServerVariableElement:["content"],TagElement:["content"],...Aw};class R${internalStore;constructor(e,t,r){this.storageElement=e,this.storageField=t,this.storageSubField=r}get store(){if(!this.internalStore){let e=this.storageElement.get(this.storageField);Gx(e)||(e=new Ax,this.storageElement.set(this.storageField,e));let t=e.get(this.storageSubField);Wx(t)||(t=new Px,e.set(this.storageSubField,t)),this.internalStore=t}return this.internalStore}append(e){this.includes(e)||this.store.push(e)}includes(e){return this.store.includes(e)}}const D$=({storageField:e="x-normalized"}={})=>t=>{const{predicates:r,ancestorLineageToJSONPointer:s}=t,n=(e,t)=>!!(r.isParameterElement(e)&&r.isParameterElement(t)&&r.isStringElement(e.name)&&r.isStringElement(e.in)&&r.isStringElement(t.name)&&r.isStringElement(t.in)&&zw(e.name)===zw(t.name)&&zw(e.in)===zw(t.in)),i=[];let o;return{visitor:{OpenApi3_1Element:{enter(t){o=new R$(t,e,"parameters")},leave(){o=void 0}},PathItemElement:{enter(e,t,s,n,o){if(o.some(r.isComponentsElement))return;const{parameters:a}=e;r.isArrayElement(a)?i.push([...a.content]):i.push([])},leave(){i.pop()}},OperationElement:{leave(e,t,r,a,c){const l=bd(i);if(!Array.isArray(l)||0===l.length)return;const u=s([...c,r,e]);if(o.includes(u))return;const p=Wd([],["parameters","content"],e),h=cm(n,[...p,...l]);e.parameters=new kS(h),o.append(u)}}}}},q$=({storageField:e="x-normalized"}={})=>t=>{const{predicates:r,ancestorLineageToJSONPointer:s}=t;let n,i;return{visitor:{OpenApi3_1Element:{enter(t){i=new R$(t,e,"security-requirements"),r.isArrayElement(t.security)&&(n=t.security)},leave(){i=void 0,n=void 0}},OperationElement:{leave(e,t,o,a,c){if(c.some(r.isComponentsElement))return;const l=s([...c,o,e]);var u;i.includes(l)||void 0===e.security&&void 0!==n&&(e.security=new IS(null===(u=n)||void 0===u?void 0:u.content),i.append(l))}}}}},N$=e=>e.replace(/\s/g,""),L$=e=>e.replace(/\W/gi,"_"),B$=(e,t,r)=>{const s=N$(e);return s.length>0?L$(s):((e,t)=>`${L$(N$(t.toLowerCase()))}${L$(N$(e))}`)(t,r)},U$=({storageField:e="x-normalized",operationIdNormalizer:t=B$}={})=>r=>{const{predicates:s,ancestorLineageToJSONPointer:n,namespace:i}=r,o=[],a=[],c=[];let l;return{visitor:{OpenApi3_1Element:{enter(t){l=new R$(t,e,"operation-ids")},leave(){const e=Pd((e=>zw(e.operationId)),a);Object.entries(e).forEach((([e,t])=>{Array.isArray(t)&&(t.length<=1||t.forEach(((t,r)=>{const s=`${e}${r+1}`;t.operationId=new i.elements.String(s)})))})),c.forEach((e=>{if(void 0===e.operationId)return;const t=String(zw(e.operationId)),r=a.find((e=>zw(e.meta.get("originalOperationId"))===t));void 0!==r&&(e.operationId=xw.safe(r.operationId),e.meta.set("originalOperationId",t),e.set("__originalOperationId",t))})),a.length=0,c.length=0,l=void 0}},PathItemElement:{enter(e){const t=pd("path",zw(e.meta.get("path")));o.push(t)},leave(){o.pop()}},OperationElement:{enter(e,r,s,c,u){if(void 0===e.operationId)return;const p=n([...u,s,e]);if(l.includes(p))return;const h=String(zw(e.operationId)),d=bd(o),m=pd("method",zw(e.meta.get("http-method"))),f=t(h,d,m);h!==f&&(e.operationId=new i.elements.String(f),e.set("__originalOperationId",h),e.meta.set("originalOperationId",h),a.push(e),l.append(p))}},LinkElement:{leave(e){s.isLinkElement(e)&&void 0!==e.operationId&&c.push(e)}}}}},V$=({storageField:e="x-normalized"}={})=>t=>{const{predicates:r,ancestorLineageToJSONPointer:s}=t;let n;return{visitor:{OpenApi3_1Element:{enter(t){n=new R$(t,e,"parameter-examples")},leave(){n=void 0}},ParameterElement:{leave(e,t,i,o,a){var c,l;if(a.some(r.isComponentsElement))return;if(void 0===e.schema||!r.isSchemaElement(e.schema))return;if(void 0===(null===(c=e.schema)||void 0===c?void 0:c.example)&&void 0===(null===(l=e.schema)||void 0===l?void 0:l.examples))return;const u=s([...a,i,e]);if(!n.includes(u)){if(void 0!==e.examples&&r.isObjectElement(e.examples)){const t=e.examples.map((e=>xw.safe(e.value)));return void 0!==e.schema.examples&&(e.schema.set("examples",t),n.append(u)),void(void 0!==e.schema.example&&(e.schema.set("example",t[0]),n.append(u)))}void 0!==e.example&&(void 0!==e.schema.examples&&(e.schema.set("examples",[xw(e.example)]),n.append(u)),void 0!==e.schema.example&&(e.schema.set("example",xw(e.example)),n.append(u)))}}}}}},z$=({storageField:e="x-normalized"}={})=>t=>{const{predicates:r,ancestorLineageToJSONPointer:s}=t;let n;return{visitor:{OpenApi3_1Element:{enter(t){n=new R$(t,e,"header-examples")},leave(){n=void 0}},HeaderElement:{leave(e,t,i,o,a){var c,l;if(a.some(r.isComponentsElement))return;if(void 0===e.schema||!r.isSchemaElement(e.schema))return;if(void 0===(null===(c=e.schema)||void 0===c?void 0:c.example)&&void 0===(null===(l=e.schema)||void 0===l?void 0:l.examples))return;const u=s([...a,i,e]);if(!n.includes(u)){if(void 0!==e.examples&&r.isObjectElement(e.examples)){const t=e.examples.map((e=>xw.safe(e.value)));return void 0!==e.schema.examples&&(e.schema.set("examples",t),n.append(u)),void(void 0!==e.schema.example&&(e.schema.set("example",t[0]),n.append(u)))}void 0!==e.example&&(void 0!==e.schema.examples&&(e.schema.set("examples",[xw(e.example)]),n.append(u)),void 0!==e.schema.example&&(e.schema.set("example",xw(e.example)),n.append(u)))}}}}}},H$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof QA||e(s)&&t("callback",s)&&r("object",s))),J$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof e$||e(s)&&t("components",s)&&r("object",s))),G$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof t$||e(s)&&t("contact",s)&&r("object",s))),W$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof n$||e(s)&&t("example",s)&&r("object",s))),K$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof i$||e(s)&&t("externalDocumentation",s)&&r("object",s))),Y$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof o$||e(s)&&t("header",s)&&r("object",s))),X$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof a$||e(s)&&t("info",s)&&r("object",s))),Z$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof c$||e(s)&&t("jsonSchemaDialect",s)&&r("string",s))),Q$=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof l$||e(s)&&t("license",s)&&r("object",s))),ek=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof u$||e(s)&&t("link",s)&&r("object",s))),tk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof m$||e(s)&&t("openapi",s)&&r("string",s))),rk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r,hasClass:s})=>n=>n instanceof f$||e(n)&&t("openApi3_1",n)&&r("object",n)&&s("api",n))),sk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof y$||e(s)&&t("operation",s)&&r("object",s))),nk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof g$||e(s)&&t("parameter",s)&&r("object",s))),ik=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof v$||e(s)&&t("pathItem",s)&&r("object",s))),ok=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof b$||e(s)&&t("paths",s)&&r("object",s))),ak=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof x$||e(s)&&t("reference",s)&&r("object",s))),ck=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof w$||e(s)&&t("requestBody",s)&&r("object",s))),lk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof E$||e(s)&&t("response",s)&&r("object",s))),uk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof j$||e(s)&&t("responses",s)&&r("object",s))),pk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof O$||e(s)&&t("schema",s)&&r("object",s))),hk=e=>Jx(e)&&e.classes.includes("boolean-json-schema"),dk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof S$||e(s)&&t("securityRequirement",s)&&r("object",s))),mk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof P$||e(s)&&t("securityScheme",s)&&r("object",s))),fk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof A$||e(s)&&t("server",s)&&r("object",s))),yk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof $$||e(s)&&t("serverVariable",s)&&r("object",s))),gk=Bx((({hasBasicElementProps:e,isElementType:t,primitiveEq:r})=>s=>s instanceof p$||e(s)&&t("mediaType",s)&&r("object",s))),vk=Object.freeze(Object.defineProperty({__proto__:null,isBooleanJsonSchemaElement:hk,isCallbackElement:H$,isComponentsElement:J$,isContactElement:G$,isExampleElement:W$,isExternalDocumentationElement:K$,isHeaderElement:Y$,isInfoElement:X$,isJsonSchemaDialectElement:Z$,isLicenseElement:Q$,isLinkElement:ek,isMediaTypeElement:gk,isOpenApi3_1Element:rk,isOpenapiElement:tk,isOperationElement:sk,isParameterElement:nk,isPathItemElement:ik,isPathItemElementExternal:e=>{if(!ik(e))return!1;if(!Vx(e.$ref))return!1;const t=zw(e.$ref);return"string"==typeof t&&t.length>0&&!t.startsWith("#")},isPathsElement:ok,isReferenceElement:ak,isReferenceElementExternal:e=>{if(!ak(e))return!1;if(!Vx(e.$ref))return!1;const t=zw(e.$ref);return"string"==typeof t&&t.length>0&&!t.startsWith("#")},isRequestBodyElement:ck,isResponseElement:lk,isResponsesElement:uk,isSchemaElement:pk,isSecurityRequirementElement:dk,isSecuritySchemeElement:mk,isServerElement:fk,isServerVariableElement:yk},Symbol.toStringTag,{value:"Module"})),bk=e=>{const t=e.reduce(((t,r,s)=>{if(Kx(r)){const e=String(zw(r.key));t.push(e)}else if(Wx(e[s-2])){const n=String(e[s-2].content.indexOf(r));t.push(n)}return t}),[]);return Dj(t)},xk=()=>{const e=cw(C$);return{predicates:{...vk,isElement:Ux,isStringElement:Vx,isArrayElement:Wx,isObjectElement:Gx,isMemberElement:Kx,isServersElement:zP,includesClasses:nw,hasElementSourceMap:sw},ancestorLineageToJSONPointer:bk,namespace:e}};class wk extends(kO(sP,XS)){constructor(e){super(e),this.element=new f$,this.specPath=Dh(["document","objects","OpenApi"]),this.canSupportSpecificationExtensions=!0,this.openApiSemanticElement=this.element}ObjectElement(e){return this.openApiGenericElement=e,sP.prototype.ObjectElement.call(this,e)}}const{visitors:{document:{objects:{Info:{$visitor:Ek}}}}}=YA,{visitors:{document:{objects:{Contact:{$visitor:jk}}}}}=YA,{visitors:{document:{objects:{License:{$visitor:Ok}}}}}=YA,{visitors:{document:{objects:{Link:{$visitor:Sk}}}}}=YA;class Pk extends(kO(ZS,XS)){StringElement(e){const t=new c$(zw(e));return this.copyMetaAndAttributes(e,t),this.element=t,pw}}const{visitors:{document:{objects:{Server:{$visitor:Ak}}}}}=YA,{visitors:{document:{objects:{ServerVariable:{$visitor:$k}}}}}=YA,{visitors:{document:{objects:{MediaType:{$visitor:kk}}}}}=YA,{visitors:{document:{objects:{SecurityRequirement:{$visitor:Tk}}}}}=YA,{visitors:{document:{objects:{Components:{$visitor:Ck}}}}}=YA,{visitors:{document:{objects:{Tag:{$visitor:Mk}}}}}=YA,{visitors:{document:{objects:{Reference:{$visitor:Fk}}}}}=YA,{visitors:{document:{objects:{Parameter:{$visitor:Ik}}}}}=YA,{visitors:{document:{objects:{Header:{$visitor:_k}}}}}=YA;class Rk{parent;constructor({parent:e}){this.parent=e}}class Dk extends(kO(sP,Rk,XS)){constructor(e){super(e),this.element=new O$,this.specPath=Dh(["document","objects","Schema"]),this.canSupportSpecificationExtensions=!0,this.jsonSchemaDefaultDialect=c$.default,this.passingOptionsNames.push("parent")}ObjectElement(e){this.handle$schema(e),this.handle$id(e),this.parent=this.element;const t=sP.prototype.ObjectElement.call(this,e);return Vx(this.element.$ref)&&(this.element.classes.push("reference-element"),this.element.setMetaProperty("referenced-element","schema")),t}BooleanElement(e){const t=super.enter(e);return this.element.classes.push("boolean-json-schema"),t}getJsonSchemaDialect(){let e;return e=void 0!==this.openApiSemanticElement&&Z$(this.openApiSemanticElement.jsonSchemaDialect)?zw(this.openApiSemanticElement.jsonSchemaDialect):void 0!==this.openApiGenericElement&&Vx(this.openApiGenericElement.get("jsonSchemaDialect"))?zw(this.openApiGenericElement.get("jsonSchemaDialect")):zw(this.jsonSchemaDefaultDialect),e}handle$schema(e){if(pm(this.parent)&&!Vx(e.get("$schema")))this.element.setMetaProperty("inherited$schema",this.getJsonSchemaDialect());else if(pk(this.parent)&&!Vx(e.get("$schema"))){const e=pd(zw(this.parent.meta.get("inherited$schema")),zw(this.parent.$schema));this.element.setMetaProperty("inherited$schema",e)}}handle$id(e){const t=void 0!==this.parent?xw(this.parent.getMetaProperty("inherited$id",[])):new Px,r=zw(e.get("$id"));Am(r)&&t.push(r),this.element.setMetaProperty("inherited$id",t)}}class qk extends(kO(pP,Rk,XS)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-$defs"),this.specPath=Dh(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}let Nk=class extends(kO(ZS,Rk,XS)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-allOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach((e=>{if(Gx(e)){const t=this.toRefractedElement(["document","objects","Schema"],e);this.element.push(t)}else{const t=xw(e);this.element.push(t)}})),this.copyMetaAndAttributes(e,this.element),pw}};class Lk extends(kO(ZS,Rk,XS)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-anyOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach((e=>{if(Gx(e)){const t=this.toRefractedElement(["document","objects","Schema"],e);this.element.push(t)}else{const t=xw(e);this.element.push(t)}})),this.copyMetaAndAttributes(e,this.element),pw}}class Bk extends(kO(ZS,Rk,XS)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-oneOf"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach((e=>{if(Gx(e)){const t=this.toRefractedElement(["document","objects","Schema"],e);this.element.push(t)}else{const t=xw(e);this.element.push(t)}})),this.copyMetaAndAttributes(e,this.element),pw}}class Uk extends(kO(pP,Rk,XS)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-dependentSchemas"),this.specPath=Dh(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class Vk extends(kO(ZS,Rk,XS)){constructor(e){super(e),this.element=new Px,this.element.classes.push("json-schema-prefixItems"),this.passingOptionsNames.push("parent")}ArrayElement(e){return e.forEach((e=>{if(Gx(e)){const t=this.toRefractedElement(["document","objects","Schema"],e);this.element.push(t)}else{const t=xw(e);this.element.push(t)}})),this.copyMetaAndAttributes(e,this.element),pw}}class zk extends(kO(pP,Rk,XS)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-properties"),this.specPath=Dh(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}class Hk extends(kO(pP,Rk,XS)){constructor(e){super(e),this.element=new Ax,this.element.classes.push("json-schema-patternProperties"),this.specPath=Dh(["document","objects","Schema"]),this.passingOptionsNames.push("parent")}}const{visitors:{document:{objects:{Discriminator:{$visitor:Jk}}}}}=YA,{visitors:{document:{objects:{XML:{$visitor:Gk}}}}}=YA;class Wk extends(kO(pP,XS)){constructor(e){super(e),this.element=new vS,this.specPath=Dh(["document","objects","Schema"])}}class Kk extends(kO(pP,XS)){constructor(e){super(e),this.element=new M$,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(ak).forEach((e=>{e.setMetaProperty("referenced-element","pathItem")})),t}}const{visitors:{document:{objects:{Example:{$visitor:Yk}}}}}=YA,{visitors:{document:{objects:{ExternalDocumentation:{$visitor:Xk}}}}}=YA,{visitors:{document:{objects:{Encoding:{$visitor:Zk}}}}}=YA,{visitors:{document:{objects:{Paths:{$visitor:Qk}}}}}=YA,{visitors:{document:{objects:{RequestBody:{$visitor:eT}}}}}=YA,{visitors:{document:{objects:{Callback:{$visitor:tT}}}}}=YA,{visitors:{document:{objects:{Response:{$visitor:rT}}}}}=YA,{visitors:{document:{objects:{Responses:{$visitor:sT}}}}}=YA,{visitors:{document:{objects:{Operation:{$visitor:nT}}}}}=YA,{visitors:{document:{objects:{PathItem:{$visitor:iT}}}}}=YA,{visitors:{document:{objects:{SecurityScheme:{$visitor:oT}}}}}=YA,{visitors:{document:{objects:{OAuthFlows:{$visitor:aT}}}}}=YA,{visitors:{document:{objects:{OAuthFlow:{$visitor:cT}}}}}=YA;class lT extends(kO(pP,XS)){constructor(e){super(e),this.element=new F$,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=pP.prototype.ObjectElement.call(this,e);return this.element.filter(ak).forEach((e=>{e.setMetaProperty("referenced-element","pathItem")})),this.element.filter(ik).forEach(((e,t)=>{e.setMetaProperty("webhook-name",zw(t))})),t}}const uT={visitors:{value:YA.visitors.value,document:{objects:{OpenApi:{$visitor:wk,fixedFields:{openapi:YA.visitors.document.objects.OpenApi.fixedFields.openapi,info:{$ref:"#/visitors/document/objects/Info"},jsonSchemaDialect:Pk,servers:YA.visitors.document.objects.OpenApi.fixedFields.servers,paths:{$ref:"#/visitors/document/objects/Paths"},webhooks:lT,components:{$ref:"#/visitors/document/objects/Components"},security:YA.visitors.document.objects.OpenApi.fixedFields.security,tags:YA.visitors.document.objects.OpenApi.fixedFields.tags,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Info:{$visitor:class extends Ek{constructor(e){super(e),this.element=new a$}},fixedFields:{title:YA.visitors.document.objects.Info.fixedFields.title,description:YA.visitors.document.objects.Info.fixedFields.description,summary:{$ref:"#/visitors/value"},termsOfService:YA.visitors.document.objects.Info.fixedFields.termsOfService,contact:{$ref:"#/visitors/document/objects/Contact"},license:{$ref:"#/visitors/document/objects/License"},version:YA.visitors.document.objects.Info.fixedFields.version}},Contact:{$visitor:class extends jk{constructor(e){super(e),this.element=new t$}},fixedFields:{name:YA.visitors.document.objects.Contact.fixedFields.name,url:YA.visitors.document.objects.Contact.fixedFields.url,email:YA.visitors.document.objects.Contact.fixedFields.email}},License:{$visitor:class extends Ok{constructor(e){super(e),this.element=new l$}},fixedFields:{name:YA.visitors.document.objects.License.fixedFields.name,identifier:{$ref:"#/visitors/value"},url:YA.visitors.document.objects.License.fixedFields.url}},Server:{$visitor:class extends Ak{constructor(e){super(e),this.element=new A$}},fixedFields:{url:YA.visitors.document.objects.Server.fixedFields.url,description:YA.visitors.document.objects.Server.fixedFields.description,variables:YA.visitors.document.objects.Server.fixedFields.variables}},ServerVariable:{$visitor:class extends $k{constructor(e){super(e),this.element=new $$}},fixedFields:{enum:YA.visitors.document.objects.ServerVariable.fixedFields.enum,default:YA.visitors.document.objects.ServerVariable.fixedFields.default,description:YA.visitors.document.objects.ServerVariable.fixedFields.description}},Components:{$visitor:class extends Ck{constructor(e){super(e),this.element=new e$}},fixedFields:{schemas:Wk,responses:YA.visitors.document.objects.Components.fixedFields.responses,parameters:YA.visitors.document.objects.Components.fixedFields.parameters,examples:YA.visitors.document.objects.Components.fixedFields.examples,requestBodies:YA.visitors.document.objects.Components.fixedFields.requestBodies,headers:YA.visitors.document.objects.Components.fixedFields.headers,securitySchemes:YA.visitors.document.objects.Components.fixedFields.securitySchemes,links:YA.visitors.document.objects.Components.fixedFields.links,callbacks:YA.visitors.document.objects.Components.fixedFields.callbacks,pathItems:Kk}},Paths:{$visitor:class extends Qk{constructor(e){super(e),this.element=new b$}}},PathItem:{$visitor:class extends iT{constructor(e){super(e),this.element=new v$}},fixedFields:{$ref:YA.visitors.document.objects.PathItem.fixedFields.$ref,summary:YA.visitors.document.objects.PathItem.fixedFields.summary,description:YA.visitors.document.objects.PathItem.fixedFields.description,get:{$ref:"#/visitors/document/objects/Operation"},put:{$ref:"#/visitors/document/objects/Operation"},post:{$ref:"#/visitors/document/objects/Operation"},delete:{$ref:"#/visitors/document/objects/Operation"},options:{$ref:"#/visitors/document/objects/Operation"},head:{$ref:"#/visitors/document/objects/Operation"},patch:{$ref:"#/visitors/document/objects/Operation"},trace:{$ref:"#/visitors/document/objects/Operation"},servers:YA.visitors.document.objects.PathItem.fixedFields.servers,parameters:YA.visitors.document.objects.PathItem.fixedFields.parameters}},Operation:{$visitor:class extends nT{constructor(e){super(e),this.element=new y$}},fixedFields:{tags:YA.visitors.document.objects.Operation.fixedFields.tags,summary:YA.visitors.document.objects.Operation.fixedFields.summary,description:YA.visitors.document.objects.Operation.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},operationId:YA.visitors.document.objects.Operation.fixedFields.operationId,parameters:YA.visitors.document.objects.Operation.fixedFields.parameters,requestBody:YA.visitors.document.objects.Operation.fixedFields.requestBody,responses:{$ref:"#/visitors/document/objects/Responses"},callbacks:YA.visitors.document.objects.Operation.fixedFields.callbacks,deprecated:YA.visitors.document.objects.Operation.fixedFields.deprecated,security:YA.visitors.document.objects.Operation.fixedFields.security,servers:YA.visitors.document.objects.Operation.fixedFields.servers}},ExternalDocumentation:{$visitor:class extends Xk{constructor(e){super(e),this.element=new i$}},fixedFields:{description:YA.visitors.document.objects.ExternalDocumentation.fixedFields.description,url:YA.visitors.document.objects.ExternalDocumentation.fixedFields.url}},Parameter:{$visitor:class extends Ik{constructor(e){super(e),this.element=new g$}},fixedFields:{name:YA.visitors.document.objects.Parameter.fixedFields.name,in:YA.visitors.document.objects.Parameter.fixedFields.in,description:YA.visitors.document.objects.Parameter.fixedFields.description,required:YA.visitors.document.objects.Parameter.fixedFields.required,deprecated:YA.visitors.document.objects.Parameter.fixedFields.deprecated,allowEmptyValue:YA.visitors.document.objects.Parameter.fixedFields.allowEmptyValue,style:YA.visitors.document.objects.Parameter.fixedFields.style,explode:YA.visitors.document.objects.Parameter.fixedFields.explode,allowReserved:YA.visitors.document.objects.Parameter.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:YA.visitors.document.objects.Parameter.fixedFields.example,examples:YA.visitors.document.objects.Parameter.fixedFields.examples,content:YA.visitors.document.objects.Parameter.fixedFields.content}},RequestBody:{$visitor:class extends eT{constructor(e){super(e),this.element=new w$}},fixedFields:{description:YA.visitors.document.objects.RequestBody.fixedFields.description,content:YA.visitors.document.objects.RequestBody.fixedFields.content,required:YA.visitors.document.objects.RequestBody.fixedFields.required}},MediaType:{$visitor:class extends kk{constructor(e){super(e),this.element=new p$}},fixedFields:{schema:{$ref:"#/visitors/document/objects/Schema"},example:YA.visitors.document.objects.MediaType.fixedFields.example,examples:YA.visitors.document.objects.MediaType.fixedFields.examples,encoding:YA.visitors.document.objects.MediaType.fixedFields.encoding}},Encoding:{$visitor:class extends Zk{constructor(e){super(e),this.element=new s$}},fixedFields:{contentType:YA.visitors.document.objects.Encoding.fixedFields.contentType,headers:YA.visitors.document.objects.Encoding.fixedFields.headers,style:YA.visitors.document.objects.Encoding.fixedFields.style,explode:YA.visitors.document.objects.Encoding.fixedFields.explode,allowReserved:YA.visitors.document.objects.Encoding.fixedFields.allowReserved}},Responses:{$visitor:class extends sT{constructor(e){super(e),this.element=new j$}},fixedFields:{default:YA.visitors.document.objects.Responses.fixedFields.default}},Response:{$visitor:class extends rT{constructor(e){super(e),this.element=new E$}},fixedFields:{description:YA.visitors.document.objects.Response.fixedFields.description,headers:YA.visitors.document.objects.Response.fixedFields.headers,content:YA.visitors.document.objects.Response.fixedFields.content,links:YA.visitors.document.objects.Response.fixedFields.links}},Callback:{$visitor:class extends tT{constructor(e){super(e),this.element=new QA,this.specPath=e=>QS(e)?["document","objects","Reference"]:["document","objects","PathItem"]}ObjectElement(e){const t=tT.prototype.ObjectElement.call(this,e);return this.element.filter(ak).forEach((e=>{e.setMetaProperty("referenced-element","pathItem")})),t}}},Example:{$visitor:class extends Yk{constructor(e){super(e),this.element=new n$}},fixedFields:{summary:YA.visitors.document.objects.Example.fixedFields.summary,description:YA.visitors.document.objects.Example.fixedFields.description,value:YA.visitors.document.objects.Example.fixedFields.value,externalValue:YA.visitors.document.objects.Example.fixedFields.externalValue}},Link:{$visitor:class extends Sk{constructor(e){super(e),this.element=new u$}},fixedFields:{operationRef:YA.visitors.document.objects.Link.fixedFields.operationRef,operationId:YA.visitors.document.objects.Link.fixedFields.operationId,parameters:YA.visitors.document.objects.Link.fixedFields.parameters,requestBody:YA.visitors.document.objects.Link.fixedFields.requestBody,description:YA.visitors.document.objects.Link.fixedFields.description,server:{$ref:"#/visitors/document/objects/Server"}}},Header:{$visitor:class extends _k{constructor(e){super(e),this.element=new o$}},fixedFields:{description:YA.visitors.document.objects.Header.fixedFields.description,required:YA.visitors.document.objects.Header.fixedFields.required,deprecated:YA.visitors.document.objects.Header.fixedFields.deprecated,allowEmptyValue:YA.visitors.document.objects.Header.fixedFields.allowEmptyValue,style:YA.visitors.document.objects.Header.fixedFields.style,explode:YA.visitors.document.objects.Header.fixedFields.explode,allowReserved:YA.visitors.document.objects.Header.fixedFields.allowReserved,schema:{$ref:"#/visitors/document/objects/Schema"},example:YA.visitors.document.objects.Header.fixedFields.example,examples:YA.visitors.document.objects.Header.fixedFields.examples,content:YA.visitors.document.objects.Header.fixedFields.content}},Tag:{$visitor:class extends Mk{constructor(e){super(e),this.element=new k$}},fixedFields:{name:YA.visitors.document.objects.Tag.fixedFields.name,description:YA.visitors.document.objects.Tag.fixedFields.description,externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"}}},Reference:{$visitor:class extends Fk{constructor(e){super(e),this.element=new x$}},fixedFields:{$ref:YA.visitors.document.objects.Reference.fixedFields.$ref,summary:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"}}},Schema:{$visitor:Dk,fixedFields:{$schema:{$ref:"#/visitors/value"},$vocabulary:class extends XS{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-$vocabulary"),t}},$id:{$ref:"#/visitors/value"},$anchor:{$ref:"#/visitors/value"},$dynamicAnchor:{$ref:"#/visitors/value"},$dynamicRef:{$ref:"#/visitors/value"},$ref:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("reference-value"),t}},$defs:qk,$comment:{$ref:"#/visitors/value"},allOf:Nk,anyOf:Lk,oneOf:Bk,not:{$ref:"#/visitors/document/objects/Schema"},if:{$ref:"#/visitors/document/objects/Schema"},then:{$ref:"#/visitors/document/objects/Schema"},else:{$ref:"#/visitors/document/objects/Schema"},dependentSchemas:Uk,prefixItems:Vk,items:{$ref:"#/visitors/document/objects/Schema"},contains:{$ref:"#/visitors/document/objects/Schema"},properties:zk,patternProperties:Hk,additionalProperties:{$ref:"#/visitors/document/objects/Schema"},propertyNames:{$ref:"#/visitors/document/objects/Schema"},unevaluatedItems:{$ref:"#/visitors/document/objects/Schema"},unevaluatedProperties:{$ref:"#/visitors/document/objects/Schema"},type:class extends XS{StringElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-type"),t}},enum:class extends XS{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-enum"),t}},const:{$ref:"#/visitors/value"},multipleOf:{$ref:"#/visitors/value"},maximum:{$ref:"#/visitors/value"},exclusiveMaximum:{$ref:"#/visitors/value"},minimum:{$ref:"#/visitors/value"},exclusiveMinimum:{$ref:"#/visitors/value"},maxLength:{$ref:"#/visitors/value"},minLength:{$ref:"#/visitors/value"},pattern:{$ref:"#/visitors/value"},maxItems:{$ref:"#/visitors/value"},minItems:{$ref:"#/visitors/value"},uniqueItems:{$ref:"#/visitors/value"},maxContains:{$ref:"#/visitors/value"},minContains:{$ref:"#/visitors/value"},maxProperties:{$ref:"#/visitors/value"},minProperties:{$ref:"#/visitors/value"},required:{$ref:"#/visitors/value"},dependentRequired:class extends XS{ObjectElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-dependentRequired"),t}},title:{$ref:"#/visitors/value"},description:{$ref:"#/visitors/value"},default:{$ref:"#/visitors/value"},deprecated:{$ref:"#/visitors/value"},readOnly:{$ref:"#/visitors/value"},writeOnly:{$ref:"#/visitors/value"},examples:class extends XS{ArrayElement(e){const t=super.enter(e);return this.element.classes.push("json-schema-examples"),t}},format:{$ref:"#/visitors/value"},contentEncoding:{$ref:"#/visitors/value"},contentMediaType:{$ref:"#/visitors/value"},contentSchema:{$ref:"#/visitors/document/objects/Schema"},discriminator:{$ref:"#/visitors/document/objects/Discriminator"},xml:{$ref:"#/visitors/document/objects/XML"},externalDocs:{$ref:"#/visitors/document/objects/ExternalDocumentation"},example:{$ref:"#/visitors/value"}}},Discriminator:{$visitor:class extends Jk{constructor(e){super(e),this.element=new r$,this.canSupportSpecificationExtensions=!0}},fixedFields:{propertyName:YA.visitors.document.objects.Discriminator.fixedFields.propertyName,mapping:YA.visitors.document.objects.Discriminator.fixedFields.mapping}},XML:{$visitor:class extends Gk{constructor(e){super(e),this.element=new T$}},fixedFields:{name:YA.visitors.document.objects.XML.fixedFields.name,namespace:YA.visitors.document.objects.XML.fixedFields.namespace,prefix:YA.visitors.document.objects.XML.fixedFields.prefix,attribute:YA.visitors.document.objects.XML.fixedFields.attribute,wrapped:YA.visitors.document.objects.XML.fixedFields.wrapped}},SecurityScheme:{$visitor:class extends oT{constructor(e){super(e),this.element=new P$}},fixedFields:{type:YA.visitors.document.objects.SecurityScheme.fixedFields.type,description:YA.visitors.document.objects.SecurityScheme.fixedFields.description,name:YA.visitors.document.objects.SecurityScheme.fixedFields.name,in:YA.visitors.document.objects.SecurityScheme.fixedFields.in,scheme:YA.visitors.document.objects.SecurityScheme.fixedFields.scheme,bearerFormat:YA.visitors.document.objects.SecurityScheme.fixedFields.bearerFormat,flows:{$ref:"#/visitors/document/objects/OAuthFlows"},openIdConnectUrl:YA.visitors.document.objects.SecurityScheme.fixedFields.openIdConnectUrl}},OAuthFlows:{$visitor:class extends aT{constructor(e){super(e),this.element=new d$}},fixedFields:{implicit:{$ref:"#/visitors/document/objects/OAuthFlow"},password:{$ref:"#/visitors/document/objects/OAuthFlow"},clientCredentials:{$ref:"#/visitors/document/objects/OAuthFlow"},authorizationCode:{$ref:"#/visitors/document/objects/OAuthFlow"}}},OAuthFlow:{$visitor:class extends cT{constructor(e){super(e),this.element=new h$}},fixedFields:{authorizationUrl:YA.visitors.document.objects.OAuthFlow.fixedFields.authorizationUrl,tokenUrl:YA.visitors.document.objects.OAuthFlow.fixedFields.tokenUrl,refreshUrl:YA.visitors.document.objects.OAuthFlow.fixedFields.refreshUrl,scopes:YA.visitors.document.objects.OAuthFlow.fixedFields.scopes}},SecurityRequirement:{$visitor:class extends Tk{constructor(e){super(e),this.element=new S$}}}},extension:{$visitor:YA.visitors.document.extension.$visitor}}}},pT=e=>(t,r={})=>((e,{specPath:t=["visitors","document","objects","OpenApi","$visitor"],plugins:r=[]}={})=>{const s=Cx(e),n=Gw(uT),i=new(Gd(t,n))({specObj:n});return kw(s,i),Cw(i.element,r,{toolboxCreator:xk,visitorOptions:{keyMap:_$,nodeTypeGetter:I$}})})(t,{specPath:e,...r});QA.refract=pT(["visitors","document","objects","Callback","$visitor"]),e$.refract=pT(["visitors","document","objects","Components","$visitor"]),t$.refract=pT(["visitors","document","objects","Contact","$visitor"]),n$.refract=pT(["visitors","document","objects","Example","$visitor"]),r$.refract=pT(["visitors","document","objects","Discriminator","$visitor"]),s$.refract=pT(["visitors","document","objects","Encoding","$visitor"]),i$.refract=pT(["visitors","document","objects","ExternalDocumentation","$visitor"]),o$.refract=pT(["visitors","document","objects","Header","$visitor"]),a$.refract=pT(["visitors","document","objects","Info","$visitor"]),c$.refract=pT(["visitors","document","objects","OpenApi","fixedFields","jsonSchemaDialect"]),l$.refract=pT(["visitors","document","objects","License","$visitor"]),u$.refract=pT(["visitors","document","objects","Link","$visitor"]),p$.refract=pT(["visitors","document","objects","MediaType","$visitor"]),h$.refract=pT(["visitors","document","objects","OAuthFlow","$visitor"]),d$.refract=pT(["visitors","document","objects","OAuthFlows","$visitor"]),m$.refract=pT(["visitors","document","objects","OpenApi","fixedFields","openapi"]),f$.refract=pT(["visitors","document","objects","OpenApi","$visitor"]),y$.refract=pT(["visitors","document","objects","Operation","$visitor"]),g$.refract=pT(["visitors","document","objects","Parameter","$visitor"]),v$.refract=pT(["visitors","document","objects","PathItem","$visitor"]),b$.refract=pT(["visitors","document","objects","Paths","$visitor"]),x$.refract=pT(["visitors","document","objects","Reference","$visitor"]),w$.refract=pT(["visitors","document","objects","RequestBody","$visitor"]),E$.refract=pT(["visitors","document","objects","Response","$visitor"]),j$.refract=pT(["visitors","document","objects","Responses","$visitor"]),O$.refract=pT(["visitors","document","objects","Schema","$visitor"]),S$.refract=pT(["visitors","document","objects","SecurityRequirement","$visitor"]),P$.refract=pT(["visitors","document","objects","SecurityScheme","$visitor"]),A$.refract=pT(["visitors","document","objects","Server","$visitor"]),$$.refract=pT(["visitors","document","objects","ServerVariable","$visitor"]),k$.refract=pT(["visitors","document","objects","Tag","$visitor"]),T$.refract=pT(["visitors","document","objects","XML","$visitor"]);class hT extends tE{constructor(e){super({...null!=e?e:{},name:"binary"})}canParse(e){return 0===this.fileExtensions.length||this.fileExtensions.includes(e.extension)}parse(e){try{const t=unescape(encodeURIComponent(e.toString())),r=btoa(t),s=new Ix;if(0!==r.length){const e=new Ex(r);e.classes.push("result"),s.push(e)}return s}catch(t){throw new pE(`Error parsing "${e.uri}"`,{cause:t})}}}class dT extends class{name;constructor({name:e}){this.name=e}}{constructor(e){super({...null!=e?e:{},name:"openapi-3-1"})}canResolve(e,t){const r=t.dereference.strategies.find((e=>"openapi-3-1"===e.name));return void 0!==r&&r.canDereference(e,t)}async resolve(e,t){const r=t.dereference.strategies.find((e=>"openapi-3-1"===e.name));if(void 0===r)throw new eE('"openapi-3-1" dereference strategy is not available.');const s=new Mf,n=Rf(t,{resolve:{internal:!1},dereference:{refSet:s}});return await r.dereference(e,n),s}}const{AbortController:mT,AbortSignal:fT}=globalThis;void 0===globalThis.AbortController&&(globalThis.AbortController=mT),void 0===globalThis.AbortSignal&&(globalThis.AbortSignal=fT);class yT extends class extends class{name;constructor({name:e}){this.name=e}}{timeout;redirects;withCredentials;constructor(e){const{name:t="http-resolver",timeout:r=5e3,redirects:s=5,withCredentials:n=!1}=null!=e?e:{};super({name:t}),this.timeout=r,this.redirects=s,this.withCredentials=n}canRead(e){return wf(e.uri)}}{swaggerHTTPClient=_t;swaggerHTTPClientConfig;constructor({swaggerHTTPClient:e=_t,swaggerHTTPClientConfig:t={},...r}={}){super({...r,name:"http-swagger-client"}),this.swaggerHTTPClient=e,this.swaggerHTTPClientConfig=t}getHttpClient(){return this.swaggerHTTPClient}async read(e){const t=this.getHttpClient(),r=new AbortController,{signal:s}=r,n=setTimeout((()=>{r.abort()}),this.timeout),i=this.getHttpClient().withCredentials||this.withCredentials?"include":"same-origin",o=0===this.redirects?"error":"follow",a=this.redirects>0?this.redirects:void 0;try{return(await t({url:e.uri,signal:s,userFetch:async(e,t)=>{let r=await fetch(e,t);try{r.headers.delete("Content-Type")}catch{r=new Response(r.body,{...r,headers:new Headers(r.headers)}),r.headers.delete("Content-Type")}return r},credentials:i,redirect:o,follow:a,...this.swaggerHTTPClientConfig})).text.arrayBuffer()}catch(t){throw new Uf(`Error downloading "${e.uri}"`,{cause:t})}finally{clearTimeout(n)}}}class gT extends tE{constructor(e={}){super({name:"json-swagger-client",mediaTypes:["application/json"],...e})}async canParse(e){const t=0===this.fileExtensions.length||this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{return JSON.parse(e.toString()),!0}catch(e){return!1}return!1}async parse(e){if(this.sourceMap)throw new pE("json-swagger-client parser plugin doesn't support sourceMaps option");const t=new Ix,r=e.toString();if(this.allowEmpty&&""===r.trim())return t;try{const e=Ww(JSON.parse(r));return e.classes.push("result"),t.push(e),t}catch(t){throw new pE(`Error parsing "${e.uri}"`,{cause:t})}}}class vT extends tE{constructor(e={}){super({name:"yaml-1-2-swagger-client",mediaTypes:["text/yaml","application/yaml"],...e})}async canParse(e){const t=0===this.fileExtensions.length||this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{return Mt.load(e.toString(),{schema:wt}),!0}catch(e){return!1}return!1}async parse(e){if(this.sourceMap)throw new pE("yaml-1-2-swagger-client parser plugin doesn't support sourceMaps option");const t=new Ix,r=e.toString();try{const e=Mt.load(r,{schema:wt});if(this.allowEmpty&&void 0===e)return t;const s=Ww(e);return s.classes.push("result"),t.push(s),t}catch(t){throw new pE(`Error parsing "${e.uri}"`,{cause:t})}}}class bT extends tE{detectionRegExp=/"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))"/;constructor(e={}){super({name:"openapi-json-3-1-swagger-client",mediaTypes:new Nj(...Lj.filterByFormat("generic"),...Lj.filterByFormat("json")),...e})}async canParse(e){const t=0===this.fileExtensions.length||this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{const t=e.toString();return JSON.parse(t),this.detectionRegExp.test(t)}catch(e){return!1}return!1}async parse(e){if(this.sourceMap)throw new pE("openapi-json-3-1-swagger-client parser plugin doesn't support sourceMaps option");const t=new Ix,r=e.toString();if(this.allowEmpty&&""===r.trim())return t;try{const e=JSON.parse(r),s=f$.refract(e,this.refractorOpts);return s.classes.push("result"),t.push(s),t}catch(t){throw new pE(`Error parsing "${e.uri}"`,{cause:t})}}}class xT extends tE{detectionRegExp=/(?<YAML>^(["']?)openapi\2\s*:\s*(["']?)(?<version_yaml>3\.1\.(?:[1-9]\d*|0))\3(?:\s+|$))|(?<JSON>"openapi"\s*:\s*"(?<version_json>3\.1\.(?:[1-9]\d*|0))")/m;constructor(e={}){super({name:"openapi-yaml-3-1-swagger-client",mediaTypes:new Nj(...Lj.filterByFormat("generic"),...Lj.filterByFormat("yaml")),...e})}async canParse(e){const t=0===this.fileExtensions.length||this.fileExtensions.includes(e.extension),r=this.mediaTypes.includes(e.mediaType);if(!t)return!1;if(r)return!0;if(!r)try{const t=e.toString();return Mt.load(t),this.detectionRegExp.test(t)}catch(e){return!1}return!1}async parse(e){if(this.sourceMap)throw new pE("openapi-yaml-3-1-swagger-client parser plugin doesn't support sourceMaps option");const t=new Ix,r=e.toString();try{const e=Mt.load(r,{schema:wt});if(this.allowEmpty&&void 0===e)return t;const s=f$.refract(e,this.refractorOpts);return s.classes.push("result"),t.push(s),t}catch(t){throw new pE(`Error parsing "${e.uri}"`,{cause:t})}}}const wT=e=>/^[A-Za-z_][A-Za-z_0-9.-]*$/.test(e),ET=e=>{const t=Of(e);return ef("#",t)},jT=(e,t)=>{const r=(e=>{if(!wT(e))throw new cE(e);return e})(e),s=qw((e=>pk(e)&&zw(e.$anchor)===r),t);if(pm(s))throw new iE(`Evaluation failed on token: "${r}"`);return s},OT=(e,t)=>{if(void 0===t.$ref)return;const r=Of(zw(t.$ref)),s=zw(t.meta.get("inherited$id"));return`${_h(((e,t)=>Af(e,$f(Sf(t)))),e,[...s,zw(t.$ref)])}${"#"===r?"":r}`},ST=e=>{if(ST.cache.has(e))return ST.cache.get(e);const t=O$.refract(e);return ST.cache.set(e,t),t};ST.cache=new WeakMap;const PT=e=>rw(e)?ST(e):e,AT=(e,t)=>{const{cache:r}=AT,s=Sf(e),n=e=>pk(e)&&void 0!==e.$id;if(!r.has(t)){const e=((e,t)=>{const r=new $w({predicate:e});return kw(t,r),new bx(r.result)})(n,t);r.set(t,Array.from(e))}const i=r.get(t).find((e=>{const t=((e,t)=>{if(void 0===t.$id)return;const r=zw(t.meta.get("inherited$id"));return _h(((e,t)=>Af(e,$f(Sf(t)))),e,[...r,zw(t.$id)])})(s,e);return t===s}));if(pm(i))throw new aE(`Evaluation failed on URI: "${e}"`);let o,a;return wT(ET(e))?(o=jT,a=ET(e)):(o=qj,a=Rj(e)),o(a,i)};AT.cache=new WeakMap;const $T=kw[Symbol.for("nodejs.util.promisify.custom")],kT=new _w,TT=(e,t,r,s)=>{Kx(s)?s.value=e:Array.isArray(s)&&(s[r]=e)};class CT{indirections;namespace;reference;options;ancestors;refractCache;constructor({reference:e,namespace:t,options:r,indirections:s=[],ancestors:n=new rE,refractCache:i=new Map}){this.indirections=s,this.namespace=t,this.reference=e,this.options=r,this.ancestors=new rE(...n),this.refractCache=i}toBaseURI(e){return Af(this.reference.uri,$f(Sf(e)))}async toReference(e){if(this.reference.depth>=this.options.resolve.maxDepth)throw new uE(`Maximum resolution depth of ${this.options.resolve.maxDepth} has been exceeded by file "${this.reference.uri}"`);const t=this.toBaseURI(e),{refSet:r}=this.reference;if(r.has(t))return r.find(Xd(t,"uri"));const s=await(async(e,t)=>{const r=new Cf({uri:$f(Sf(e)),mediaType:t.parse.mediaType}),s=await(async(e,t)=>{const r=t.resolve.resolvers.map((e=>{const r=Object.create(e);return Object.assign(r,t.resolve.resolverOpts)})),s=await qf("canRead",[e,t],r);if(Id(s))throw new Vf(e.uri);try{const{result:t}=await Nf("read",[e],s);return t}catch(t){throw new Bf(`Error while reading file "${e.uri}"`,{cause:t})}})(r,t);return(async(e,t)=>{const r=t.parse.parsers.map((e=>{const r=Object.create(e);return Object.assign(r,t.parse.parserOpts)})),s=await qf("canParse",[e,t],r);if(Id(s))throw new Vf(e.uri);try{const{plugin:r,result:n}=await Nf("parse",[e,t],s);return!r.allowEmpty&&n.isEmpty?Promise.reject(new Lf(`Error while parsing file "${e.uri}". File is empty.`)):n}catch(t){throw new Lf(`Error while parsing file "${e.uri}"`,{cause:t})}})(new Cf({...r,data:s}),t)})(kf(t),{...this.options,parse:{...this.options.parse,mediaType:"text/plain"}}),n=new sE({uri:t,value:xw(s),depth:this.reference.depth+1});if(r.add(n),this.options.dereference.immutable){const e=new sE({uri:`immutable://${t}`,value:s,depth:this.reference.depth+1});r.add(e)}return n}toAncestorLineage(e){const t=new Set(e.filter(Ux));return[new rE(...this.ancestors,t),t]}async ReferenceElement(e,t,r,s,n,i){if(this.indirections.includes(e))return!1;const[o,a]=this.toAncestorLineage([...n,r]),c=this.toBaseURI(zw(e.$ref)),l=Sf(this.reference.uri)===c,u=!l;if(!this.options.resolve.internal&&l)return!1;if(!this.options.resolve.external&&u)return!1;const p=await this.toReference(zw(e.$ref)),h=Af(c,zw(e.$ref));this.indirections.push(e);const d=Rj(h);let m=qj(d,p.value.result);if(m.id=kT.identify(m),rw(m)){const t=zw(e.meta.get("referenced-element")),r=`${t}-${zw(kT.identify(m))}`;this.refractCache.has(r)?m=this.refractCache.get(r):QS(m)?(m=x$.refract(m),m.setMetaProperty("referenced-element",t),this.refractCache.set(r,m)):(m=this.namespace.getElementClass(t).refract(m),this.refractCache.set(r,m))}if(e===m)throw new Sp("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new lE(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(o.includes(m)){if(p.refSet.circular=!0,"error"===this.options.dereference.circular)throw new Sp("Circular reference detected");if("replace"===this.options.dereference.circular){var f,y;const t=new kx(m.id,{type:"reference",uri:p.uri,$ref:zw(e.$ref)}),s=(null!==(f=null===(y=this.options.dereference.strategyOpts["openapi-3-1"])||void 0===y?void 0:y.circularReplacer)&&void 0!==f?f:this.options.dereference.circularReplacer)(t);return i.replaceWith(s,TT),!r&&s}}const g=Sf(p.refSet.rootRef.uri)!==p.uri,v=["error","replace"].includes(this.options.dereference.circular);if((u||g||ak(m)||v)&&!o.includesCycle(m)){a.add(e);const t=new CT({reference:p,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:o});m=await $T(m,t,{keyMap:_$,nodeTypeGetter:I$}),a.delete(e)}this.indirections.pop();const b=jw(m);return b.setMetaProperty("id",kT.generateId()),b.setMetaProperty("ref-fields",{$ref:zw(e.$ref),description:zw(e.description),summary:zw(e.summary)}),b.setMetaProperty("ref-origin",p.uri),b.setMetaProperty("ref-referencing-element-id",xw(kT.identify(e))),Gx(m)&&Gx(b)&&(e.hasKey("description")&&"description"in m&&(b.remove("description"),b.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in m&&(b.remove("summary"),b.set("summary",e.get("summary")))),i.replaceWith(b,TT),!r&&b}async PathItemElement(e,t,r,s,n,i){if(!Vx(e.$ref))return;if(this.indirections.includes(e))return!1;const[o,a]=this.toAncestorLineage([...n,r]),c=this.toBaseURI(zw(e.$ref)),l=Sf(this.reference.uri)===c,u=!l;if(!this.options.resolve.internal&&l)return;if(!this.options.resolve.external&&u)return;const p=await this.toReference(zw(e.$ref)),h=Af(c,zw(e.$ref));this.indirections.push(e);const d=Rj(h);let m=qj(d,p.value.result);if(m.id=kT.identify(m),rw(m)){const e=`path-item-${zw(kT.identify(m))}`;this.refractCache.has(e)?m=this.refractCache.get(e):(m=v$.refract(m),this.refractCache.set(e,m))}if(e===m)throw new Sp("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new lE(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(o.includes(m)){if(p.refSet.circular=!0,"error"===this.options.dereference.circular)throw new Sp("Circular reference detected");if("replace"===this.options.dereference.circular){var f,y;const t=new kx(m.id,{type:"path-item",uri:p.uri,$ref:zw(e.$ref)}),s=(null!==(f=null===(y=this.options.dereference.strategyOpts["openapi-3-1"])||void 0===y?void 0:y.circularReplacer)&&void 0!==f?f:this.options.dereference.circularReplacer)(t);return i.replaceWith(s,TT),!r&&s}}const g=Sf(p.refSet.rootRef.uri)!==p.uri,v=["error","replace"].includes(this.options.dereference.circular);if((u||g||ik(m)&&Vx(m.$ref)||v)&&!o.includesCycle(m)){a.add(e);const t=new CT({reference:p,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:o});m=await $T(m,t,{keyMap:_$,nodeTypeGetter:I$}),a.delete(e)}if(this.indirections.pop(),ik(m)){const t=new v$([...m.content],xw(m.meta),xw(m.attributes));t.setMetaProperty("id",kT.generateId()),e.forEach(((e,r,s)=>{t.remove(zw(r)),t.content.push(s)})),t.remove("$ref"),t.setMetaProperty("ref-fields",{$ref:zw(e.$ref)}),t.setMetaProperty("ref-origin",p.uri),t.setMetaProperty("ref-referencing-element-id",xw(kT.identify(e))),m=t}return i.replaceWith(m,TT),r?void 0:m}async LinkElement(e,t,r,s,n,i){if(!Vx(e.operationRef)&&!Vx(e.operationId))return;if(Vx(e.operationRef)&&Vx(e.operationId))throw new Sp("LinkElement operationRef and operationId fields are mutually exclusive.");let o;if(Vx(e.operationRef)){var a;const t=Rj(zw(e.operationRef)),s=this.toBaseURI(zw(e.operationRef)),n=Sf(this.reference.uri)===s,c=!n;if(!this.options.resolve.internal&&n)return;if(!this.options.resolve.external&&c)return;const l=await this.toReference(zw(e.operationRef));if(o=qj(t,l.value.result),rw(o)){const e=`operation-${zw(kT.identify(o))}`;this.refractCache.has(e)?o=this.refractCache.get(e):(o=y$.refract(o),this.refractCache.set(e,o))}o=jw(o),o.setMetaProperty("ref-origin",l.uri);const u=jw(e);return null===(a=u.operationRef)||void 0===a||a.meta.set("operation",o),i.replaceWith(u,TT),r?void 0:u}if(Vx(e.operationId)){var c;const t=zw(e.operationId),s=await this.toReference(kf(this.reference.uri));if(o=qw((e=>sk(e)&&Ux(e.operationId)&&e.operationId.equals(t)),s.value.result),pm(o))throw new Sp(`OperationElement(operationId=${t}) not found.`);const n=jw(e);return null===(c=n.operationId)||void 0===c||c.meta.set("operation",o),i.replaceWith(n,TT),r?void 0:n}}async ExampleElement(e,t,r,s,n,i){if(!Vx(e.externalValue))return;if(e.hasKey("value")&&Vx(e.externalValue))throw new Sp("ExampleElement value and externalValue fields are mutually exclusive.");const o=this.toBaseURI(zw(e.externalValue)),a=Sf(this.reference.uri)===o,c=!a;if(!this.options.resolve.internal&&a)return;if(!this.options.resolve.external&&c)return;const l=await this.toReference(zw(e.externalValue)),u=jw(l.value.result);u.setMetaProperty("ref-origin",l.uri);const p=jw(e);return p.value=u,i.replaceWith(p,TT),r?void 0:p}async SchemaElement(e,t,r,s,n,i){if(!Vx(e.$ref))return;if(this.indirections.includes(e))return!1;const[o,a]=this.toAncestorLineage([...n,r]);let c=await this.toReference(kf(this.reference.uri)),{uri:l}=c;const u=OT(l,e),p=Sf(u),h=new Cf({uri:p}),d=zd((e=>e.canRead(h)),this.options.resolve.resolvers),m=!d;let f,y=Sf(this.reference.uri)===u,g=!y;this.indirections.push(e);try{if(d||m){l=this.toBaseURI(u);const e=u,t=PT(c.value.result);if(f=AT(e,t),f=PT(f),f.id=kT.identify(f),!this.options.resolve.internal&&y)return;if(!this.options.resolve.external&&g)return}else{if(l=this.toBaseURI(u),y=Sf(this.reference.uri)===l,g=!y,!this.options.resolve.internal&&y)return;if(!this.options.resolve.external&&g)return;c=await this.toReference(kf(u));const e=Rj(u),t=PT(c.value.result);f=qj(e,t),f=PT(f),f.id=kT.identify(f)}}catch(e){if(!(m&&e instanceof aE))throw e;if(wT(ET(u))){if(y=Sf(this.reference.uri)===l,g=!y,!this.options.resolve.internal&&y)return;if(!this.options.resolve.external&&g)return;c=await this.toReference(kf(u));const e=ET(u),t=PT(c.value.result);f=jT(e,t),f=PT(f),f.id=kT.identify(f)}else{if(l=this.toBaseURI(u),y=Sf(this.reference.uri)===l,g=!y,!this.options.resolve.internal&&y)return;if(!this.options.resolve.external&&g)return;c=await this.toReference(kf(u));const e=Rj(u),t=PT(c.value.result);f=qj(e,t),f=PT(f),f.id=kT.identify(f)}}if(e===f)throw new Sp("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new lE(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(o.includes(f)){if(c.refSet.circular=!0,"error"===this.options.dereference.circular)throw new Sp("Circular reference detected");if("replace"===this.options.dereference.circular){var v,b;const t=new kx(f.id,{type:"json-schema",uri:c.uri,$ref:zw(e.$ref)}),s=(null!==(v=null===(b=this.options.dereference.strategyOpts["openapi-3-1"])||void 0===b?void 0:b.circularReplacer)&&void 0!==v?v:this.options.dereference.circularReplacer)(t);return i.replaceWith(s,TT),!r&&s}}const x=Sf(c.refSet.rootRef.uri)!==c.uri,w=["error","replace"].includes(this.options.dereference.circular);if((g||x||pk(f)&&Vx(f.$ref)||w)&&!o.includesCycle(f)){a.add(e);const t=new CT({reference:c,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:o});f=await $T(f,t,{keyMap:_$,nodeTypeGetter:I$}),a.delete(e)}if(this.indirections.pop(),hk(f)){const t=xw(f);return t.setMetaProperty("id",kT.generateId()),t.setMetaProperty("ref-fields",{$ref:zw(e.$ref)}),t.setMetaProperty("ref-origin",c.uri),t.setMetaProperty("ref-referencing-element-id",xw(kT.identify(e))),i.replaceWith(t,TT),!r&&t}if(pk(f)){const t=new O$([...f.content],xw(f.meta),xw(f.attributes));t.setMetaProperty("id",kT.generateId()),e.forEach(((e,r,s)=>{t.remove(zw(r)),t.content.push(s)})),t.remove("$ref"),t.setMetaProperty("ref-fields",{$ref:zw(e.$ref)}),t.setMetaProperty("ref-origin",c.uri),t.setMetaProperty("ref-referencing-element-id",xw(kT.identify(e))),f=t}return i.replaceWith(f,TT),r?void 0:f}}const MT=kw[Symbol.for("nodejs.util.promisify.custom")],FT=e=>{const t=(e=>e.slice(2))(e);return t.reduce(((e,r,s)=>{if(Kx(r)){const t=String(zw(r.key));e.push(t)}else if(Wx(t[s-2])){const n=t[s-2].content.indexOf(r);e.push(n)}return e}),[])};class IT{modelPropertyMacro;options;SchemaElement={leave:(e,t,r,s,n)=>{void 0!==e.properties&&Gx(e.properties)&&e.properties.forEach((t=>{if(Gx(t))try{const e=this.modelPropertyMacro(zw(t));t.set("default",e)}catch(t){var s,i;const o=new Error(t,{cause:t});o.fullPath=[...FT([...n,r,e]),"properties"],null===(s=this.options.dereference.dereferenceOpts)||void 0===s||null===(s=s.errors)||void 0===s||null===(i=s.push)||void 0===i||i.call(s,o)}}))}};constructor({modelPropertyMacro:e,options:t}){this.modelPropertyMacro=e,this.options=t}}class _T{options;SchemaElement={leave(e,t,r,s,n){if(void 0!==e.allOf){if(!Wx(e.allOf)){var i,o;const t=new TypeError("allOf must be an array");return t.fullPath=[...FT([...n,r,e]),"allOf"],void(null===(i=this.options.dereference.dereferenceOpts)||void 0===i||null===(i=i.errors)||void 0===i||null===(o=i.push)||void 0===o||o.call(i,t))}if(e.allOf.isEmpty)e.remove("allOf");else{if(!e.allOf.content.every(pk)){var a,c;const t=new TypeError("Elements in allOf must be objects");return t.fullPath=[...FT([...n,r,e]),"allOf"],void(null===(a=this.options.dereference.dereferenceOpts)||void 0===a||null===(a=a.errors)||void 0===a||null===(c=a.push)||void 0===c||c.call(a,t))}for(;e.hasKey("allOf");){const{allOf:t}=e;e.remove("allOf");const r=Zw.all([...t.content,e]);if(e.hasKey("$$ref")||r.remove("$$ref"),e.hasKey("example")){const t=r.getMember("example");t&&(t.value=e.get("example"))}if(e.hasKey("examples")){const t=r.getMember("examples");t&&(t.value=e.get("examples"))}e.content=r.content}}}}};constructor({options:e}){this.options=e}}class RT{parameterMacro;options;#e;OperationElement={enter:e=>{this.#e=e},leave:()=>{this.#e=void 0}};ParameterElement={leave:(e,t,r,s,n)=>{const i=this.#e?zw(this.#e):null,o=zw(e);try{const t=this.parameterMacro(i,o);e.set("default",t)}catch(e){var a,c;const t=new Error(e,{cause:e});t.fullPath=FT([...n,r]),null===(a=this.options.dereference.dereferenceOpts)||void 0===a||null===(a=a.errors)||void 0===a||null===(c=a.push)||void 0===c||c.call(a,t)}}};constructor({parameterMacro:e,options:t}){this.parameterMacro=e,this.options=t}}const DT=e=>{if(null==e.cause)return e;let{cause:t}=e;for(;null!=t.cause;)t=t.cause;return t};class qT extends Pp{}const{wrapError:NT}=XE,LT=kw[Symbol.for("nodejs.util.promisify.custom")],BT=new _w,UT=(e,t,r,s)=>{Kx(s)?s.value=e:Array.isArray(s)&&(s[r]=e)};class VT extends CT{useCircularStructures;allowMetaPatches;basePath;constructor({allowMetaPatches:e=!0,useCircularStructures:t=!1,basePath:r=null,...s}){super(s),this.allowMetaPatches=e,this.useCircularStructures=t,this.basePath=r}async ReferenceElement(e,t,r,s,n,i){try{if(this.indirections.includes(e))return!1;const[t,s]=this.toAncestorLineage([...n,r]),l=this.toBaseURI(zw(e.$ref)),u=Sf(this.reference.uri)===l,p=!u;if(!this.options.resolve.internal&&u)return!1;if(!this.options.resolve.external&&p)return!1;const h=await this.toReference(zw(e.$ref)),d=Af(l,zw(e.$ref));this.indirections.push(e);const m=Rj(d);let f=qj(m,h.value.result);if(f.id=BT.identify(f),rw(f)){const t=zw(e.meta.get("referenced-element")),r=`${t}-${zw(BT.identify(f))}`;this.refractCache.has(r)?f=this.refractCache.get(r):QS(f)?(f=x$.refract(f),f.setMetaProperty("referenced-element",t),this.refractCache.set(r,f)):(f=this.namespace.getElementClass(t).refract(f),this.refractCache.set(r,f))}if(e===f)throw new Sp("Recursive Reference Object detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new lE(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(t.includes(f)){if(h.refSet.circular=!0,"error"===this.options.dereference.circular)throw new Sp("Circular reference detected");if("replace"===this.options.dereference.circular){var o,a;const t=new kx(f.id,{type:"reference",uri:h.uri,$ref:zw(e.$ref),baseURI:d,referencingElement:e}),s=(null!==(o=null===(a=this.options.dereference.strategyOpts["openapi-3-1"])||void 0===a?void 0:a.circularReplacer)&&void 0!==o?o:this.options.dereference.circularReplacer)(t);return i.replaceWith(t,UT),!r&&s}}const y=Sf(h.refSet.rootRef.uri)!==h.uri,g=["error","replace"].includes(this.options.dereference.circular);if((p||y||ak(f)||g)&&!t.includesCycle(f)){var c;s.add(e);const i=new VT({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,refractCache:this.refractCache,ancestors:t,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,basePath:null!==(c=this.basePath)&&void 0!==c?c:[...FT([...n,r,e]),"$ref"]});f=await LT(f,i,{keyMap:_$,nodeTypeGetter:I$}),s.delete(e)}this.indirections.pop();const v=jw(f);if(v.setMetaProperty("ref-fields",{$ref:zw(e.$ref),description:zw(e.description),summary:zw(e.summary)}),v.setMetaProperty("ref-origin",h.uri),v.setMetaProperty("ref-referencing-element-id",xw(BT.identify(e))),Gx(f)&&(e.hasKey("description")&&"description"in f&&(v.remove("description"),v.set("description",e.get("description"))),e.hasKey("summary")&&"summary"in f&&(v.remove("summary"),v.set("summary",e.get("summary")))),this.allowMetaPatches&&Gx(v)&&!v.hasKey("$$ref")){const e=Af(l,d);v.set("$$ref",e)}return i.replaceWith(v,UT),!r&&v}catch(t){var l,u,p;const s=DT(t),i=NT(s,{baseDoc:this.reference.uri,$ref:zw(e.$ref),pointer:Rj(zw(e.$ref)),fullPath:null!==(l=this.basePath)&&void 0!==l?l:[...FT([...n,r,e]),"$ref"]});return void(null===(u=this.options.dereference.dereferenceOpts)||void 0===u||null===(u=u.errors)||void 0===u||null===(p=u.push)||void 0===p||p.call(u,i))}}async PathItemElement(e,t,r,s,n,i){try{if(!Vx(e.$ref))return;if(this.indirections.includes(e))return!1;if(nw(["cycle"],e.$ref))return!1;const[t,s]=this.toAncestorLineage([...n,r]),l=this.toBaseURI(zw(e.$ref)),u=Sf(this.reference.uri)===l,p=!u;if(!this.options.resolve.internal&&u)return;if(!this.options.resolve.external&&p)return;const h=await this.toReference(zw(e.$ref)),d=Af(l,zw(e.$ref));this.indirections.push(e);const m=Rj(d);let f=qj(m,h.value.result);if(f.id=BT.identify(f),rw(f)){const e=`path-item-${zw(BT.identify(f))}`;this.refractCache.has(e)?f=this.refractCache.get(e):(f=v$.refract(f),this.refractCache.set(e,f))}if(e===f)throw new Sp("Recursive Path Item Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new lE(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(t.includes(f)){if(h.refSet.circular=!0,"error"===this.options.dereference.circular)throw new Sp("Circular reference detected");if("replace"===this.options.dereference.circular){var o,a;const t=new kx(f.id,{type:"path-item",uri:h.uri,$ref:zw(e.$ref),baseURI:d,referencingElement:e}),s=(null!==(o=null===(a=this.options.dereference.strategyOpts["openapi-3-1"])||void 0===a?void 0:a.circularReplacer)&&void 0!==o?o:this.options.dereference.circularReplacer)(t);return i.replaceWith(t,UT),!r&&s}}const y=Sf(h.refSet.rootRef.uri)!==h.uri,g=["error","replace"].includes(this.options.dereference.circular);if((p||y||ik(f)&&Vx(f.$ref)||g)&&!t.includesCycle(f)){var c;s.add(e);const i=new VT({reference:h,namespace:this.namespace,indirections:[...this.indirections],options:this.options,ancestors:t,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,basePath:null!==(c=this.basePath)&&void 0!==c?c:[...FT([...n,r,e]),"$ref"]});f=await LT(f,i,{keyMap:_$,nodeTypeGetter:I$}),s.delete(e)}if(this.indirections.pop(),ik(f)){const t=new v$([...f.content],xw(f.meta),xw(f.attributes));if(e.forEach(((e,r,s)=>{t.remove(zw(r)),t.content.push(s)})),t.remove("$ref"),t.setMetaProperty("ref-fields",{$ref:zw(e.$ref)}),t.setMetaProperty("ref-origin",h.uri),t.setMetaProperty("ref-referencing-element-id",xw(BT.identify(e))),this.allowMetaPatches&&void 0===t.get("$$ref")){const e=Af(l,d);t.set("$$ref",e)}f=t}return i.replaceWith(f,UT),r?void 0:f}catch(t){var l,u,p;const s=DT(t),i=NT(s,{baseDoc:this.reference.uri,$ref:zw(e.$ref),pointer:Rj(zw(e.$ref)),fullPath:null!==(l=this.basePath)&&void 0!==l?l:[...FT([...n,r,e]),"$ref"]});return void(null===(u=this.options.dereference.dereferenceOpts)||void 0===u||null===(u=u.errors)||void 0===u||null===(p=u.push)||void 0===p||p.call(u,i))}}async SchemaElement(e,t,r,s,n,i){try{if(!Vx(e.$ref))return;if(this.indirections.includes(e))return!1;const[t,s]=this.toAncestorLineage([...n,r]);let l=await this.toReference(kf(this.reference.uri)),{uri:u}=l;const p=OT(u,e),h=Sf(p),d=new Cf({uri:h}),m=!this.options.resolve.resolvers.some((e=>e.canRead(d))),f=!m;let y,g=Sf(this.reference.uri)===p,v=!g;this.indirections.push(e);try{if(m||f){u=this.toBaseURI(p);const e=p,t=PT(l.value.result);if(y=AT(e,t),y=PT(y),y.id=BT.identify(y),!this.options.resolve.internal&&g)return;if(!this.options.resolve.external&&v)return}else{if(u=this.toBaseURI(p),g=Sf(this.reference.uri)===u,v=!g,!this.options.resolve.internal&&g)return;if(!this.options.resolve.external&&v)return;l=await this.toReference(kf(p));const e=Rj(p),t=PT(l.value.result);y=qj(e,t),y=PT(y),y.id=BT.identify(y)}}catch(e){if(!(f&&e instanceof aE))throw e;if(wT(ET(p))){if(g=Sf(this.reference.uri)===u,v=!g,!this.options.resolve.internal&&g)return;if(!this.options.resolve.external&&v)return;l=await this.toReference(kf(p));const e=ET(p),t=PT(l.value.result);y=jT(e,t),y=PT(y),y.id=BT.identify(y)}else{if(u=this.toBaseURI(zw(p)),g=Sf(this.reference.uri)===u,v=!g,!this.options.resolve.internal&&g)return;if(!this.options.resolve.external&&v)return;l=await this.toReference(kf(p));const e=Rj(p),t=PT(l.value.result);y=qj(e,t),y=PT(y),y.id=BT.identify(y)}}if(e===y)throw new Sp("Recursive Schema Object reference detected");if(this.indirections.length>this.options.dereference.maxDepth)throw new lE(`Maximum dereference depth of "${this.options.dereference.maxDepth}" has been exceeded in file "${this.reference.uri}"`);if(t.includes(y)){if(l.refSet.circular=!0,"error"===this.options.dereference.circular)throw new Sp("Circular reference detected");if("replace"===this.options.dereference.circular){var o,a;const t=new kx(y.id,{type:"json-schema",uri:l.uri,$ref:zw(e.$ref),baseURI:Af(u,p),referencingElement:e}),s=(null!==(o=null===(a=this.options.dereference.strategyOpts["openapi-3-1"])||void 0===a?void 0:a.circularReplacer)&&void 0!==o?o:this.options.dereference.circularReplacer)(t);return i.replaceWith(s,UT),!r&&s}}const b=Sf(l.refSet.rootRef.uri)!==l.uri,x=["error","replace"].includes(this.options.dereference.circular);if((v||b||pk(y)&&Vx(y.$ref)||x)&&!t.includesCycle(y)){var c;s.add(e);const i=new VT({reference:l,namespace:this.namespace,indirections:[...this.indirections],options:this.options,useCircularStructures:this.useCircularStructures,allowMetaPatches:this.allowMetaPatches,ancestors:t,basePath:null!==(c=this.basePath)&&void 0!==c?c:[...FT([...n,r,e]),"$ref"]});y=await LT(y,i,{keyMap:_$,nodeTypeGetter:I$}),s.delete(e)}if(this.indirections.pop(),hk(y)){const t=xw(y);return t.setMetaProperty("ref-fields",{$ref:zw(e.$ref)}),t.setMetaProperty("ref-origin",l.uri),t.setMetaProperty("ref-referencing-element-id",xw(BT.identify(e))),i.replaceWith(t,UT),!r&&t}if(pk(y)){const t=new O$([...y.content],xw(y.meta),xw(y.attributes));if(e.forEach(((e,r,s)=>{t.remove(zw(r)),t.content.push(s)})),t.remove("$ref"),t.setMetaProperty("ref-fields",{$ref:zw(e.$ref)}),t.setMetaProperty("ref-origin",l.uri),t.setMetaProperty("ref-referencing-element-id",xw(BT.identify(e))),this.allowMetaPatches&&void 0===t.get("$$ref")){const e=Af(u,p);t.set("$$ref",e)}y=t}return i.replaceWith(y,UT),r?void 0:y}catch(t){var l,u,p;const s=DT(t),i=new qT(`Could not resolve reference: ${s.message}`,{baseDoc:this.reference.uri,$ref:zw(e.$ref),fullPath:null!==(l=this.basePath)&&void 0!==l?l:[...FT([...n,r,e]),"$ref"],cause:s});return void(null===(u=this.options.dereference.dereferenceOpts)||void 0===u||null===(u=u.errors)||void 0===u||null===(p=u.push)||void 0===p||p.call(u,i))}}async LinkElement(){}async ExampleElement(e,t,r,s,n,i){try{return await super.ExampleElement(e,t,r,s,n,i)}catch(t){var o,a,c;const s=DT(t),i=NT(s,{baseDoc:this.reference.uri,externalValue:zw(e.externalValue),fullPath:null!==(o=this.basePath)&&void 0!==o?o:[...FT([...n,r,e]),"externalValue"]});return void(null===(a=this.options.dereference.dereferenceOpts)||void 0===a||null===(a=a.errors)||void 0===a||null===(c=a.push)||void 0===c||c.call(a,i))}}}const zT=fw[Symbol.for("nodejs.util.promisify.custom")];class HT{constructor({parameterMacro:e,modelPropertyMacro:t,mode:r,options:s,...n}){const i=[];i.push(new VT({...n,options:s})),"function"==typeof t&&i.push(new IT({modelPropertyMacro:t,options:s})),"strict"!==r&&i.push(new _T({options:s})),"function"==typeof e&&i.push(new RT({parameterMacro:e,options:s}));const o=zT(i,{nodeTypeGetter:I$});Object.assign(this,o)}}const JT=kw[Symbol.for("nodejs.util.promisify.custom")];class GT extends class extends class{name;constructor({name:e}){this.name=e}}{constructor(e){super({...null!=e?e:{},name:"openapi-3-1"})}canDereference(e){var t;return"text/plain"!==e.mediaType?Lj.includes(e.mediaType):rk(null===(t=e.parseResult)||void 0===t?void 0:t.result)}async dereference(e,t){var r;const s=cw(C$),n=null!==(r=t.dereference.refSet)&&void 0!==r?r:new Mf,i=new Mf;let o,a=n;n.has(e.uri)?o=n.find(Xd(e.uri,"uri")):(o=new sE({uri:e.uri,value:e.parseResult}),n.add(o)),t.dereference.immutable&&(n.refs.map((e=>new sE({...e,value:xw(e.value)}))).forEach((e=>i.add(e))),o=i.find((t=>t.uri===e.uri)),a=i);const c=new CT({reference:o,namespace:s,options:t}),l=await MT(a.rootRef.value,c,{keyMap:_$,nodeTypeGetter:I$});return t.dereference.immutable&&i.refs.filter((e=>e.uri.startsWith("immutable://"))).map((e=>new sE({...e,uri:e.uri.replace(/^immutable:\/\//,"")}))).forEach((e=>n.add(e))),null===t.dereference.refSet&&n.clean(),i.clean(),l}}{allowMetaPatches;parameterMacro;modelPropertyMacro;mode;ancestors;constructor({allowMetaPatches:e=!1,parameterMacro:t=null,modelPropertyMacro:r=null,mode:s="non-strict",ancestors:n=[],...i}={}){super({...i}),this.name="openapi-3-1-swagger-client",this.allowMetaPatches=e,this.parameterMacro=t,this.modelPropertyMacro=r,this.mode=s,this.ancestors=[...n]}async dereference(e,t){var r;const s=cw(C$),n=null!==(r=t.dereference.refSet)&&void 0!==r?r:new Mf,i=new Mf;let o,a=n;n.has(e.uri)?o=n.find((t=>t.uri===e.uri)):(o=new sE({uri:e.uri,value:e.parseResult}),n.add(o)),t.dereference.immutable&&(n.refs.map((e=>new sE({...e,value:xw(e.value)}))).forEach((e=>i.add(e))),o=i.find((t=>t.uri===e.uri)),a=i);const c=new HT({reference:o,namespace:s,options:t,allowMetaPatches:this.allowMetaPatches,ancestors:this.ancestors,modelPropertyMacro:this.modelPropertyMacro,mode:this.mode,parameterMacro:this.parameterMacro}),l=await JT(a.rootRef.value,c,{keyMap:_$,nodeTypeGetter:I$});return t.dereference.immutable&&i.refs.filter((e=>e.uri.startsWith("immutable://"))).map((e=>new sE({...e,uri:e.uri.replace(/^immutable:\/\//,"")}))).forEach((e=>n.add(e))),null===t.dereference.refSet&&n.clean(),i.clean(),l}}const WT=e=>{const t=zw(e.meta.get("baseURI")),r=e.meta.get("referencingElement");return new Ax({$ref:t},xw(r.meta),xw(r.attributes))},KT=async e=>{const{spec:r,timeout:s,redirects:n,requestInterceptor:i,responseInterceptor:o,pathDiscriminator:a=[],allowMetaPatches:c=!1,useCircularStructures:l=!1,skipNormalization:u=!1,parameterMacro:p=null,modelPropertyMacro:h=null,mode:d="non-strict",strategies:m}=e;try{const{cache:f}=KT,y=m.find((e=>e.match(r))),g=wf(Pf())?Pf():t,v=Dt(e),b=Af(g,v);let x;f.has(r)?x=f.get(r):(x=f$.refract(r),x.classes.push("result"),f.set(r,x));const w=new Ix([x]),E=Dj(a),j=""===E?"":`#${E}`,O=qj(E,x),S=new sE({uri:b,value:w}),P=new Mf({refs:[S]});""!==E&&(P.rootRef=void 0);const A=[new Set([O])],$=[],k=((e,t,r)=>new Jw({element:r}).transclude(e,t))(O,await(async(e,t={})=>(async(e,t)=>{let r=e,s=!1;if(!ew(e)){const t=jw(e);t.classes.push("result"),r=new Ix([t]),s=!0}const n=new Cf({uri:t.resolve.baseURI,parseResult:r,mediaType:t.parse.mediaType}),i=await qf("canDereference",[n,t],t.dereference.strategies);if(Id(i))throw new eE(n.uri);try{const{result:e}=await Nf("dereference",[n,t],i);return s?e.get(0):e}catch(e){throw new Qw(`Error while dereferencing file "${n.uri}"`,{cause:e})}})(e,Rf(Ff,t)))(O,{resolve:{baseURI:`${b}${j}`,resolvers:[new yT({timeout:s||1e4,redirects:n||10})],resolverOpts:{swaggerHTTPClientConfig:{requestInterceptor:i,responseInterceptor:o}},strategies:[new dT]},parse:{mediaType:Lj.latest(),parsers:[new bT({allowEmpty:!1,sourceMap:!1}),new xT({allowEmpty:!1,sourceMap:!1}),new gT({allowEmpty:!1,sourceMap:!1}),new vT({allowEmpty:!1,sourceMap:!1}),new hT({allowEmpty:!1,sourceMap:!1})]},dereference:{maxDepth:100,strategies:[new GT({allowMetaPatches:c,useCircularStructures:l,parameterMacro:p,modelPropertyMacro:h,mode:d,ancestors:A})],refSet:P,dereferenceOpts:{errors:$},immutable:!1,circular:l?"ignore":"replace",circularReplacer:l?Ff.dereference.circularReplacer:WT}}),x),T=u?k:y.normalize(k);return{spec:zw(T),errors:$}}catch(e){if(e instanceof Cj||e instanceof Fj)return{spec:null,errors:[]};throw e}};KT.cache=new WeakMap;const YT=e=>{if(!Gx(e))return e;const t=[U$({operationIdNormalizer:(e,t,r)=>bj({operationId:e},t,r,{v2OperationIdCompatibilityMode:!1})}),D$(),q$(),V$(),z$()];return Cw(e,t,{toolboxCreator:xk,visitorOptions:{keyMap:_$,nodeTypeGetter:I$}})},XT={name:"openapi-3-1-apidom",match:e=>Oj(e),normalize(e){if(!Ux(e)&&Fm(e)&&!e.$$normalized){const r=(t=YT,e=>{const r=f$.refract(e);r.classes.push("result");const s=t(r),n=zw(s);return KT.cache.set(n,s),zw(s)})(e);return r.$$normalized=!0,r}var t;return Ux(e)?YT(e):e},resolve:async e=>KT(e)};function ZT(e,t,r){if(!e||"object"!=typeof e||!e.paths||"object"!=typeof e.paths)return null;const{paths:s}=e;for(const n in s)for(const i in s[n]){if("PARAMETERS"===i.toUpperCase())continue;const o=s[n][i];if(!o||"object"!=typeof o)continue;const a={spec:e,pathName:n,method:i.toUpperCase(),operation:o},c=t(a);if(r&&c)return a}}function QT(e,t){return`${t.toLowerCase()}-${e}`}const{isHttpUrl:eC}=Tf,tC=()=>null,rC=function({spec:e,cb:t=tC,defaultTag:r="default",v2OperationIdCompatibilityMode:s}){const n={},i={};return ZT(e,(({pathName:o,method:a,operation:c})=>{var l;(c.tags?(l=c.tags,Array.isArray(l)?l:[l]):[r]).forEach((r=>{if("string"!=typeof r)return;i[r]=i[r]||{};const l=i[r],u=bj(c,o,a,{v2OperationIdCompatibilityMode:s}),p=t({spec:e,pathName:o,method:a,operation:c,operationId:u});if(n[u])n[u]+=1,l[`${u}${n[u]}`]=p;else if(void 0!==l[u]){const e=n[u]||1;n[u]=e+1,l[`${u}${n[u]}`]=p;const t=l[u];delete l[u],l[`${u}${e}`]=t}else l[u]=p}))})),i},sC=function(e={}){return({pathName:t,method:r,operationId:s})=>(n,i={})=>{const{requestInterceptor:o,responseInterceptor:a,userFetch:c}=e;return e.execute({spec:e.spec,requestInterceptor:o,responseInterceptor:a,userFetch:c,pathName:t,method:r,parameters:n,operationId:s,...i})}};var nC=function(e,t,r){var s=r||{},n=s.encode||aC;if("function"!=typeof n)throw new TypeError("option encode is invalid");if(!oC.test(e))throw new TypeError("argument name is invalid");var i=n(t);if(i&&!oC.test(i))throw new TypeError("argument val is invalid");var o=e+"="+i;if(null!=s.maxAge){var a=s.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");o+="; Max-Age="+Math.floor(a)}if(s.domain){if(!oC.test(s.domain))throw new TypeError("option domain is invalid");o+="; Domain="+s.domain}if(s.path){if(!oC.test(s.path))throw new TypeError("option path is invalid");o+="; Path="+s.path}if(s.expires){var c=s.expires;if(!function(e){return"[object Date]"===iC.call(e)||e instanceof Date}(c)||isNaN(c.valueOf()))throw new TypeError("option expires is invalid");o+="; Expires="+c.toUTCString()}if(s.httpOnly&&(o+="; HttpOnly"),s.secure&&(o+="; Secure"),s.partitioned&&(o+="; Partitioned"),s.priority)switch("string"==typeof s.priority?s.priority.toLowerCase():s.priority){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(s.sameSite)switch("string"==typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"strict":o+="; SameSite=Strict";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o},iC=Object.prototype.toString,oC=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function aC(e){return encodeURIComponent(e)}const cC=function(){const e=pC,t=uC,r=this,s="parser.js: Parser(): ";r.ast=void 0,r.stats=void 0,r.trace=void 0,r.callbacks=[];let n,i,o,a,c,l,u,p=0,h=0,d=0,m=0,f=0,y=new function(){this.state=e.ACTIVE,this.phraseLength=0,this.refresh=()=>{this.state=e.ACTIVE,this.phraseLength=0}};r.parse=(g,v,x,w)=>{const E=`${s}parse(): `;p=0,h=0,d=0,m=0,f=0,n=void 0,i=void 0,o=void 0,a=void 0,y.refresh(),c=void 0,l=void 0,u=void 0,a=t.stringToChars(x),n=g.rules,i=g.udts;const j=v.toLowerCase();let O;for(const e in n)if(n.hasOwnProperty(e)&&j===n[e].lower){O=n[e].index;break}if(void 0===O)throw new Error(`${E}start rule name '${startRule}' not recognized`);(()=>{const e=`${s}initializeCallbacks(): `;let t,o;for(c=[],l=[],t=0;t<n.length;t+=1)c[t]=void 0;for(t=0;t<i.length;t+=1)l[t]=void 0;const a=[];for(t=0;t<n.length;t+=1)a.push(n[t].lower);for(t=0;t<i.length;t+=1)a.push(i[t].lower);for(const s in r.callbacks)if(r.callbacks.hasOwnProperty(s)){if(t=a.indexOf(s.toLowerCase()),t<0)throw new Error(`${e}syntax callback '${s}' not a rule or udt name`);if(o=r.callbacks[s]?r.callbacks[s]:void 0,"function"!=typeof o&&void 0!==o)throw new Error(`${e}syntax callback[${s}] must be function reference or falsy)`);t<n.length?c[t]=o:l[t-n.length]=o}})(),r.trace&&r.trace.init(n,i,a),r.stats&&r.stats.init(n,i),r.ast&&r.ast.init(n,i,a),u=w,o=[{type:e.RNM,index:O}],b(0,0),o=void 0;let S=!1;switch(y.state){case e.ACTIVE:throw new Error(`${E}final state should never be 'ACTIVE'`);case e.NOMATCH:S=!1;break;case e.EMPTY:case e.MATCH:S=y.phraseLength===a.length;break;default:throw new Error("unrecognized state")}return{success:S,state:y.state,stateName:e.idName(y.state),length:a.length,matched:y.phraseLength,maxMatched:f,maxTreeDepth:d,nodeHits:m}};const g=(t,r,n,i)=>{if(r.phraseLength>n){let e=`${s}opRNM(${t.name}): callback function error: `;throw e+=`sysData.phraseLength: ${r.phraseLength}`,e+=` must be <= remaining chars: ${n}`,new Error(e)}switch(r.state){case e.ACTIVE:if(!i)throw new Error(`${s}opRNM(${t.name}): callback function return error. ACTIVE state not allowed.`);break;case e.EMPTY:r.phraseLength=0;break;case e.MATCH:0===r.phraseLength&&(r.state=e.EMPTY);break;case e.NOMATCH:r.phraseLength=0;break;default:throw new Error(`${s}opRNM(${t.name}): callback function return error. Unrecognized return state: ${r.state}`)}},v=(t,c)=>{let h,d,m;const f=o[t],g=i[f.index];y.UdtIndex=g.index,p||(m=r.ast&&r.ast.udtDefined(f.index),m&&(d=n.length+f.index,h=r.ast.getLength(),r.ast.down(d,g.name)));const v=a.length-c;l[f.index](y,a,c,u),((t,r,n)=>{if(r.phraseLength>n){let e=`${s}opUDT(${t.name}): callback function error: `;throw e+=`sysData.phraseLength: ${r.phraseLength}`,e+=` must be <= remaining chars: ${n}`,new Error(e)}switch(r.state){case e.ACTIVE:throw new Error(`${s}opUDT(${t.name}) ACTIVE state return not allowed.`);case e.EMPTY:if(!t.empty)throw new Error(`${s}opUDT(${t.name}) may not return EMPTY.`);r.phraseLength=0;break;case e.MATCH:if(0===r.phraseLength){if(!t.empty)throw new Error(`${s}opUDT(${t.name}) may not return EMPTY.`);r.state=e.EMPTY}break;case e.NOMATCH:r.phraseLength=0;break;default:throw new Error(`${s}opUDT(${t.name}): callback function return error. Unrecognized return state: ${r.state}`)}})(g,y,v),p||m&&(y.state===e.NOMATCH?r.ast.setLength(h):r.ast.up(d,g.name,c,y.phraseLength))},b=(t,i)=>{const l=`${s}opExecute(): `,x=o[t];switch(m+=1,h>d&&(d=h),h+=1,y.refresh(),r.trace&&r.trace.down(x,i),x.type){case e.ALT:((t,r)=>{const s=o[t];for(let n=0;n<s.children.length&&(b(s.children[n],r),y.state===e.NOMATCH);n+=1);})(t,i);break;case e.CAT:((t,s)=>{let n,i,a,c;const l=o[t];r.ast&&(i=r.ast.getLength()),n=!0,a=s,c=0;for(let r=0;r<l.children.length;r+=1){if(b(l.children[r],a),y.state===e.NOMATCH){n=!1;break}a+=y.phraseLength,c+=y.phraseLength}n?(y.state=0===c?e.EMPTY:e.MATCH,y.phraseLength=c):(y.state=e.NOMATCH,y.phraseLength=0,r.ast&&r.ast.setLength(i))})(t,i);break;case e.REP:((t,s)=>{let n,i,c,l;const u=o[t];if(0===u.max)return y.state=e.EMPTY,void(y.phraseLength=0);for(i=s,c=0,l=0,r.ast&&(n=r.ast.getLength());!(i>=a.length)&&(b(t+1,i),y.state!==e.NOMATCH)&&y.state!==e.EMPTY&&(l+=1,c+=y.phraseLength,i+=y.phraseLength,l!==u.max););y.state===e.EMPTY||l>=u.min?(y.state=0===c?e.EMPTY:e.MATCH,y.phraseLength=c):(y.state=e.NOMATCH,y.phraseLength=0,r.ast&&r.ast.setLength(n))})(t,i);break;case e.RNM:((t,s)=>{let i,l,h;const d=o[t],m=n[d.index],f=c[m.index];if(p||(l=r.ast&&r.ast.ruleDefined(d.index),l&&(i=r.ast.getLength(),r.ast.down(d.index,n[d.index].name))),f){const t=a.length-s;f(y,a,s,u),g(m,y,t,!0),y.state===e.ACTIVE&&(h=o,o=m.opcodes,b(0,s),o=h,f(y,a,s,u),g(m,y,t,!1))}else h=o,o=m.opcodes,b(0,s),o=h;p||l&&(y.state===e.NOMATCH?r.ast.setLength(i):r.ast.up(d.index,m.name,s,y.phraseLength))})(t,i);break;case e.TRG:((t,r)=>{const s=o[t];y.state=e.NOMATCH,r<a.length&&s.min<=a[r]&&a[r]<=s.max&&(y.state=e.MATCH,y.phraseLength=1)})(t,i);break;case e.TBS:((t,r)=>{const s=o[t],n=s.string.length;if(y.state=e.NOMATCH,r+n<=a.length){for(let e=0;e<n;e+=1)if(a[r+e]!==s.string[e])return;y.state=e.MATCH,y.phraseLength=n}})(t,i);break;case e.TLS:((t,r)=>{let s;const n=o[t];y.state=e.NOMATCH;const i=n.string.length;if(0!==i){if(r+i<=a.length){for(let e=0;e<i;e+=1)if(s=a[r+e],s>=65&&s<=90&&(s+=32),s!==n.string[e])return;y.state=e.MATCH,y.phraseLength=i}}else y.state=e.EMPTY})(t,i);break;case e.UDT:v(t,i);break;case e.AND:((t,r)=>{switch(p+=1,b(t+1,r),p-=1,y.phraseLength=0,y.state){case e.EMPTY:case e.MATCH:y.state=e.EMPTY;break;case e.NOMATCH:y.state=e.NOMATCH;break;default:throw new Error(`opAND: invalid state ${y.state}`)}})(t,i);break;case e.NOT:((t,r)=>{switch(p+=1,b(t+1,r),p-=1,y.phraseLength=0,y.state){case e.EMPTY:case e.MATCH:y.state=e.NOMATCH;break;case e.NOMATCH:y.state=e.EMPTY;break;default:throw new Error(`opNOT: invalid state ${y.state}`)}})(t,i);break;default:throw new Error(`${l}unrecognized operator`)}p||i+y.phraseLength>f&&(f=i+y.phraseLength),r.stats&&r.stats.collect(x,y),r.trace&&r.trace.up(x,y.state,i,y.phraseLength),h-=1}},lC=function(){const e=pC,t=uC,r=this;let s,n,i,o=0;const a=[],c=[],l=[];function u(e){let t="";for(;e-- >0;)t+=" ";return t}r.callbacks=[],r.init=(e,t,u)=>{let p;c.length=0,l.length=0,o=0,s=e,n=t,i=u;const h=[];for(p=0;p<s.length;p+=1)h.push(s[p].lower);for(p=0;p<n.length;p+=1)h.push(n[p].lower);for(o=s.length+n.length,p=0;p<o;p+=1)a[p]=void 0;for(const s in r.callbacks)if(r.callbacks.hasOwnProperty(s)){const e=s.toLowerCase();if(p=h.indexOf(e),p<0)throw new Error(`parser.js: Ast()): init: node '${s}' not a rule or udt name`);a[p]=r.callbacks[s]}},r.ruleDefined=e=>!!a[e],r.udtDefined=e=>!!a[s.length+e],r.down=(t,r)=>{const s=l.length;return c.push(s),l.push({name:r,thisIndex:s,thatIndex:void 0,state:e.SEM_PRE,callbackIndex:t,phraseIndex:void 0,phraseLength:void 0,stack:c.length}),s},r.up=(t,r,s,n)=>{const i=l.length,o=c.pop();return l.push({name:r,thisIndex:i,thatIndex:o,state:e.SEM_POST,callbackIndex:t,phraseIndex:s,phraseLength:n,stack:c.length}),l[o].thatIndex=i,l[o].phraseIndex=s,l[o].phraseLength=n,i},r.translate=t=>{let r,s;for(let n=0;n<l.length;n+=1)s=l[n],r=a[s.callbackIndex],r&&(s.state===e.SEM_PRE?r(e.SEM_PRE,i,s.phraseIndex,s.phraseLength,t):r&&r(e.SEM_POST,i,s.phraseIndex,s.phraseLength,t))},r.setLength=e=>{l.length=e,c.length=e>0?l[e-1].stack:0},r.getLength=()=>l.length,r.toXml=()=>{let r="",s=0;return r+='<?xml version="1.0" encoding="utf-8"?>\n',r+=`<root nodes="${l.length/2}" characters="${i.length}">\n`,r+="\x3c!-- input string --\x3e\n",r+=u(s+2),r+=t.charsToString(i),r+="\n",l.forEach((n=>{n.state===e.SEM_PRE?(s+=1,r+=u(s),r+=`<node name="${n.name}" index="${n.phraseIndex}" length="${n.phraseLength}">\n`,r+=u(s+2),r+=t.charsToString(i,n.phraseIndex,n.phraseLength),r+="\n"):(r+=u(s),r+=`</node>\x3c!-- name="${n.name}" --\x3e\n`,s-=1)})),r+="</root>\n",r}},uC={stringToChars:e=>[...e].map((e=>e.codePointAt(0))),charsToString:(e,t,r)=>{let s=e;for(;!(void 0===t||t<0);){if(void 0===r){s=e.slice(t);break}if(r<=0)return"";s=e.slice(t,t+r);break}return String.fromCodePoint(...s)}},pC={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,idName:e=>{switch(e){case pC.ALT:return"ALT";case pC.CAT:return"CAT";case pC.REP:return"REP";case pC.RNM:return"RNM";case pC.TRG:return"TRG";case pC.TBS:return"TBS";case pC.TLS:return"TLS";case pC.UDT:return"UDT";case pC.AND:return"AND";case pC.NOT:return"NOT";case pC.ACTIVE:return"ACTIVE";case pC.EMPTY:return"EMPTY";case pC.MATCH:return"MATCH";case pC.NOMATCH:return"NOMATCH";case pC.SEM_PRE:return"SEM_PRE";case pC.SEM_POST:return"SEM_POST";case pC.SEM_OK:return"SEM_OK";default:return"UNRECOGNIZED STATE"}}},hC=(e,t,r,s,n)=>{if(e===pC.SEM_PRE){if(!1===Array.isArray(n))throw new Error("parser's user data must be an array");n.push(["server-url-template",uC.charsToString(t,r,s)])}return pC.SEM_OK},dC=(e,t,r,s,n)=>{if(e===pC.SEM_PRE){if(!1===Array.isArray(n))throw new Error("parser's user data must be an array");n.push(["server-variable",uC.charsToString(t,r,s)])}return pC.SEM_OK},mC=(e,t,r,s,n)=>{if(e===pC.SEM_PRE){if(!1===Array.isArray(n))throw new Error("parser's user data must be an array");n.push(["server-variable-name",uC.charsToString(t,r,s)])}return pC.SEM_OK},fC=(e,t,r,s,n)=>{if(e===pC.SEM_PRE){if(!1===Array.isArray(n))throw new Error("parser's user data must be an array");n.push(["literals",uC.charsToString(t,r,s)])}return pC.SEM_OK},yC=new function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"server-url-template",lower:"server-url-template",index:0,isBkr:!1},this.rules[1]={name:"server-variable",lower:"server-variable",index:1,isBkr:!1},this.rules[2]={name:"server-variable-name",lower:"server-variable-name",index:2,isBkr:!1},this.rules[3]={name:"literals",lower:"literals",index:3,isBkr:!1},this.rules[4]={name:"ALPHA",lower:"alpha",index:4,isBkr:!1},this.rules[5]={name:"DIGIT",lower:"digit",index:5,isBkr:!1},this.rules[6]={name:"HEXDIG",lower:"hexdig",index:6,isBkr:!1},this.rules[7]={name:"pct-encoded",lower:"pct-encoded",index:7,isBkr:!1},this.rules[8]={name:"unreserved",lower:"unreserved",index:8,isBkr:!1},this.rules[9]={name:"sub-delims",lower:"sub-delims",index:9,isBkr:!1},this.rules[10]={name:"ucschar",lower:"ucschar",index:10,isBkr:!1},this.rules[11]={name:"iprivate",lower:"iprivate",index:11,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:3,min:1,max:1/0},this.rules[0].opcodes[1]={type:1,children:[2,3]},this.rules[0].opcodes[2]={type:4,index:3},this.rules[0].opcodes[3]={type:4,index:1},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2,3]},this.rules[1].opcodes[1]={type:7,string:[123]},this.rules[1].opcodes[2]={type:4,index:2},this.rules[1].opcodes[3]={type:7,string:[125]},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:1,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3,4,5,6]},this.rules[2].opcodes[2]={type:4,index:8},this.rules[2].opcodes[3]={type:4,index:7},this.rules[2].opcodes[4]={type:4,index:9},this.rules[2].opcodes[5]={type:7,string:[58]},this.rules[2].opcodes[6]={type:7,string:[64]},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:1,max:1/0},this.rules[3].opcodes[1]={type:1,children:[2,3,4,5,6,7,8,9,10,11,12,13,14]},this.rules[3].opcodes[2]={type:6,string:[33]},this.rules[3].opcodes[3]={type:5,min:35,max:36},this.rules[3].opcodes[4]={type:6,string:[38]},this.rules[3].opcodes[5]={type:5,min:40,max:59},this.rules[3].opcodes[6]={type:6,string:[61]},this.rules[3].opcodes[7]={type:5,min:63,max:91},this.rules[3].opcodes[8]={type:6,string:[93]},this.rules[3].opcodes[9]={type:6,string:[95]},this.rules[3].opcodes[10]={type:5,min:97,max:122},this.rules[3].opcodes[11]={type:6,string:[126]},this.rules[3].opcodes[12]={type:4,index:10},this.rules[3].opcodes[13]={type:4,index:11},this.rules[3].opcodes[14]={type:4,index:7},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:1,children:[1,2]},this.rules[4].opcodes[1]={type:5,min:65,max:90},this.rules[4].opcodes[2]={type:5,min:97,max:122},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:5,min:48,max:57},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[6].opcodes[1]={type:4,index:5},this.rules[6].opcodes[2]={type:7,string:[97]},this.rules[6].opcodes[3]={type:7,string:[98]},this.rules[6].opcodes[4]={type:7,string:[99]},this.rules[6].opcodes[5]={type:7,string:[100]},this.rules[6].opcodes[6]={type:7,string:[101]},this.rules[6].opcodes[7]={type:7,string:[102]},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:2,children:[1,2,3]},this.rules[7].opcodes[1]={type:7,string:[37]},this.rules[7].opcodes[2]={type:4,index:6},this.rules[7].opcodes[3]={type:4,index:6},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6]},this.rules[8].opcodes[1]={type:4,index:4},this.rules[8].opcodes[2]={type:4,index:5},this.rules[8].opcodes[3]={type:7,string:[45]},this.rules[8].opcodes[4]={type:7,string:[46]},this.rules[8].opcodes[5]={type:7,string:[95]},this.rules[8].opcodes[6]={type:7,string:[126]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},this.rules[9].opcodes[1]={type:7,string:[33]},this.rules[9].opcodes[2]={type:7,string:[36]},this.rules[9].opcodes[3]={type:7,string:[38]},this.rules[9].opcodes[4]={type:7,string:[39]},this.rules[9].opcodes[5]={type:7,string:[40]},this.rules[9].opcodes[6]={type:7,string:[41]},this.rules[9].opcodes[7]={type:7,string:[42]},this.rules[9].opcodes[8]={type:7,string:[43]},this.rules[9].opcodes[9]={type:7,string:[44]},this.rules[9].opcodes[10]={type:7,string:[59]},this.rules[9].opcodes[11]={type:7,string:[61]},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17]},this.rules[10].opcodes[1]={type:5,min:160,max:55295},this.rules[10].opcodes[2]={type:5,min:63744,max:64975},this.rules[10].opcodes[3]={type:5,min:65008,max:65519},this.rules[10].opcodes[4]={type:5,min:65536,max:131069},this.rules[10].opcodes[5]={type:5,min:131072,max:196605},this.rules[10].opcodes[6]={type:5,min:196608,max:262141},this.rules[10].opcodes[7]={type:5,min:262144,max:327677},this.rules[10].opcodes[8]={type:5,min:327680,max:393213},this.rules[10].opcodes[9]={type:5,min:393216,max:458749},this.rules[10].opcodes[10]={type:5,min:458752,max:524285},this.rules[10].opcodes[11]={type:5,min:524288,max:589821},this.rules[10].opcodes[12]={type:5,min:589824,max:655357},this.rules[10].opcodes[13]={type:5,min:655360,max:720893},this.rules[10].opcodes[14]={type:5,min:720896,max:786429},this.rules[10].opcodes[15]={type:5,min:786432,max:851965},this.rules[10].opcodes[16]={type:5,min:851968,max:917501},this.rules[10].opcodes[17]={type:5,min:921600,max:983037},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:1,children:[1,2,3]},this.rules[11].opcodes[1]={type:5,min:57344,max:63743},this.rules[11].opcodes[2]={type:5,min:983040,max:1048573},this.rules[11].opcodes[3]={type:5,min:1048576,max:1114109},this.toString=function(){let e="";return e+="; OpenAPI Server URL templating ABNF syntax\n",e+="server-url-template    = 1*( literals / server-variable )\n",e+='server-variable        = "{" server-variable-name "}"\n',e+='server-variable-name   = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" )\n',e+="literals               = 1*( %x21 / %x23-24 / %x26 / %x28-3B / %x3D / %x3F-5B\n",e+="                       / %x5D / %x5F / %x61-7A / %x7E / ucschar / iprivate\n",e+="                       / pct-encoded)\n",e+="                           ; any Unicode character except: CTL, SP,\n",e+='                           ;  DQUOTE, "\'", "%" (aside from pct-encoded),\n',e+='                           ;  "<", ">", "\\", "^", "`", "{", "|", "}"\n',e+="\n",e+="; Characters definitions (from RFC 6570)\n",e+="ALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\n",e+="DIGIT          =  %x30-39             ; 0-9\n",e+='HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n',e+="                 ; case-insensitive\n",e+="\n",e+='pct-encoded    =  "%" HEXDIG HEXDIG\n',e+='unreserved     =  ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+='sub-delims     =  "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='               /  "*" / "+" / "," / ";" / "="\n',e+="\n",e+="ucschar        =  %xA0-D7FF / %xF900-FDCF / %xFDF0-FFEF\n",e+="               /  %x10000-1FFFD / %x20000-2FFFD / %x30000-3FFFD\n",e+="               /  %x40000-4FFFD / %x50000-5FFFD / %x60000-6FFFD\n",e+="               /  %x70000-7FFFD / %x80000-8FFFD / %x90000-9FFFD\n",e+="               /  %xA0000-AFFFD / %xB0000-BFFFD / %xC0000-CFFFD\n",e+="               /  %xD0000-DFFFD / %xE1000-EFFFD\n",e+="\n",e+="iprivate       =  %xE000-F8FF / %xF0000-FFFFD / %x100000-10FFFD\n",'; OpenAPI Server URL templating ABNF syntax\nserver-url-template    = 1*( literals / server-variable )\nserver-variable        = "{" server-variable-name "}"\nserver-variable-name   = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" )\nliterals               = 1*( %x21 / %x23-24 / %x26 / %x28-3B / %x3D / %x3F-5B\n                       / %x5D / %x5F / %x61-7A / %x7E / ucschar / iprivate\n                       / pct-encoded)\n                           ; any Unicode character except: CTL, SP,\n                           ;  DQUOTE, "\'", "%" (aside from pct-encoded),\n                           ;  "<", ">", "\\", "^", "`", "{", "|", "}"\n\n; Characters definitions (from RFC 6570)\nALPHA          =  %x41-5A / %x61-7A   ; A-Z / a-z\nDIGIT          =  %x30-39             ; 0-9\nHEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n                 ; case-insensitive\n\npct-encoded    =  "%" HEXDIG HEXDIG\nunreserved     =  ALPHA / DIGIT / "-" / "." / "_" / "~"\nsub-delims     =  "!" / "$" / "&" / "\'" / "(" / ")"\n               /  "*" / "+" / "," / ";" / "="\n\nucschar        =  %xA0-D7FF / %xF900-FDCF / %xFDF0-FFEF\n               /  %x10000-1FFFD / %x20000-2FFFD / %x30000-3FFFD\n               /  %x40000-4FFFD / %x50000-5FFFD / %x60000-6FFFD\n               /  %x70000-7FFFD / %x80000-8FFFD / %x90000-9FFFD\n               /  %xA0000-AFFFD / %xB0000-BFFFD / %xC0000-CFFFD\n               /  %xD0000-DFFFD / %xE1000-EFFFD\n\niprivate       =  %xE000-F8FF / %xF0000-FFFFD / %x100000-10FFFD\n'}},gC=e=>{const t=new cC;return t.ast=new lC,t.ast.callbacks["server-url-template"]=hC,t.ast.callbacks["server-variable"]=dC,t.ast.callbacks["server-variable-name"]=mC,t.ast.callbacks.literals=fC,{result:t.parse(yC,"server-url-template",e),ast:t.ast}},vC=e=>(e=>{try{return"string"==typeof e&&decodeURIComponent(e)!==e}catch{return!1}})(e)?e:encodeURIComponent(e).replace(/%5B/g,"[").replace(/%5D/g,"]"),bC=["literals","server-variable-name"],xC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["slash",uC.charsToString(t,r,s)]),pC.SEM_OK),wC=(e,t,r,s,n)=>{if(e===pC.SEM_PRE){if(!1===Array.isArray(n))throw new Error("parser's user data must be an array");n.push(["path-template",uC.charsToString(t,r,s)])}return pC.SEM_OK},EC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["path",uC.charsToString(t,r,s)]),pC.SEM_OK),jC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["path-literal",uC.charsToString(t,r,s)]),pC.SEM_OK),OC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["query",uC.charsToString(t,r,s)]),pC.SEM_OK),SC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["query-marker",uC.charsToString(t,r,s)]),pC.SEM_OK),PC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["fragment",uC.charsToString(t,r,s)]),pC.SEM_OK),AC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["fragment-marker",uC.charsToString(t,r,s)]),pC.SEM_OK),$C=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["template-expression",uC.charsToString(t,r,s)]),pC.SEM_OK),kC=(e,t,r,s,n)=>(e===pC.SEM_PRE&&n.push(["template-expression-param-name",uC.charsToString(t,r,s)]),pC.SEM_OK),TC=new function(){this.grammarObject="grammarObject",this.rules=[],this.rules[0]={name:"path-template",lower:"path-template",index:0,isBkr:!1},this.rules[1]={name:"path",lower:"path",index:1,isBkr:!1},this.rules[2]={name:"path-segment",lower:"path-segment",index:2,isBkr:!1},this.rules[3]={name:"query",lower:"query",index:3,isBkr:!1},this.rules[4]={name:"query-literal",lower:"query-literal",index:4,isBkr:!1},this.rules[5]={name:"query-marker",lower:"query-marker",index:5,isBkr:!1},this.rules[6]={name:"fragment",lower:"fragment",index:6,isBkr:!1},this.rules[7]={name:"fragment-literal",lower:"fragment-literal",index:7,isBkr:!1},this.rules[8]={name:"fragment-marker",lower:"fragment-marker",index:8,isBkr:!1},this.rules[9]={name:"slash",lower:"slash",index:9,isBkr:!1},this.rules[10]={name:"path-literal",lower:"path-literal",index:10,isBkr:!1},this.rules[11]={name:"template-expression",lower:"template-expression",index:11,isBkr:!1},this.rules[12]={name:"template-expression-param-name",lower:"template-expression-param-name",index:12,isBkr:!1},this.rules[13]={name:"unreserved",lower:"unreserved",index:13,isBkr:!1},this.rules[14]={name:"pct-encoded",lower:"pct-encoded",index:14,isBkr:!1},this.rules[15]={name:"sub-delims",lower:"sub-delims",index:15,isBkr:!1},this.rules[16]={name:"ALPHA",lower:"alpha",index:16,isBkr:!1},this.rules[17]={name:"DIGIT",lower:"digit",index:17,isBkr:!1},this.rules[18]={name:"HEXDIG",lower:"hexdig",index:18,isBkr:!1},this.udts=[],this.rules[0].opcodes=[],this.rules[0].opcodes[0]={type:2,children:[1,2,6]},this.rules[0].opcodes[1]={type:4,index:1},this.rules[0].opcodes[2]={type:3,min:0,max:1},this.rules[0].opcodes[3]={type:2,children:[4,5]},this.rules[0].opcodes[4]={type:4,index:5},this.rules[0].opcodes[5]={type:4,index:3},this.rules[0].opcodes[6]={type:3,min:0,max:1},this.rules[0].opcodes[7]={type:2,children:[8,9]},this.rules[0].opcodes[8]={type:4,index:8},this.rules[0].opcodes[9]={type:4,index:6},this.rules[1].opcodes=[],this.rules[1].opcodes[0]={type:2,children:[1,2,6]},this.rules[1].opcodes[1]={type:4,index:9},this.rules[1].opcodes[2]={type:3,min:0,max:1/0},this.rules[1].opcodes[3]={type:2,children:[4,5]},this.rules[1].opcodes[4]={type:4,index:2},this.rules[1].opcodes[5]={type:4,index:9},this.rules[1].opcodes[6]={type:3,min:0,max:1},this.rules[1].opcodes[7]={type:4,index:2},this.rules[2].opcodes=[],this.rules[2].opcodes[0]={type:3,min:1,max:1/0},this.rules[2].opcodes[1]={type:1,children:[2,3]},this.rules[2].opcodes[2]={type:4,index:10},this.rules[2].opcodes[3]={type:4,index:11},this.rules[3].opcodes=[],this.rules[3].opcodes[0]={type:3,min:0,max:1/0},this.rules[3].opcodes[1]={type:4,index:4},this.rules[4].opcodes=[],this.rules[4].opcodes[0]={type:3,min:1,max:1/0},this.rules[4].opcodes[1]={type:1,children:[2,3,4,5,6,7,8,9,10]},this.rules[4].opcodes[2]={type:4,index:13},this.rules[4].opcodes[3]={type:4,index:14},this.rules[4].opcodes[4]={type:4,index:15},this.rules[4].opcodes[5]={type:7,string:[58]},this.rules[4].opcodes[6]={type:7,string:[64]},this.rules[4].opcodes[7]={type:7,string:[47]},this.rules[4].opcodes[8]={type:7,string:[63]},this.rules[4].opcodes[9]={type:7,string:[38]},this.rules[4].opcodes[10]={type:7,string:[61]},this.rules[5].opcodes=[],this.rules[5].opcodes[0]={type:7,string:[63]},this.rules[6].opcodes=[],this.rules[6].opcodes[0]={type:3,min:0,max:1/0},this.rules[6].opcodes[1]={type:4,index:7},this.rules[7].opcodes=[],this.rules[7].opcodes[0]={type:3,min:1,max:1/0},this.rules[7].opcodes[1]={type:1,children:[2,3,4,5,6,7,8]},this.rules[7].opcodes[2]={type:4,index:13},this.rules[7].opcodes[3]={type:4,index:14},this.rules[7].opcodes[4]={type:4,index:15},this.rules[7].opcodes[5]={type:7,string:[58]},this.rules[7].opcodes[6]={type:7,string:[64]},this.rules[7].opcodes[7]={type:7,string:[47]},this.rules[7].opcodes[8]={type:7,string:[63]},this.rules[8].opcodes=[],this.rules[8].opcodes[0]={type:7,string:[35]},this.rules[9].opcodes=[],this.rules[9].opcodes[0]={type:7,string:[47]},this.rules[10].opcodes=[],this.rules[10].opcodes[0]={type:3,min:1,max:1/0},this.rules[10].opcodes[1]={type:1,children:[2,3,4,5,6]},this.rules[10].opcodes[2]={type:4,index:13},this.rules[10].opcodes[3]={type:4,index:14},this.rules[10].opcodes[4]={type:4,index:15},this.rules[10].opcodes[5]={type:7,string:[58]},this.rules[10].opcodes[6]={type:7,string:[64]},this.rules[11].opcodes=[],this.rules[11].opcodes[0]={type:2,children:[1,2,3]},this.rules[11].opcodes[1]={type:7,string:[123]},this.rules[11].opcodes[2]={type:4,index:12},this.rules[11].opcodes[3]={type:7,string:[125]},this.rules[12].opcodes=[],this.rules[12].opcodes[0]={type:3,min:1,max:1/0},this.rules[12].opcodes[1]={type:1,children:[2,3,4,5,6]},this.rules[12].opcodes[2]={type:4,index:13},this.rules[12].opcodes[3]={type:4,index:14},this.rules[12].opcodes[4]={type:4,index:15},this.rules[12].opcodes[5]={type:7,string:[58]},this.rules[12].opcodes[6]={type:7,string:[64]},this.rules[13].opcodes=[],this.rules[13].opcodes[0]={type:1,children:[1,2,3,4,5,6]},this.rules[13].opcodes[1]={type:4,index:16},this.rules[13].opcodes[2]={type:4,index:17},this.rules[13].opcodes[3]={type:7,string:[45]},this.rules[13].opcodes[4]={type:7,string:[46]},this.rules[13].opcodes[5]={type:7,string:[95]},this.rules[13].opcodes[6]={type:7,string:[126]},this.rules[14].opcodes=[],this.rules[14].opcodes[0]={type:2,children:[1,2,3]},this.rules[14].opcodes[1]={type:7,string:[37]},this.rules[14].opcodes[2]={type:4,index:18},this.rules[14].opcodes[3]={type:4,index:18},this.rules[15].opcodes=[],this.rules[15].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},this.rules[15].opcodes[1]={type:7,string:[33]},this.rules[15].opcodes[2]={type:7,string:[36]},this.rules[15].opcodes[3]={type:7,string:[38]},this.rules[15].opcodes[4]={type:7,string:[39]},this.rules[15].opcodes[5]={type:7,string:[40]},this.rules[15].opcodes[6]={type:7,string:[41]},this.rules[15].opcodes[7]={type:7,string:[42]},this.rules[15].opcodes[8]={type:7,string:[43]},this.rules[15].opcodes[9]={type:7,string:[44]},this.rules[15].opcodes[10]={type:7,string:[59]},this.rules[15].opcodes[11]={type:7,string:[61]},this.rules[16].opcodes=[],this.rules[16].opcodes[0]={type:1,children:[1,2]},this.rules[16].opcodes[1]={type:5,min:65,max:90},this.rules[16].opcodes[2]={type:5,min:97,max:122},this.rules[17].opcodes=[],this.rules[17].opcodes[0]={type:5,min:48,max:57},this.rules[18].opcodes=[],this.rules[18].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},this.rules[18].opcodes[1]={type:4,index:17},this.rules[18].opcodes[2]={type:7,string:[97]},this.rules[18].opcodes[3]={type:7,string:[98]},this.rules[18].opcodes[4]={type:7,string:[99]},this.rules[18].opcodes[5]={type:7,string:[100]},this.rules[18].opcodes[6]={type:7,string:[101]},this.rules[18].opcodes[7]={type:7,string:[102]},this.toString=function(){let e="";return e+="; OpenAPI Path Templating ABNF syntax\n",e+="path-template                  = path [ query-marker query ] [ fragment-marker fragment ]\n",e+="path                           = slash *( path-segment slash ) [ path-segment ]\n",e+="path-segment                   = 1*( path-literal / template-expression )\n",e+="query                          = *( query-literal )\n",e+='query-literal                  = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" / "/" / "?" / "&" / "=" )\n',e+='query-marker                   = "?"\n',e+="fragment                       = *( fragment-literal )\n",e+='fragment-literal               = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" / "/" / "?" )\n',e+='fragment-marker                = "#"\n',e+='slash                          = "/"\n',e+='path-literal                   = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" )\n',e+='template-expression            = "{" template-expression-param-name "}"\n',e+='template-expression-param-name = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" )\n',e+="\n",e+="; Characters definitions (from RFC 3986)\n",e+='unreserved          = ALPHA / DIGIT / "-" / "." / "_" / "~"\n',e+='pct-encoded         = "%" HEXDIG HEXDIG\n',e+='sub-delims          = "!" / "$" / "&" / "\'" / "(" / ")"\n',e+='                    / "*" / "+" / "," / ";" / "="\n',e+="ALPHA               = %x41-5A / %x61-7A   ; A-Z / a-z\n",e+="DIGIT               = %x30-39            ; 0-9\n",e+='HEXDIG              = DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n','; OpenAPI Path Templating ABNF syntax\npath-template                  = path [ query-marker query ] [ fragment-marker fragment ]\npath                           = slash *( path-segment slash ) [ path-segment ]\npath-segment                   = 1*( path-literal / template-expression )\nquery                          = *( query-literal )\nquery-literal                  = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" / "/" / "?" / "&" / "=" )\nquery-marker                   = "?"\nfragment                       = *( fragment-literal )\nfragment-literal               = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" / "/" / "?" )\nfragment-marker                = "#"\nslash                          = "/"\npath-literal                   = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" )\ntemplate-expression            = "{" template-expression-param-name "}"\ntemplate-expression-param-name = 1*( unreserved / pct-encoded / sub-delims / ":" / "@" )\n\n; Characters definitions (from RFC 3986)\nunreserved          = ALPHA / DIGIT / "-" / "." / "_" / "~"\npct-encoded         = "%" HEXDIG HEXDIG\nsub-delims          = "!" / "$" / "&" / "\'" / "(" / ")"\n                    / "*" / "+" / "," / ";" / "="\nALPHA               = %x41-5A / %x61-7A   ; A-Z / a-z\nDIGIT               = %x30-39            ; 0-9\nHEXDIG              = DIGIT / "A" / "B" / "C" / "D" / "E" / "F"\n'}},CC=e=>(e=>{try{return"string"==typeof e&&decodeURIComponent(e)!==e}catch{return!1}})(e)?e:encodeURIComponent(e).replace(/%5B/g,"[").replace(/%5D/g,"]"),MC=["slash","path-literal","query-marker","query-literal","template-expression-param-name"],FC=(e,t,r={})=>{const s={encoder:CC,...r},n=(e=>{const t=new cC;return t.ast=new lC,t.ast.callbacks["path-template"]=wC,t.ast.callbacks.path=EC,t.ast.callbacks.query=OC,t.ast.callbacks["query-marker"]=SC,t.ast.callbacks.fragment=PC,t.ast.callbacks["fragment-marker"]=AC,t.ast.callbacks.slash=xC,t.ast.callbacks["path-literal"]=jC,t.ast.callbacks["template-expression"]=$C,t.ast.callbacks["template-expression-param-name"]=kC,{result:t.parse(TC,"path-template",e),ast:t.ast}})(e);if(!n.result.success)return e;const i=[];n.ast.translate(i);const o=i.filter((([e])=>MC.includes(e))).map((([e,r])=>"template-expression-param-name"===e?Object.hasOwn(t,r)?s.encoder(t[r],r):`{${r}}`:r));return o.join("")},IC={body:function({req:e,value:t}){void 0!==t&&(e.body=t)},header:function({req:e,parameter:t,value:r}){e.headers=e.headers||{},void 0!==r&&(e.headers[t.name]=r)},query:function({req:e,value:t,parameter:r}){if(e.query=e.query||{},!1===t&&"boolean"===r.type&&(t="false"),0===t&&["number","integer"].indexOf(r.type)>-1&&(t="0"),t)e.query[r.name]={collectionFormat:r.collectionFormat,value:t};else if(r.allowEmptyValue&&void 0!==t){const t=r.name;e.query[t]=e.query[t]||{},e.query[t].allowEmptyValue=!0}},path:function({req:e,value:t,parameter:r,baseURL:s}){if(void 0!==t){const n=e.url.replace(s,""),i=FC(n,{[r.name]:t});e.url=s+i}},formData:function({req:e,value:t,parameter:r}){if(!1===t&&"boolean"===r.type&&(t="false"),0===t&&["number","integer"].indexOf(r.type)>-1&&(t="0"),t)e.form=e.form||{},e.form[r.name]={collectionFormat:r.collectionFormat,value:t};else if(r.allowEmptyValue&&void 0!==t){e.form=e.form||{};const t=r.name;e.form[t]=e.form[t]||{},e.form[t].allowEmptyValue=!0}}};function _C(e,t){return t.includes("application/json")?"string"==typeof e?e:(Array.isArray(e)&&(e=e.map((e=>{try{return JSON.parse(e)}catch(t){return e}}))),JSON.stringify(e)):String(e)}const RC=["accept","authorization","content-type"],DC=Object.freeze(Object.defineProperty({__proto__:null,cookie:function({req:e,parameter:t,value:r}){e.headers=e.headers||{};const s=typeof r;if(void 0!==r&&t.content){const s=Object.keys(t.content)[0];e.headers.Cookie=`${t.name}=${_C(r,s)}`}else if(void 0!==r&&(!Array.isArray(r)||0!==r.length)){const n="object"===s&&!Array.isArray(r)&&t.explode?"":`${t.name}=`;e.headers.Cookie=n+m({key:t.name,value:r,escape:!1,style:t.style||"form",explode:void 0!==t.explode&&t.explode})}},header:function({req:e,parameter:t,value:r}){if(e.headers=e.headers||{},!(RC.indexOf(t.name.toLowerCase())>-1))if(void 0!==r&&t.content){const s=Object.keys(t.content)[0];e.headers[t.name]=_C(r,s)}else void 0===r||Array.isArray(r)&&0===r.length||(e.headers[t.name]=m({key:t.name,value:r,style:t.style||"simple",explode:void 0!==t.explode&&t.explode,escape:!1}))},path:function({req:e,value:t,parameter:r,baseURL:s}){const{name:n,style:i,explode:o,content:a}=r;if(void 0===t)return;const c=e.url.replace(s,"");let l;if(a){const e=Object.keys(a)[0];l=FC(c,{[n]:t},{encoder:t=>d(_C(t,e))})}else l=FC(c,{[n]:t},{encoder:e=>m({key:r.name,value:e,style:i||"simple",explode:o||!1,escape:"reserved"})});e.url=s+l},query:function({req:e,value:t,parameter:r}){if(e.query=e.query||{},void 0!==t&&r.content){const s=_C(t,Object.keys(r.content)[0]);if(s)e.query[r.name]=s;else if(r.allowEmptyValue){const t=r.name;e.query[t]=e.query[t]||{},e.query[t].allowEmptyValue=!0}}else if(!1===t&&(t="false"),0===t&&(t="0"),t){const{style:s,explode:n,allowReserved:i}=r;e.query[r.name]={value:t,serializationOption:{style:s,explode:n,allowReserved:i}}}else if(r.allowEmptyValue&&void 0!==t){const t=r.name;e.query[t]=e.query[t]||{},e.query[t].allowEmptyValue=!0}}},Symbol.toStringTag,{value:"Module"})),qC="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:window,{btoa:NC}=qC;const LC=e=>Array.isArray(e)?e:[],BC=e=>{try{return new URL(e)}catch{const r=new URL(e,t),s=String(e).startsWith("/")?r.pathname:r.pathname.substring(1);return{hash:r.hash,host:"",hostname:"",href:"",origin:"",password:"",pathname:s,port:"",protocol:"",search:r.search,searchParams:r.searchParams}}};class UC extends Pp{}const VC={buildRequest:zC};function zC(e){const{spec:t,operationId:r,responseContentType:s,scheme:n,requestInterceptor:i,responseInterceptor:o,contextUrl:a,userFetch:c,server:l,serverVariables:u,http:p,signal:h,serverVariableEncoder:d}=e;let{parameters:m,parameterBuilders:f}=e;const y=Sj(t);f||(f=y?DC:IC);let g={url:"",credentials:p&&p.withCredentials?"include":"same-origin",headers:{},cookies:{}};h&&(g.signal=h),i&&(g.requestInterceptor=i),o&&(g.responseInterceptor=o),c&&(g.userFetch=c);const v=function(e,t){return e&&e.paths?function(e,t){return ZT(e,t,!0)||null}(e,(({pathName:e,method:r,operation:s})=>{if(!s||"object"!=typeof s)return!1;const n=s.operationId;return[bj(s,e,r),QT(e,r),n].some((e=>e&&e===t))})):null}(t,r);if(!v)throw new UC(`Operation ${r} not found`);const{operation:b={},method:x,pathName:E}=v,j=JC({spec:t,scheme:n,contextUrl:a,server:l,serverVariables:u,pathName:E,method:x,serverVariableEncoder:d});if(g.url+=j,!r)return delete g.cookies,g;g.url+=E,g.method=`${x}`.toUpperCase(),m=m||{};const O=t.paths[E]||{};s&&(g.headers.accept=s);const S=(e=>{const t={};e.forEach((e=>{t[e.in]||(t[e.in]={}),t[e.in][e.name]=e}));const r=[];return Object.keys(t).forEach((e=>{Object.keys(t[e]).forEach((s=>{r.push(t[e][s])}))})),r})([].concat(LC(b.parameters)).concat(LC(O.parameters)));S.forEach((e=>{const r=f[e.in];let s;if("body"===e.in&&e.schema&&e.schema.properties&&(s=m),s=e&&e.name&&m[e.name],void 0===s?s=e&&e.name&&m[`${e.in}.${e.name}`]:((e,t)=>t.filter((t=>t.name===e)))(e.name,S).length>1&&console.warn(`Parameter '${e.name}' is ambiguous because the defined spec has more than one parameter with the name: '${e.name}' and the passed-in parameter values did not define an 'in' value.`),null!==s){if(void 0!==e.default&&void 0===s&&(s=e.default),void 0===s&&e.required&&!e.allowEmptyValue)throw new Error(`Required parameter ${e.name} is not provided`);if(y&&e.schema&&"object"===e.schema.type&&"string"==typeof s)try{s=JSON.parse(s)}catch(e){throw new Error("Could not parse object parameter value string as JSON")}r&&r({req:g,parameter:e,value:s,operation:b,spec:t,baseURL:j})}}));const P={...e,operation:b};if(g=y?function(e,t){const{operation:r,requestBody:s,securities:n,spec:i,attachContentTypeForEmptyPayload:o}=e;let{requestContentType:a}=e;t=function({request:e,securities:t={},operation:r={},spec:s}){var n;const i={...e},{authorized:o={}}=t,a=r.security||s.security||[],c=o&&!!Object.keys(o).length,l=(null==s||null===(n=s.components)||void 0===n?void 0:n.securitySchemes)||{};return i.headers=i.headers||{},i.query=i.query||{},Object.keys(t).length&&c&&a&&(!Array.isArray(r.security)||r.security.length)?(a.forEach((e=>{Object.keys(e).forEach((e=>{const t=o[e],r=l[e];if(!t)return;const s=t.value||t,{type:n}=r;if(t)if("apiKey"===n)"query"===r.in&&(i.query[r.name]=s),"header"===r.in&&(i.headers[r.name]=s),"cookie"===r.in&&(i.cookies[r.name]=s);else if("http"===n){if(/^basic$/i.test(r.scheme)){const e=s.username||"",t=s.password||"",r=NC(`${e}:${t}`);i.headers.Authorization=`Basic ${r}`}/^bearer$/i.test(r.scheme)&&(i.headers.Authorization=`Bearer ${s}`)}else if("oauth2"===n||"openIdConnect"===n){const e=t.token||{},s=e[r["x-tokenName"]||"access_token"];let n=e.token_type;n&&"bearer"!==n.toLowerCase()||(n="Bearer"),i.headers.Authorization=`${n} ${s}`}}))})),i):e}({request:t,securities:n,operation:r,spec:i});const c=r.requestBody||{},l=Object.keys(c.content||{}),u=a&&l.indexOf(a)>-1;if(s||o){if(a&&u)t.headers["Content-Type"]=a;else if(!a){const e=l[0];e&&(t.headers["Content-Type"]=e,a=e)}}else a&&u&&(t.headers["Content-Type"]=a);if(!e.responseContentType&&r.responses){const e=Object.entries(r.responses).filter((([e,t])=>{const r=parseInt(e,10);return r>=200&&r<300&&Fm(t.content)})).reduce(((e,[,t])=>e.concat(Object.keys(t.content))),[]);e.length>0&&(t.headers.accept=e.join(", "))}if(s)if(a){if(l.indexOf(a)>-1)if("application/x-www-form-urlencoded"===a||"multipart/form-data"===a)if("object"==typeof s){var p,h;const e=null!==(p=null===(h=c.content[a])||void 0===h?void 0:h.encoding)&&void 0!==p?p:{};t.form={},Object.keys(s).forEach((r=>{let n;try{n=JSON.parse(s[r])}catch{n=s[r]}t.form[r]={value:n,encoding:e[r]||{}}}))}else if("string"==typeof s){var d,m;const e=null!==(d=null===(m=c.content[a])||void 0===m?void 0:m.encoding)&&void 0!==d?d:{};try{t.form={};const r=JSON.parse(s);Object.entries(r).forEach((([r,s])=>{t.form[r]={value:s,encoding:e[r]||{}}}))}catch{t.form=s}}else t.form=s;else t.body=s}else t.body=s;return t}(P,g):function(e,t){const{spec:r,operation:s,securities:n,requestContentType:i,responseContentType:o,attachContentTypeForEmptyPayload:a}=e;if(t=function({request:e,securities:t={},operation:r={},spec:s}){const n={...e},{authorized:i={},specSecurity:o=[]}=t,a=r.security||o,c=i&&!!Object.keys(i).length,l=s.securityDefinitions;return n.headers=n.headers||{},n.query=n.query||{},Object.keys(t).length&&c&&a&&(!Array.isArray(r.security)||r.security.length)?(a.forEach((e=>{Object.keys(e).forEach((e=>{const t=i[e];if(!t)return;const{token:r}=t,s=t.value||t,o=l[e],{type:a}=o,c=o["x-tokenName"]||"access_token",u=r&&r[c];let p=r&&r.token_type;if(t)if("apiKey"===a){const e="query"===o.in?"query":"headers";n[e]=n[e]||{},n[e][o.name]=s}else if("basic"===a)if(s.header)n.headers.authorization=s.header;else{const e=s.username||"",t=s.password||"";s.base64=NC(`${e}:${t}`),n.headers.authorization=`Basic ${s.base64}`}else"oauth2"===a&&u&&(p=p&&"bearer"!==p.toLowerCase()?p:"Bearer",n.headers.authorization=`${p} ${u}`)}))})),n):e}({request:t,securities:n,operation:s,spec:r}),t.body||t.form||a)i?t.headers["Content-Type"]=i:Array.isArray(s.consumes)?[t.headers["Content-Type"]]=s.consumes:Array.isArray(r.consumes)?[t.headers["Content-Type"]]=r.consumes:s.parameters&&s.parameters.filter((e=>"file"===e.type)).length?t.headers["Content-Type"]="multipart/form-data":s.parameters&&s.parameters.filter((e=>"formData"===e.in)).length&&(t.headers["Content-Type"]="application/x-www-form-urlencoded");else if(i){const e=s.parameters&&s.parameters.filter((e=>"body"===e.in)).length>0,r=s.parameters&&s.parameters.filter((e=>"formData"===e.in)).length>0;(e||r)&&(t.headers["Content-Type"]=i)}return!o&&Array.isArray(s.produces)&&s.produces.length>0&&(t.headers.accept=s.produces.join(", ")),t}(P,g),g.cookies&&Object.keys(g.cookies).length){const e=Object.keys(g.cookies).reduce(((e,t)=>{const r=g.cookies[t];return e+(e?"&":"")+nC(t,r)}),"");g.headers.Cookie=e}return g.cookies&&delete g.cookies,w(g)}const HC=e=>e?e.replace(/\W/g,""):null;function JC(e){return Sj(e.spec)?function({spec:e,pathName:t,method:s,server:n,contextUrl:i,serverVariables:o={},serverVariableEncoder:a}){var c,l;let u,p=[],h="";const d=null==e||null===(c=e.paths)||void 0===c||null===(c=c[t])||void 0===c||null===(c=c[(s||"").toLowerCase()])||void 0===c?void 0:c.servers,m=null==e||null===(l=e.paths)||void 0===l||null===(l=l[t])||void 0===l?void 0:l.servers,f=null==e?void 0:e.servers;if(p=GC(d)?d:GC(m)?m:GC(f)?f:[r],n&&(u=p.find((e=>e.url===n)),u&&(h=n)),h||([u]=p,h=u.url),((e,{strict:t=!1}={})=>{try{const r=gC(e);if(!r.result.success)return!1;const s=[];r.ast.translate(s);const n=s.some((([e])=>"server-variable"===e));if(!t&&!n)try{return new URL(e,"https://vladimirgorej.com"),!0}catch{return!1}return!t||n}catch{return!1}})(h,{strict:!0})){const e=Object.entries({...u.variables}).reduce(((e,[t,r])=>(e[t]=r.default,e)),{});h=((e,t,r={})=>{const s={encoder:vC,...r},n=gC(e);if(!n.result.success)return e;const i=[];n.ast.translate(i);const o=i.filter((([e])=>bC.includes(e))).map((([e,r])=>"server-variable-name"===e?Object.hasOwn(t,r)?s.encoder(t[r],r):`{${r}}`:r));return o.join("")})(h,{...e,...o},{encoder:"function"==typeof a?a:ad})}return function(e="",t=""){const r=BC(e&&t?Af(t,e):e),s=BC(t),n=HC(r.protocol)||HC(s.protocol),i=r.host||s.host,o=r.pathname;let a;return a=n&&i?`${n}://${i+o}`:o,"/"===a[a.length-1]?a.slice(0,-1):a}(h,i)}(e):function({spec:e,scheme:t,contextUrl:r=""}){const s=BC(r),n=Array.isArray(e.schemes)?e.schemes[0]:null,i=t||n||HC(s.protocol)||"http",o=e.host||s.host||"",a=e.basePath||"";let c;return c=i&&o?`${i}://${o+a}`:a,"/"===c[c.length-1]?c.slice(0,-1):c}(e)}const GC=e=>Array.isArray(e)&&e.length>0;function WC(e,t={}){if("string"==typeof e?t.url=e:t=e,!(this instanceof WC))return new WC(t);Object.assign(this,t);const r=this.resolve().then((()=>(this.disableInterfaces||Object.assign(this,WC.makeApisTagOperation(this)),this)));return r.client=this,r}function KC(e){const t=(e=e.replace("[]","Array")).split("/");return t[0]=t[0].replace(/[^A-Za-z0-9_\-\.]+|\s+/gm,"_"),t.join("/")}WC.http=_t,WC.makeHttp=function(e,t,r){return r=r||(e=>e),t=t||(e=>e),s=>("string"==typeof s&&(s={url:s}),s=w(s),s=t(s),r(e(s)))}.bind(null,WC.http),WC.resolveStrategies={"openapi-3-1-apidom":XT,"openapi-3-0":Aj,"openapi-2-0":Pj,generic:wj},WC.resolve=$j({strategies:[WC.resolveStrategies["openapi-3-1-apidom"],WC.resolveStrategies["openapi-3-0"],WC.resolveStrategies["openapi-2-0"],WC.resolveStrategies.generic]}),WC.resolveSubtree=(e=>async(t,r,s={})=>(async(e,t,r={})=>{const{returnEntireTree:s,baseDoc:n,requestInterceptor:i,responseInterceptor:o,parameterMacro:a,modelPropertyMacro:c,useCircularStructures:l,strategies:u}=r,p={spec:e,pathDiscriminator:t,baseDoc:n,requestInterceptor:i,responseInterceptor:o,parameterMacro:a,modelPropertyMacro:c,useCircularStructures:l,strategies:u},h=u.find((t=>t.match(e))).normalize(e),d=await kj({spec:h,...p,allowMetaPatches:!0,skipNormalization:!Oj(e)});return!s&&Array.isArray(t)&&t.length&&(d.spec=t.reduce(((e,t)=>null==e?void 0:e[t]),d.spec)||null),d})(t,r,{...e,...s}))({strategies:[WC.resolveStrategies["openapi-3-1-apidom"],WC.resolveStrategies["openapi-3-0"],WC.resolveStrategies["openapi-2-0"],WC.resolveStrategies.generic]}),WC.execute=function({http:e,fetch:t,spec:r,operationId:s,pathName:n,method:i,parameters:o,securities:a,...c}){const l=e||t||_t;n&&i&&!s&&(s=QT(n,i));const u=VC.buildRequest({spec:r,operationId:s,parameters:o,securities:a,http:l,...c});return u.body&&(Fm(u.body)||Array.isArray(u.body))&&(u.body=JSON.stringify(u.body)),l(u)},WC.serializeRes=It,WC.serializeHeaders=Ft,WC.clearCache=function(){yj.refs.clearCache()},WC.makeApisTagOperation=function(e={}){const t=sC(e);return{apis:rC({v2OperationIdCompatibilityMode:e.v2OperationIdCompatibilityMode,spec:e.spec,cb:t})}},WC.buildRequest=zC,WC.helpers={opId:bj},WC.getBaseUrl=JC,WC.apidom={resolve:{resolvers:{HTTPResolverSwaggerClient:yT}},parse:{parsers:{JsonParser:gT,YamlParser:vT,OpenApiJson3_1Parser:bT,OpenApiYaml3_1Parser:xT}},dereference:{strategies:{OpenApi3_1SwaggerClientDereferenceStrategy:GT}}},WC.prototype={http:_t,execute(e){return this.applyDefaults(),WC.execute({spec:this.spec,http:this.http,securities:{authorized:this.authorizations},contextUrl:"string"==typeof this.url?this.url:void 0,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null,...e})},resolve(e={}){return WC.resolve({spec:this.spec,url:this.url,http:this.http||this.fetch,allowMetaPatches:this.allowMetaPatches,useCircularStructures:this.useCircularStructures,requestInterceptor:this.requestInterceptor||null,responseInterceptor:this.responseInterceptor||null,skipNormalization:this.skipNormalization||!1,...e}).then((e=>(this.originalSpec=this.spec,this.spec=e.spec,this.errors=e.errors,this)))}},WC.prototype.applyDefaults=function(){const{spec:e}=this,t=this.url;if(Ej(e)&&eC(t)){const r=new URL(t);e.host||(e.host=r.host),e.schemes||(e.schemes=[r.protocol.replace(":","")]),e.basePath||(e.basePath="/")}else if(Sj(e)){const t=Array.isArray(e.servers)&&0===e.servers.length;e.servers&&!t||(e.servers=[r])}};const YC={parameterTypeProperties:["format","minimum","maximum","exclusiveMinimum","exclusiveMaximum","minLength","maxLength","multipleOf","minItems","maxItems","uniqueItems","minProperties","maxProperties","additionalProperties","pattern","enum","default"],arrayProperties:["items","minItems","maxItems","uniqueItems"],httpMethods:["get","post","put","delete","patch","head","options","trace"],uniqueOnly:function(e,t,r){return r.indexOf(e)===t},createHash:function(e){let t,r=0;if(0===e.length)return r;for(let s=0;s<e.length;s++)t=e.charCodeAt(s),r=(r<<5)-r+t,r|=0;return r},sanitise:KC,sanitiseAll:function(e){return KC(e.split("/").join("_"))},camelize:function(e){return e.toLowerCase().replace(/[-_ \/\.](.)/g,((e,t)=>t.toUpperCase()))},clone:function(e){return JSON.parse(JSON.stringify(e))},circularClone:function e(t,r=null){if(r||(r=new WeakMap),Object(t)!==t||t instanceof Function)return t;if(r.has(t))return r.get(t);let s;try{s=new t.constructor}catch(e){s=Object.create(Object.getPrototypeOf(t))}return r.set(t,s),Object.assign(s,...Object.keys(t).map((s=>({[s]:e(t[s],r)}))))}};function XC(){return{depth:0,seen:new WeakMap,top:!0,combine:!1,allowRefSiblings:!1}}const ZC=function e(t,r,s,n){if(void 0===s.depth&&(s=XC()),null==t)return t;if(s.combine&&(t.allOf&&Array.isArray(t.allOf)&&1===t.allOf.length&&delete(t={...t.allOf[0],...t})?.allOf,t?.anyOf&&Array.isArray(t.anyOf)&&1===t.anyOf.length&&delete(t={...t.anyOf[0],...t})?.anyOf,t?.oneOf&&Array.isArray(t.oneOf)&&1===t.oneOf.length&&delete(t={...t.oneOf[0],...t})?.oneOf),n(t,r,s),s.seen.has(t))return t;if("object"==typeof t&&null!==t&&s.seen.set(t,!0),s.top=!1,s.depth++,void 0!==t?.items&&(s.property="items",e(t.items,t,s,n)),t?.additionalItems&&"object"==typeof t.additionalItems&&(s.property="additionalItems",e(t.additionalItems,t,s,n)),t?.additionalProperties&&"object"==typeof t.additionalProperties&&(s.property="additionalProperties",e(t.additionalProperties,t,s,n)),t?.properties)for(const i in t.properties){const r=t.properties[i];s.property=`properties/${i}`,e(r,t,s,n)}if(t?.patternProperties)for(const i in t.patternProperties){const r=t.patternProperties[i];s.property=`patternProperties/${i}`,e(r,t,s,n)}if(t?.allOf)for(const i in t.allOf){const r=t.allOf[i];s.property=`allOf/${i}`,e(r,t,s,n)}if(t?.anyOf)for(const i in t.anyOf){const r=t.anyOf[i];s.property=`anyOf/${i}`,e(r,t,s,n)}if(t?.oneOf)for(const i in t.oneOf){const r=t.oneOf[i];s.property=`oneOf/${i}`,e(r,t,s,n)}return t?.not&&(s.property="not",e(t.not,t,s,n)),s.depth--,t};function QC(e,t,r){if(t||(t={depth:0}),t.depth||(t={path:"#",depth:0,pkey:"",parent:{},payload:{},seen:new WeakMap,identity:!1,identityDetection:!1,...t}),"object"!=typeof e)return;const s=t.path;for(const n in e){if(t.key=n,t.path=`${t.path}/${encodeURIComponent(n)}`,t.identityPath=t.seen.get(e[n]),t.identity=void 0!==t.identityPath,e.hasOwnProperty(n)&&r(e,n,t),"object"==typeof e[n]&&!t.identity){t.identityDetection&&!Array.isArray(e[n])&&null!==e[n]&&t.seen.set(e[n],t.path);const s={};s.parent=e,s.path=t.path,s.depth=t.depth?t.depth+1:1,s.pkey=n,s.payload=t.payload,s.seen=t.seen,s.identity=!1,s.identityDetection=t.identityDetection,QC(e[n],s,r)}t.path=s}}let eM;function tM(e,t){for(const r in e)r.startsWith("x-")&&!r.startsWith("x-s2o")&&(t[r]=e[r])}function rM(e,t){ZC(e,{},{},((e,r)=>{!function(e){if(e["x-required"]&&Array.isArray(e["x-required"])&&(e.required||(e.required=[]),e.required=e.required.concat(e["x-required"]),delete e["x-required"]),e["x-anyOf"]&&(e.anyOf=e["x-anyOf"],delete e["x-anyOf"]),e["x-oneOf"]&&(e.oneOf=e["x-oneOf"],delete e["x-oneOf"]),e["x-not"]&&(e.not=e["x-not"],delete e["x-not"]),"boolean"==typeof e["x-nullable"]&&(e.nullable=e["x-nullable"],delete e["x-nullable"]),"object"==typeof e["x-discriminator"]&&"string"==typeof e["x-discriminator"].propertyName){e.discriminator=e["x-discriminator"],delete e["x-discriminator"];for(const t in e.discriminator.mapping){const r=e.discriminator.mapping[t];r.startsWith("#/definitions/")&&(e.discriminator.mapping[t]=r.replace("#/definitions/","#/components/schemas/"))}}}(e),function(e,t,r){if(e.nullable&&r.patches++,e.discriminator&&"string"==typeof e.discriminator&&(e.discriminator={propertyName:e.discriminator}),e.items&&Array.isArray(e.items)&&(0===e.items.length?e.items={}:1===e.items.length?e.items=e.items[0]:e.items={anyOf:e.items}),e.type&&Array.isArray(e.type)){if(r.patches++,r.warnings.push("(Patchable) schema type must not be an array"),0===e.type.length)delete e.type;else{e.oneOf||(e.oneOf=[]);for(const t of e.type){const r={};if("null"===t)e.nullable=!0;else{r.type=t;for(const t of YC.arrayProperties)void 0!==e.prop&&(r[t]=e[t],delete e[t])}r.type&&e.oneOf.push(r)}delete e.type,0===e.oneOf.length?delete e.oneOf:e.oneOf.length<2&&(e.type=e.oneOf[0].type,Object.keys(e.oneOf[0]).length>1&&(r.patches++,r.warnings.push("Lost properties from oneOf")),delete e.oneOf)}e.type&&Array.isArray(e.type)&&1===e.type.length&&(e.type=e.type[0])}e.type&&"null"===e.type&&(delete e.type,e.nullable=!0),"array"!==e.type||e.items||(e.items={}),"file"===e.type&&(e.type="string",e.format="binary"),"boolean"==typeof e.required&&(e.required&&e.name&&(void 0===t.required&&(t.required=[]),Array.isArray(t.required)&&t.required.push(e.name)),delete e.required),e.xml&&"string"==typeof e.xml.namespace&&(e.xml.namespace||delete e.xml.namespace),e.allowEmptyValue&&(delete e.allowEmptyValue,r.patches++,r.warnings.push("(Patchable): deleted schema.allowEmptyValue"))}(e,r,t)}))}function sM(e){for(const t in e)for(const r in e[t]){const s=YC.sanitise(r);r!==s&&(e[t][s]=e[t][r],delete e[t][r])}}function nM(e,t){if("basic"===e.type&&(e.type="http",e.scheme="basic"),"oauth2"===e.type){const r={};let s=e.flow;"application"===e.flow&&(s="clientCredentials"),"accessCode"===e.flow&&(s="authorizationCode"),"string"==typeof e.authorizationUrl&&(r.authorizationUrl=e.authorizationUrl.split("?")[0].trim()||"/"),"string"==typeof e.tokenUrl&&(r.tokenUrl=e.tokenUrl.split("?")[0].trim()||"/"),r.scopes=e.scopes||{},e.flows={},e.flows[s]=r,delete e.flow,delete e.authorizationUrl,delete e.tokenUrl,delete e.scopes,e.name&&(delete e.name,t.patches++,t.warnings.push("(Patchable) oauth2 securitySchemes should not have name property"))}}function iM(e){return e&&!e["x-s2o-delete"]}function oM(e,t){if(e.type&&!e.schema&&(e.schema={}),e.type&&(e.schema.type=e.type),e.items&&"array"!==e.items.type){if(e.items.collectionFormat!==e.collectionFormat)return t.errCount++,void t.errors.push({message:"Nested collectionFormats are not supported",pointer:"/.../responses/header"});delete e.items.collectionFormat}"array"===e.type?("ssv"===e.collectionFormat?(t.patches++,t.warnings.push("collectionFormat:ssv is no longer supported for headers")):"pipes"===e.collectionFormat?(t.patches++,t.warnings.push("collectionFormat:pipes is no longer supported for headers")):"multi"===e.collectionFormat?e.explode=!0:"tsv"===e.collectionFormat?(e["x-collectionFormat"]="tsv",t.patches++,t.warnings.push("collectionFormat:tsv is no longer supported")):e.style="simple",delete e.collectionFormat):e.collectionFormat&&(delete e.collectionFormat,t.patches++,t.warnings.push("(Patchable) collectionFormat is only applicable to header.type array")),delete e.type;for(const r of YC.parameterTypeProperties)void 0!==e[r]&&(e.schema[r]=e[r],delete e[r]);for(const r of YC.arrayProperties)void 0!==e[r]&&(e.schema[r]=e[r],delete e[r])}function aM(e,t,r,s,n,i,o){const a={};let c,l=!0;t&&t.consumes&&"string"==typeof t.consumes&&(t.consumes=[t.consumes],o.patches++,o.warnings.push("(Patchable) operation.consumes must be an array")),Array.isArray(i.consumes)||delete i.consumes;const u=((t?t.consumes:null)||i.consumes||[]).filter(YC.uniqueOnly);if(e&&(e.name||e.in)){"boolean"==typeof e["x-deprecated"]&&(e.deprecated=e["x-deprecated"],delete e["x-deprecated"]),void 0!==e["x-example"]&&(e.example=e["x-example"],delete e["x-example"]),"body"===e.in||e.type||(e.type="string",o.patches++,o.warnings.push("(Patchable) parameter.type is mandatory for non-body parameters")),"file"===e.type&&(e["x-s2o-originalType"]=e.type,c=e.type),null===e.description&&delete e.description;let t=e.collectionFormat;if("array"!==e.type||t||(t="csv"),t&&("array"!==e.type&&(delete e.collectionFormat,o.patches++,o.warnings.push("(Patchable) collectionFormat is only applicable to param.type array")),"csv"!==t||"query"!==e.in&&"cookie"!==e.in||(e.style="form",e.explode=!1),"csv"!==t||"path"!==e.in&&"header"!==e.in||(e.style="simple"),"ssv"===t&&("query"===e.in?e.style="spaceDelimited":o.warnings.push(`${e.name} collectionFormat:ssv is no longer supported except for in:query parameters`)),"pipes"===t&&("query"===e.in?e.style="pipeDelimited":o.warnings.push(`${e.name} collectionFormat:pipes is no longer supported except for in:query parameters`)),"multi"===t&&(e.explode=!0),"tsv"===t&&(o.warnings.push("collectionFormat:tsv is no longer supported"),e["x-collectionFormat"]="tsv"),delete e.collectionFormat),e.type&&"body"!==e.type&&"formData"!==e.in)if(e.items&&e.schema)o.warnings.push(`${e.name} parameter has array,items and schema`);else{e.schema&&o.patches++,e.schema&&"object"==typeof e.schema||(e.schema={}),e.schema.type=e.type,e.items&&(e.schema.items=e.items,delete e.items,QC(e.schema.items,null,((r,s)=>{"collectionFormat"===s&&"string"==typeof r[s]&&(t&&r[s]!==t&&o.warnings.push(`${e.name} Nested collectionFormats are not supported`),delete r[s])})));for(const t of YC.parameterTypeProperties)void 0!==e[t]&&(e.schema[t]=e[t]),delete e[t]}e.schema&&rM(e.schema,o),e["x-ms-skip-url-encoding"]&&"query"===e.in&&(e.allowReserved=!0,delete e["x-ms-skip-url-encoding"])}if(e&&"formData"===e.in){l=!1,a.content={};let t="application/x-www-form-urlencoded";if(u.length&&u.indexOf("multipart/form-data")>=0&&(t="multipart/form-data"),a.content[t]={},e.schema)a.content[t].schema=e.schema;else{a.content[t].schema={},a.content[t].schema.type="object",a.content[t].schema.properties={},a.content[t].schema.properties[e.name]={};const r=a.content[t].schema,s=a.content[t].schema.properties[e.name];e.description&&(s.description=e.description),e.example&&(s.example=e.example),e.type&&(s.type=e.type);for(const t of YC.parameterTypeProperties)void 0!==e[t]&&(s[t]=e[t]);!0===e.required&&(r.required||(r.required=[]),r.required.push(e.name),a.required=!0),void 0!==e.default&&(s.default=e.default),s.properties&&(s.properties=e.properties),e.allOf&&(s.allOf=e.allOf),"array"===e.type&&e.items&&(s.items=e.items,s.items.collectionFormat&&delete s.items.collectionFormat),"file"!==c&&"file"!==e["x-s2o-originalType"]||(s.type="string",s.format="binary"),tM(e,s)}}else e&&"file"===e.type&&(e.required&&(a.required=e.required),a.content={},a.content["application/octet-stream"]={},a.content["application/octet-stream"].schema={},a.content["application/octet-stream"].schema.type="string",a.content["application/octet-stream"].schema.format="binary",tM(e,a));if(e&&"body"===e.in){a.content={},e.name&&(a["x-s2o-name"]=(t&&t.operationId?YC.sanitiseAll(t.operationId):"")+YC.camelize(`_${e.name}`)),e.description&&(a.description=e.description),e.required&&(a.required=e.required),u.length||u.push("application/json");for(const t of u)a.content[t]={},a.content[t].schema=YC.clone(e.schema||{}),rM(a.content[t].schema,o);tM(e,a)}if(Object.keys(a).length>0&&(e["x-s2o-delete"]=!0,t))if(t.requestBody&&l){t.requestBody["x-s2o-overloaded"]=!0;const e=t.operationId||n;o.warnings.push(`Operation ${e} has multiple requestBodies`)}else t.requestBody||(t=function(e,t){const r={};for(const s of Object.keys(e))r[s]=e[s],"parameters"===s&&(r.requestBody={},t.rbname&&(r[t.rbname]=""));return r.requestBody={},r}(t,o),r[s]=t),t.requestBody.content&&t.requestBody.content["multipart/form-data"]&&t.requestBody.content["multipart/form-data"].schema&&t.requestBody.content["multipart/form-data"].schema.properties&&a.content["multipart/form-data"]&&a.content["multipart/form-data"].schema&&a.content["multipart/form-data"].schema.properties?(t.requestBody.content["multipart/form-data"].schema.properties=Object.assign(t.requestBody.content["multipart/form-data"].schema.properties,a.content["multipart/form-data"].schema.properties),t.requestBody.content["multipart/form-data"].schema.required=(t.requestBody.content["multipart/form-data"].schema.required||[]).concat(a.content["multipart/form-data"].schema.required||[]),t.requestBody.content["multipart/form-data"].schema.required.length||delete t.requestBody.content["multipart/form-data"].schema.required):t.requestBody.content&&t.requestBody.content["application/x-www-form-urlencoded"]&&t.requestBody.content["application/x-www-form-urlencoded"].schema&&t.requestBody.content["application/x-www-form-urlencoded"].schema.properties&&a.content["application/x-www-form-urlencoded"]&&a.content["application/x-www-form-urlencoded"].schema&&a.content["application/x-www-form-urlencoded"].schema.properties?(t.requestBody.content["application/x-www-form-urlencoded"].schema.properties=Object.assign(t.requestBody.content["application/x-www-form-urlencoded"].schema.properties,a.content["application/x-www-form-urlencoded"].schema.properties),t.requestBody.content["application/x-www-form-urlencoded"].schema.required=(t.requestBody.content["application/x-www-form-urlencoded"].schema.required||[]).concat(a.content["application/x-www-form-urlencoded"].schema.required||[]),t.requestBody.content["application/x-www-form-urlencoded"].schema.required.length||delete t.requestBody.content["application/x-www-form-urlencoded"].schema.required):(t.requestBody=Object.assign(t.requestBody,a),t.requestBody["x-s2o-name"]||t.operationId&&(t.requestBody["x-s2o-name"]=YC.sanitiseAll(t.operationId)));if(e&&!e["x-s2o-delete"]){delete e.type;for(const t of YC.parameterTypeProperties)delete e[t];"path"!==e.in||void 0!==e.required&&!0===e.required||(e.required=!0,o.patches++,o.warnings.push(`(Patchable) path parameters must be required:true [${e.name} in ${n}]`))}return t}function cM(e,t,r,s){if(!e)return!1;if(e.description||"object"!=typeof e||Array.isArray(e)||(s.patches++,s.warnings.push("(Patchable) response.description is mandatory")),void 0!==e.schema){rM(e.schema,s),t&&t.produces&&"string"==typeof t.produces&&(t.produces=[t.produces],s.patches++,s.warnings.push("(Patchable) operation.produces must be an array")),r.produces&&!Array.isArray(r.produces)&&delete r.produces;const n=((t?t.produces:null)||r.produces||[]).filter(YC.uniqueOnly);n.length||n.push("*/*"),e.content={};for(const t of n){if(e.content[t]={},e.content[t].schema=YC.clone(e.schema),e.examples&&e.examples[t]){const r={};r.value=e.examples[t],e.content[t].examples={},e.content[t].examples.response=r,delete e.examples[t]}"file"===e.content[t].schema.type&&(e.content[t].schema={type:"string",format:"binary"})}delete e.schema}for(const n in e.examples)e.content||(e.content={}),e.content[n]||(e.content[n]={}),e.content[n].examples={},e.content[n].examples.response={},e.content[n].examples.response.value=e.examples[n];if(delete e.examples,e.headers)for(const n in e.headers)"status code"===n.toLowerCase()?(delete e.headers[n],s.patches++,s.warnings.push('(Patchable) "Status Code" is not a valid header')):oM(e.headers[n],s)}function lM(e,t,r,s,n){for(const i in e){const o=e[i];o&&o["x-trace"]&&"object"==typeof o["x-trace"]&&(o.trace=o["x-trace"],delete o["x-trace"]),o&&o["x-summary"]&&"string"==typeof o["x-summary"]&&(o.summary=o["x-summary"],delete o["x-summary"]),o&&o["x-description"]&&"string"==typeof o["x-description"]&&(o.description=o["x-description"],delete o["x-description"]),o&&o["x-servers"]&&Array.isArray(o["x-servers"])&&(o.servers=o["x-servers"],delete o["x-servers"]);for(const e in o)if(YC.httpMethods.indexOf(e)>=0||"x-amazon-apigateway-any-method"===e){let a=o[e];if(a&&a.parameters&&Array.isArray(a.parameters)){if(o.parameters)for(const t of o.parameters)a.parameters.find((e=>e.name===t.name&&e.in===t.in))||"formData"!==t.in&&"body"!==t.in&&"file"!==t.type||(a=aM(t,a,o,e,i,n,r));for(const t of a.parameters)a=aM(t,a,o,e,`${e}: ${i}`,n,r);a.parameters&&(a.parameters=a.parameters.filter(iM))}if(a&&a.security&&sM(a.security),"object"==typeof a){if(!a.responses){const e={description:"Default response"};a.responses={default:e}}for(const e in a.responses)cM(a.responses[e],a,n,r)}if(a&&a["x-servers"]&&Array.isArray(a["x-servers"]))a.servers=a["x-servers"],delete a["x-servers"];else if(a&&a.schemes&&a.schemes.length)for(const e of a.schemes)if((!n.schemes||n.schemes.indexOf(e)<0)&&(a.servers||(a.servers=[]),Array.isArray(n.servers)))for(const t of n.servers){const e=YC.clone(t);a.servers.push(e)}if(a){if(delete a.consumes,delete a.produces,delete a.schemes,a["x-ms-examples"]){for(const e in a["x-ms-examples"]){const t=a["x-ms-examples"][e],r=YC.sanitiseAll(e);if(t.parameters)for(const s in t.parameters){const r=t.parameters[s];for(const t of(a.parameters||[]).concat(o.parameters||[]))t.name!==s||t.example||(t.examples||(t.examples={}),t.examples[e]={value:r})}if(t.responses)for(const s in t.responses){if(t.responses[s].headers)for(const e in t.responses[s].headers){const r=t.responses[s].headers[e];for(const t in a.responses[s].headers)t===e&&(a.responses[s].headers[t].example=r)}if(t.responses[s].body&&(n.components.examples[r]={value:YC.clone(t.responses[s].body)},a.responses[s]&&a.responses[s].content))for(const t in a.responses[s].content){const n=a.responses[s].content[t];n.examples||(n.examples={}),n.examples[e]={$ref:`#/components/examples/${r}`}}}}delete a["x-ms-examples"]}if(a.parameters&&0===a.parameters.length&&delete a.parameters,a.requestBody){const r=a.operationId?YC.sanitiseAll(a.operationId):YC.camelize(YC.sanitiseAll(e+i)),n=YC.sanitise(a.requestBody["x-s2o-name"]||r||"");delete a.requestBody["x-s2o-name"];const o=JSON.stringify(a.requestBody),c=YC.createHash(o);if(!s[c]){const e={};e.name=n,e.body=a.requestBody,e.refs=[],s[c]=e}const l=`#/${t}/${encodeURIComponent(i)}/${e}/requestBody`;s[c].refs.push(l)}}}if(o&&o.parameters){for(const e in o.parameters)aM(o.parameters[e],null,o,null,i,n,r);Array.isArray(o.parameters)&&(o.parameters=o.parameters.filter(iM))}}}function uM(e){return e&&e.url&&"string"==typeof e.url?(e.url=e.url.split("{{").join("{"),e.url=e.url.split("}}").join("}"),e.url.replace(/\{(.+?)\}/g,((t,r)=>{e.variables||(e.variables={}),e.variables[r]={default:"unknown"}})),e):e}function pM(e,t){void 0!==e.info&&null!==e.info||(e.info={version:"",title:""},t.patches++,t.warnings.push("(Patchable) info object is mandatory")),("object"!=typeof e.info||Array.isArray(e.info))&&(t.errCount++,t.errors.push({message:"info must be an object",pointer:"/info"})),e.info&&(void 0===e.info.title&&(t.patches++,e.info.title="",t.warnings.push({message:"(Patchable) info.title cannot be null",pointer:"/info/title",patchable:!0})),void 0===e.info.version?(t.patches++,e.info.version="",t.warnings.push("(Patchable) info.version cannot be null")):"string"!=typeof e.info.version&&(t.patches++,e.info.version=e.info.version.toString(),t.warnings.push("(Patchable) info.version must be a string")))}function hM(e,t){e.paths||(t.patches++,e.paths={},t.warnings.push("(Patchable) paths object is mandatory"))}function dM(e={}){const t={original:e,openapi:{},patches:0,warnings:[],errCount:0,errors:[]};if(e.openapi&&"string"==typeof e.openapi&&e.openapi.startsWith("3."))return t.openapi=YC.circularClone(e),pM(t.openapi,t),hM(t.openapi,t),t;if("2.0"!==e.swagger)return t.errCount++,t.errors.push({message:`Unsupported swagger/OpenAPI version: ${e.openapi?e.openapi:e.swagger}`,pointer:"/swagger"}),t;if(t.openapi=YC.circularClone(e),t.openapi.openapi="3.0.0",delete t.openapi.swagger,QC(t.openapi,{},((e,t,r)=>{null===e[t]&&!t.startsWith("x-")&&"default"!==t&&r.path.indexOf("/example")<0&&delete e[t]})),e.host)(e.schemes||[]).forEach((r=>{const s={},n=(e.basePath||"").replace(/\/$/,"");s.url=`${r?`${r}:`:""}//${e.host}${n}`,uM(s),t.openapi.servers||(t.openapi.servers=[]),t.openapi.servers.push(s)}));else if(e.basePath){const r={};r.url=e.basePath,uM(r),t.openapi.servers||(t.openapi.servers=[]),t.openapi.servers.push(r)}if(delete t.openapi.host,delete t.openapi.basePath,e["x-ms-parameterized-host"]){const r=e["x-ms-parameterized-host"],s={};s.url=r.hostTemplate+(e.basePath?e.basePath:""),s.variables={};const n=s.url.match(/\{\w+\}/g);for(const e in r.parameters){const t=r.parameters[e];e.startsWith("x-")||(delete t.required,delete t.type,delete t.in,void 0===t.default&&(t.enum?t.default=t.enum[0]:t.default="none"),t.name||(t.name=n[e].replace("{","").replace("}","")),s.variables[t.name]=t,delete t.name)}t.openapi.servers||(t.openapi.servers=[]),!1===r.useSchemePrefix?t.openapi.servers.push(s):e.schemes.forEach((e=>{t.openapi.servers.push({...s,url:`${e}://${s.url}`})})),delete t.openapi["x-ms-parameterized-host"]}return pM(t.openapi,t),hM(t.openapi,t),"string"==typeof t.openapi.consumes&&(t.openapi.consumes=[t.openapi.consumes]),"string"==typeof t.openapi.produces&&(t.openapi.produces=[t.openapi.produces]),t.openapi.components={},t.openapi["x-callbacks"]&&(t.openapi.components.callbacks=t.openapi["x-callbacks"],delete t.openapi["x-callbacks"]),t.openapi.components.examples={},t.openapi.components.headers={},t.openapi["x-links"]&&(t.openapi.components.links=t.openapi["x-links"],delete t.openapi["x-links"]),t.openapi.components.parameters=t.openapi.parameters||{},t.openapi.components.responses=t.openapi.responses||{},t.openapi.components.requestBodies={},t.openapi.components.securitySchemes=t.openapi.securityDefinitions||{},t.openapi.components.schemas=t.openapi.definitions||{},delete t.openapi.definitions,delete t.openapi.responses,delete t.openapi.parameters,delete t.openapi.securityDefinitions,function(e){const t=e.openapi,r={};eM={schemas:{}},t.security&&sM(t.security);for(const s in t.components.securitySchemes){const r=YC.sanitise(s);if(s!==r){if(t.components.securitySchemes[r])return e.errCount++,e.errors.push({message:`Duplicate sanitised securityScheme name ${r}`,pointer:`/components/securitySchemes/${r}`}),e;t.components.securitySchemes[r]=t.components.securitySchemes[s],delete t.components.securitySchemes[s]}nM(t.components.securitySchemes[r],e)}for(const s in t.components.schemas){const r=YC.sanitiseAll(s);let n=0;if(s!==r){for(;t.components.schemas[r+n];)n=n?++n:2;t.components.schemas[r+n]=t.components.schemas[s],delete t.components.schemas[s]}eM.schemas[s]=r+n,rM(t.components.schemas[`${r}${n}`],e)}for(const s in t.components.parameters){const r=YC.sanitise(s);if(s!==r){if(t.components.parameters[r])return e.errCount++,e.errors.push({message:`Duplicate sanitised parameter name ${r}`,pointer:`/components/parameters/${r}`}),e;t.components.parameters[r]=t.components.parameters[s],delete t.components.parameters[s]}aM(t.components.parameters[r],null,null,null,r,t,e)}for(const s in t.components.responses){const r=YC.sanitise(s);if(s!==r){if(t.components.responses[r])return e.errCount++,e.errors.push({message:`Duplicate sanitised response name ${r}`,pointer:`/components/responses/${r}`}),e;t.components.responses[r]=t.components.responses[s],delete t.components.responses[s]}const n=t.components.responses[r];if(cM(n,null,t,e),n.headers)for(const t in n.headers)"status code"===t.toLowerCase()?(delete n.headers[t],e.patches++,e.warnings.push('(Patchable) "Status Code" is not a valid header')):oM(n.headers[t],e)}for(const s in t.components.requestBodies){const e=t.components.requestBodies[s],n=JSON.stringify(e),i=YC.createHash(n),o={};o.name=s,o.body=e,o.refs=[],r[i]=o}lM(t.paths,"paths",e,r,t),t["x-ms-paths"]&&lM(t["x-ms-paths"],"x-ms-paths",e,r,t);for(const s in t.components.parameters)t.components.parameters[s]["x-s2o-delete"]&&delete t.components.parameters[s];return delete t.consumes,delete t.produces,delete t.schemes,t.components.requestBodies={},t.components.responses&&0===Object.keys(t.components.responses).length&&delete t.components.responses,t.components.parameters&&0===Object.keys(t.components.parameters).length&&delete t.components.parameters,t.components.examples&&0===Object.keys(t.components.examples).length&&delete t.components.examples,t.components.requestBodies&&0===Object.keys(t.components.requestBodies).length&&delete t.components.requestBodies,t.components.securitySchemes&&0===Object.keys(t.components.securitySchemes).length&&delete t.components.securitySchemes,t.components.headers&&0===Object.keys(t.components.headers).length&&delete t.components.headers,t.components.schemas&&0===Object.keys(t.components.schemas).length&&delete t.components.schemas,t.components&&0===Object.keys(t.components).length&&delete t.components,e}(t)}function mM(e){return e.ok&&e.text&&e.parseError&&"YAMLException"===e.parseError.name&&(!e.headers["content-type"]||e.headers["content-type"].match("text/plain"))&&(e.body=e.text),e}return{convertObj:dM,resolve:function(e){return new Promise((async t=>{try{const r=await WC.resolve(e,mM);if(r.errors&&r.errors.length>0)t(r);else{r.spec.openapi&&(r.resolvedSpec=r.spec,t(r));const e=dM(r.spec);e.errors&&e.errors.length>0&&(Array.isArray(r.errors)?r.errors.concat(r.errors):r.errors=e.errors),e.warnings&&e.warnings.length>0&&(r.warnings=e.warnings),r.resolvedSpec=r.spec,r.spec=e.openapi,t(r)}}catch(e){t(e)}}))}}}));
